import{r as l,j as e}from"./main-UcTpa4fi.js";/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yt="popstate";function xr(t={}){function a(n,i){let{pathname:o="/",search:c="",hash:d=""}=De(n.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),It("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){let o=n.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let d=n.location.href,u=d.indexOf("#");c=u===-1?d:d.slice(0,u)}return c+"#"+(typeof i=="string"?i:Ze(i))}function s(n,i){xe(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return mr(a,r,s,t)}function G(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function xe(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function pr(){return Math.random().toString(36).substring(2,10)}function qt(t,a){return{usr:t.state,key:t.key,idx:a}}function It(t,a,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?De(a):a,state:r,key:a&&a.key||s||pr()}}function Ze({pathname:t="/",search:a="",hash:r=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function De(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(a.search=t.substring(s),t=t.substring(0,s)),t&&(a.pathname=t)}return a}function mr(t,a,r,s={}){let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,c="POP",d=null,u=x();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function x(){return(o.state||{idx:null}).idx}function p(){c="POP";let v=x(),N=v==null?null:v-u;u=v,d&&d({action:c,location:b.location,delta:N})}function m(v,N){c="PUSH";let f=It(b.location,v,N);r&&r(f,v),u=x()+1;let w=qt(f,u),j=b.createHref(f);try{o.pushState(w,"",j)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;n.location.assign(j)}i&&d&&d({action:c,location:b.location,delta:1})}function h(v,N){c="REPLACE";let f=It(b.location,v,N);r&&r(f,v),u=x();let w=qt(f,u),j=b.createHref(f);o.replaceState(w,"",j),i&&d&&d({action:c,location:b.location,delta:0})}function y(v){return gr(v)}let b={get action(){return c},get location(){return t(n,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(Yt,p),d=v,()=>{n.removeEventListener(Yt,p),d=null}},createHref(v){return a(n,v)},createURL:y,encodeLocation(v){let N=y(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:h,go(v){return o.go(v)}};return b}function gr(t,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),G(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ze(t);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Na(t,a,r="/"){return fr(t,a,r,!1)}function fr(t,a,r,s){let n=typeof a=="string"?De(a):a,i=ke(n.pathname||"/",r);if(i==null)return null;let o=ka(t);br(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=Ar(i);c=Er(o[d],u,s)}return c}function ka(t,a=[],r=[],s="",n=!1){let i=(o,c,d=n,u)=>{let x={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&d)return;G(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let p=Ne([s,x.relativePath]),m=r.concat(x);o.children&&o.children.length>0&&(G(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ka(o.children,a,m,p,d)),!(o.path==null&&!o.index)&&a.push({path:p,score:Sr(p,o.index),routesMeta:m})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let u of Sa(o.path))i(o,c,!0,u)}),a}function Sa(t){let a=t.split("/");if(a.length===0)return[];let[r,...s]=a,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=Sa(s.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function br(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:Cr(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var vr=/^:[\w-]+$/,yr=3,wr=2,jr=1,Nr=10,kr=-2,Kt=t=>t==="*";function Sr(t,a){let r=t.split("/"),s=r.length;return r.some(Kt)&&(s+=kr),a&&(s+=wr),r.filter(n=>!Kt(n)).reduce((n,i)=>n+(vr.test(i)?yr:i===""?jr:Nr),s)}function Cr(t,a){return t.length===a.length&&t.slice(0,-1).every((s,n)=>s===a[n])?t[t.length-1]-a[a.length-1]:0}function Er(t,a,r=!1){let{routesMeta:s}=t,n={},i="/",o=[];for(let c=0;c<s.length;++c){let d=s[c],u=c===s.length-1,x=i==="/"?a:a.slice(i.length)||"/",p=gt({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},x),m=d.route;if(!p&&u&&r&&!s[s.length-1].route.index&&(p=gt({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},x)),!p)return null;Object.assign(n,p.params),o.push({params:n,pathname:Ne([i,p.pathname]),pathnameBase:Lr(Ne([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Ne([i,p.pathnameBase]))}return o}function gt(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=Rr(t.path,t.caseSensitive,t.end),n=a.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:s.reduce((u,{paramName:x,isOptional:p},m)=>{if(x==="*"){let y=c[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const h=c[m];return p&&!h?u[x]=void 0:u[x]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Rr(t,a=!1,r=!0){xe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,a?void 0:"i"),s]}function Ar(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return xe(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function ke(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}var Ir=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Tr(t,a="/"){let{pathname:r,search:s="",hash:n=""}=typeof t=="string"?De(t):t,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=Jt(r.substring(1),"/"):i=Jt(r,a)):i=a,{pathname:i,search:Or(s),hash:Pr(n)}}function Jt(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Ct(t,a,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _r(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function _t(t){let a=_r(t);return a.map((r,s)=>s===a.length-1?r.pathname:r.pathnameBase)}function Lt(t,a,r,s=!1){let n;typeof t=="string"?n=De(t):(n={...t},G(!n.pathname||!n.pathname.includes("?"),Ct("?","pathname","search",n)),G(!n.pathname||!n.pathname.includes("#"),Ct("#","pathname","hash",n)),G(!n.search||!n.search.includes("#"),Ct("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,c;if(o==null)c=r;else{let p=a.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;n.pathname=m.join("/")}c=p>=0?a[p]:"/"}let d=Tr(n,c),u=o&&o!=="/"&&o.endsWith("/"),x=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||x)&&(d.pathname+="/"),d}var Ne=t=>t.join("/").replace(/\/\/+/g,"/"),Lr=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Or=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pr=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Mr=class{constructor(t,a,r,s=!1){this.status=t,this.statusText=a||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Dr(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $r(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ca=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ea(t,a){let r=t;if(typeof r!="string"||!Ir.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,n=!1;if(Ca)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=ke(o.pathname,a);o.origin===i.origin&&c!=null?r=c+o.search+o.hash:n=!0}catch{xe(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:n,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ra=["POST","PUT","PATCH","DELETE"];new Set(Ra);var Ur=["GET",...Ra];new Set(Ur);var We=l.createContext(null);We.displayName="DataRouter";var ft=l.createContext(null);ft.displayName="DataRouterState";var Fr=l.createContext(!1),Aa=l.createContext({isTransitioning:!1});Aa.displayName="ViewTransition";var Br=l.createContext(new Map);Br.displayName="Fetchers";var Hr=l.createContext(null);Hr.displayName="Await";var oe=l.createContext(null);oe.displayName="Navigation";var rt=l.createContext(null);rt.displayName="Location";var me=l.createContext({outlet:null,matches:[],isDataRoute:!1});me.displayName="Route";var Ot=l.createContext(null);Ot.displayName="RouteError";var Ia="REACT_ROUTER_ERROR",Gr="REDIRECT",zr="ROUTE_ERROR_RESPONSE";function Wr(t){if(t.startsWith(`${Ia}:${Gr}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Vr(t){if(t.startsWith(`${Ia}:${zr}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Mr(a.status,a.statusText,a.data)}catch{}}function Yr(t,{relative:a}={}){G(Ve(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=l.useContext(oe),{hash:n,pathname:i,search:o}=st(t,{relative:a}),c=i;return r!=="/"&&(c=i==="/"?r:Ne([r,i])),s.createHref({pathname:c,search:o,hash:n})}function Ve(){return l.useContext(rt)!=null}function Se(){return G(Ve(),"useLocation() may be used only in the context of a <Router> component."),l.useContext(rt).location}var Ta="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _a(t){l.useContext(oe).static||l.useLayoutEffect(t)}function $e(){let{isDataRoute:t}=l.useContext(me);return t?os():qr()}function qr(){G(Ve(),"useNavigate() may be used only in the context of a <Router> component.");let t=l.useContext(We),{basename:a,navigator:r}=l.useContext(oe),{matches:s}=l.useContext(me),{pathname:n}=Se(),i=JSON.stringify(_t(s)),o=l.useRef(!1);return _a(()=>{o.current=!0}),l.useCallback((d,u={})=>{if(xe(o.current,Ta),!o.current)return;if(typeof d=="number"){r.go(d);return}let x=Lt(d,JSON.parse(i),n,u.relative==="path");t==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Ne([a,x.pathname])),(u.replace?r.replace:r.push)(x,u.state,u)},[a,r,i,n,t])}l.createContext(null);function Kr(){let{matches:t}=l.useContext(me),a=t[t.length-1];return a?a.params:{}}function st(t,{relative:a}={}){let{matches:r}=l.useContext(me),{pathname:s}=Se(),n=JSON.stringify(_t(r));return l.useMemo(()=>Lt(t,JSON.parse(n),s,a==="path"),[t,n,s,a])}function Jr(t,a){return La(t,a)}function La(t,a,r,s,n){var f;G(Ve(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=l.useContext(oe),{matches:o}=l.useContext(me),c=o[o.length-1],d=c?c.params:{},u=c?c.pathname:"/",x=c?c.pathnameBase:"/",p=c&&c.route;{let w=p&&p.path||"";Pa(u,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=Se(),h;if(a){let w=typeof a=="string"?De(a):a;G(x==="/"||((f=w.pathname)==null?void 0:f.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=m;let y=h.pathname||"/",b=y;if(x!=="/"){let w=x.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Na(t,{pathname:b});xe(p||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),xe(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=ts(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Ne([x,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?x:Ne([x,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,s,n);return a&&N?l.createElement(rt.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},N):N}function Xr(){let t=is(),a=Dr(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=l.createElement(l.Fragment,null,l.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",l.createElement("code",{style:i},"ErrorBoundary")," or"," ",l.createElement("code",{style:i},"errorElement")," prop on your route.")),l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},a),r?l.createElement("pre",{style:n},r):null,o)}var Zr=l.createElement(Xr,null),Oa=class extends l.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=Vr(t.digest);r&&(t=r)}let a=t!==void 0?l.createElement(me.Provider,{value:this.props.routeContext},l.createElement(Ot.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?l.createElement(Qr,{error:t},a):a}};Oa.contextType=Fr;var Et=new WeakMap;function Qr({children:t,error:a}){let{basename:r}=l.useContext(oe);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=Wr(a.digest);if(s){let n=Et.get(a);if(n)throw n;let i=Ea(s.location,r);if(Ca&&!Et.get(a))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw Et.set(a,o),o}return l.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function es({routeContext:t,match:a,children:r}){let s=l.useContext(We);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),l.createElement(me.Provider,{value:t},r)}function ts(t,a=[],r=null,s=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let x=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);G(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,x+1))}let c=!1,d=-1;if(r)for(let x=0;x<i.length;x++){let p=i[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=x),p.route.id){let{loaderData:m,errors:h}=r,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!h||h[p.route.id]===void 0);if(p.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let u=r&&s?(x,p)=>{var m,h;s(x,{location:r.location,params:((h=(m=r.matches)==null?void 0:m[0])==null?void 0:h.params)??{},unstable_pattern:$r(r.matches),errorInfo:p})}:void 0;return i.reduceRight((x,p,m)=>{let h,y=!1,b=null,v=null;r&&(h=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||Zr,c&&(d<0&&m===0?(Pa("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):d===m&&(y=!0,v=p.route.hydrateFallbackElement||null)));let N=a.concat(i.slice(0,m+1)),f=()=>{let w;return h?w=b:y?w=v:p.route.Component?w=l.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=x,l.createElement(es,{match:p,routeContext:{outlet:x,matches:N,isDataRoute:r!=null},children:w})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?l.createElement(Oa,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:f(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:u}):f()},null)}function Pt(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function as(t){let a=l.useContext(We);return G(a,Pt(t)),a}function rs(t){let a=l.useContext(ft);return G(a,Pt(t)),a}function ss(t){let a=l.useContext(me);return G(a,Pt(t)),a}function Mt(t){let a=ss(t),r=a.matches[a.matches.length-1];return G(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ns(){return Mt("useRouteId")}function is(){var s;let t=l.useContext(Ot),a=rs("useRouteError"),r=Mt("useRouteError");return t!==void 0?t:(s=a.errors)==null?void 0:s[r]}function os(){let{router:t}=as("useNavigate"),a=Mt("useNavigate"),r=l.useRef(!1);return _a(()=>{r.current=!0}),l.useCallback(async(n,i={})=>{xe(r.current,Ta),r.current&&(typeof n=="number"?await t.navigate(n):await t.navigate(n,{fromRouteId:a,...i}))},[t,a])}var Xt={};function Pa(t,a,r){!a&&!Xt[t]&&(Xt[t]=!0,xe(!1,r))}l.memo(ls);function ls({routes:t,future:a,state:r,onError:s}){return La(t,void 0,r,s,a)}function cs({to:t,replace:a,state:r,relative:s}){G(Ve(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=l.useContext(oe);xe(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=l.useContext(me),{pathname:o}=Se(),c=$e(),d=Lt(t,_t(i),o,s==="path"),u=JSON.stringify(d);return l.useEffect(()=>{c(JSON.parse(u),{replace:a,state:r,relative:s})},[c,u,s,a,r]),null}function V(t){G(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ds({basename:t="/",children:a=null,location:r,navigationType:s="POP",navigator:n,static:i=!1,unstable_useTransitions:o}){G(!Ve(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=l.useMemo(()=>({basename:c,navigator:n,static:i,unstable_useTransitions:o,future:{}}),[c,n,i,o]);typeof r=="string"&&(r=De(r));let{pathname:u="/",search:x="",hash:p="",state:m=null,key:h="default"}=r,y=l.useMemo(()=>{let b=ke(u,c);return b==null?null:{location:{pathname:b,search:x,hash:p,state:m,key:h},navigationType:s}},[c,u,x,p,m,h,s]);return xe(y!=null,`<Router basename="${c}"> is not able to match the URL "${u}${x}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:l.createElement(oe.Provider,{value:d},l.createElement(rt.Provider,{children:a,value:y}))}function hs({children:t,location:a}){return Jr(Tt(t),a)}function Tt(t,a=[]){let r=[];return l.Children.forEach(t,(s,n)=>{if(!l.isValidElement(s))return;let i=[...a,n];if(s.type===l.Fragment){r.push.apply(r,Tt(s.props.children,i));return}G(s.type===V,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),G(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Tt(s.props.children,i)),r.push(o)}),r}var xt="get",pt="application/x-www-form-urlencoded";function bt(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function us(t){return bt(t)&&t.tagName.toLowerCase()==="button"}function xs(t){return bt(t)&&t.tagName.toLowerCase()==="form"}function ps(t){return bt(t)&&t.tagName.toLowerCase()==="input"}function ms(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gs(t,a){return t.button===0&&(!a||a==="_self")&&!ms(t)}var ut=null;function fs(){if(ut===null)try{new FormData(document.createElement("form"),0),ut=!1}catch{ut=!0}return ut}var bs=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rt(t){return t!=null&&!bs.has(t)?(xe(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pt}"`),null):t}function vs(t,a){let r,s,n,i,o;if(xs(t)){let c=t.getAttribute("action");s=c?ke(c,a):null,r=t.getAttribute("method")||xt,n=Rt(t.getAttribute("enctype"))||pt,i=new FormData(t)}else if(us(t)||ps(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(s=d?ke(d,a):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||xt,n=Rt(t.getAttribute("formenctype"))||Rt(c.getAttribute("enctype"))||pt,i=new FormData(c,t),!fs()){let{name:u,type:x,value:p}=t;if(x==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,p)}}else{if(bt(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xt,s=null,n=pt,o=t}return i&&n==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:n,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function ys(t,a,r,s){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?n.pathname.endsWith("/")?n.pathname=`${n.pathname}_.${s}`:n.pathname=`${n.pathname}.${s}`:n.pathname==="/"?n.pathname=`_root.${s}`:a&&ke(n.pathname,a)==="/"?n.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function ws(t,a){if(t.id in a)return a[t.id];try{let r=await import(t.module);return a[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function js(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ns(t,a,r){let s=await Promise.all(t.map(async n=>{let i=a.routes[n.route.id];if(i){let o=await ws(i,r);return o.links?o.links():[]}return[]}));return Es(s.flat(1).filter(js).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function Zt(t,a,r,s,n,i){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,c=(d,u)=>{var x;return r[u].pathname!==d.pathname||((x=r[u].route.path)==null?void 0:x.endsWith("*"))&&r[u].params["*"]!==d.params["*"]};return i==="assets"?a.filter((d,u)=>o(d,u)||c(d,u)):i==="data"?a.filter((d,u)=>{var p;let x=s.routes[d.route.id];if(!x||!x.hasLoader)return!1;if(o(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ks(t,a,{includeHydrateFallback:r}={}){return Ss(t.map(s=>{let n=a.routes[s.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Ss(t){return[...new Set(t)]}function Cs(t){let a={},r=Object.keys(t).sort();for(let s of r)a[s]=t[s];return a}function Es(t,a){let r=new Set;return new Set(a),t.reduce((s,n)=>{let i=JSON.stringify(Cs(n));return r.has(i)||(r.add(i),s.push({key:i,link:n})),s},[])}function Ma(){let t=l.useContext(We);return Dt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Rs(){let t=l.useContext(ft);return Dt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $t=l.createContext(void 0);$t.displayName="FrameworkContext";function Da(){let t=l.useContext($t);return Dt(t,"You must render this element inside a <HydratedRouter> element"),t}function As(t,a){let r=l.useContext($t),[s,n]=l.useState(!1),[i,o]=l.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:x,onTouchStart:p}=a,m=l.useRef(null);l.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=N=>{N.forEach(f=>{o(f.isIntersecting)})},v=new IntersectionObserver(b,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[t]),l.useEffect(()=>{if(s){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[s]);let h=()=>{n(!0)},y=()=>{n(!1),o(!1)};return r?t!=="intent"?[i,m,{}]:[i,m,{onFocus:Je(c,h),onBlur:Je(d,y),onMouseEnter:Je(u,h),onMouseLeave:Je(x,y),onTouchStart:Je(p,h)}]:[!1,m,{}]}function Je(t,a){return r=>{t&&t(r),r.defaultPrevented||a(r)}}function Is({page:t,...a}){let{router:r}=Ma(),s=l.useMemo(()=>Na(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?l.createElement(_s,{page:t,matches:s,...a}):null}function Ts(t){let{manifest:a,routeModules:r}=Da(),[s,n]=l.useState([]);return l.useEffect(()=>{let i=!1;return Ns(t,a,r).then(o=>{i||n(o)}),()=>{i=!0}},[t,a,r]),s}function _s({page:t,matches:a,...r}){let s=Se(),{future:n,manifest:i,routeModules:o}=Da(),{basename:c}=Ma(),{loaderData:d,matches:u}=Rs(),x=l.useMemo(()=>Zt(t,a,u,i,s,"data"),[t,a,u,i,s]),p=l.useMemo(()=>Zt(t,a,u,i,s,"assets"),[t,a,u,i,s]),m=l.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,v=!1;if(a.forEach(f=>{var j;let w=i.routes[f.route.id];!w||!w.hasLoader||(!x.some(g=>g.route.id===f.route.id)&&f.route.id in d&&((j=o[f.route.id])!=null&&j.shouldRevalidate)||w.hasClientLoader?v=!0:b.add(f.route.id))}),b.size===0)return[];let N=ys(t,c,n.unstable_trailingSlashAwareDataRequests,"data");return v&&b.size>0&&N.searchParams.set("_routes",a.filter(f=>b.has(f.route.id)).map(f=>f.route.id).join(",")),[N.pathname+N.search]},[c,n.unstable_trailingSlashAwareDataRequests,d,s,i,x,a,t,o]),h=l.useMemo(()=>ks(p,i),[p,i]),y=Ts(p);return l.createElement(l.Fragment,null,m.map(b=>l.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),h.map(b=>l.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),y.map(({key:b,link:v})=>l.createElement("link",{key:b,nonce:r.nonce,...v,crossOrigin:v.crossOrigin??r.crossOrigin})))}function Ls(...t){return a=>{t.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Os=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Os&&(window.__reactRouterVersion="7.13.0")}catch{}function Ps({basename:t,children:a,unstable_useTransitions:r,window:s}){let n=l.useRef();n.current==null&&(n.current=xr({window:s,v5Compat:!0}));let i=n.current,[o,c]=l.useState({action:i.action,location:i.location}),d=l.useCallback(u=>{r===!1?c(u):l.startTransition(()=>c(u))},[r]);return l.useLayoutEffect(()=>i.listen(d),[i,d]),l.createElement(ds,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var $a=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I=l.forwardRef(function({onClick:a,discover:r="render",prefetch:s="none",relative:n,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:x,viewTransition:p,unstable_defaultShouldRevalidate:m,...h},y){let{basename:b,unstable_useTransitions:v}=l.useContext(oe),N=typeof u=="string"&&$a.test(u),f=Ea(u,b);u=f.to;let w=Yr(u,{relative:n}),[j,g,T]=As(s,h),_=Us(u,{replace:o,state:c,target:d,preventScrollReset:x,relative:n,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:v});function M(Z){a&&a(Z),Z.defaultPrevented||_(Z)}let Y=l.createElement("a",{...h,...T,href:f.absoluteURL||w,onClick:f.isExternal||i?a:M,ref:Ls(y,g),target:d,"data-discover":!N&&r==="render"?"true":void 0});return j&&!N?l.createElement(l.Fragment,null,Y,l.createElement(Is,{page:w})):Y});I.displayName="Link";var Ms=l.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:s="",end:n=!1,style:i,to:o,viewTransition:c,children:d,...u},x){let p=st(o,{relative:u.relative}),m=Se(),h=l.useContext(ft),{navigator:y,basename:b}=l.useContext(oe),v=h!=null&&zs(p)&&c===!0,N=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,f=m.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(f=f.toLowerCase(),w=w?w.toLowerCase():null,N=N.toLowerCase()),w&&b&&(w=ke(w,b)||w);const j=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let g=f===N||!n&&f.startsWith(N)&&f.charAt(j)==="/",T=w!=null&&(w===N||!n&&w.startsWith(N)&&w.charAt(N.length)==="/"),_={isActive:g,isPending:T,isTransitioning:v},M=g?a:void 0,Y;typeof s=="function"?Y=s(_):Y=[s,g?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let Z=typeof i=="function"?i(_):i;return l.createElement(I,{...u,"aria-current":M,className:Y,ref:x,style:Z,to:o,viewTransition:c},typeof d=="function"?d(_):d)});Ms.displayName="NavLink";var Ds=l.forwardRef(({discover:t="render",fetcherKey:a,navigate:r,reloadDocument:s,replace:n,state:i,method:o=xt,action:c,onSubmit:d,relative:u,preventScrollReset:x,viewTransition:p,unstable_defaultShouldRevalidate:m,...h},y)=>{let{unstable_useTransitions:b}=l.useContext(oe),v=Hs(),N=Gs(c,{relative:u}),f=o.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&$a.test(c),j=g=>{if(d&&d(g),g.defaultPrevented)return;g.preventDefault();let T=g.nativeEvent.submitter,_=(T==null?void 0:T.getAttribute("formmethod"))||o,M=()=>v(T||g.currentTarget,{fetcherKey:a,method:_,navigate:r,replace:n,state:i,relative:u,preventScrollReset:x,viewTransition:p,unstable_defaultShouldRevalidate:m});b&&r!==!1?l.startTransition(()=>M()):M()};return l.createElement("form",{ref:y,method:f,action:N,onSubmit:s?d:j,...h,"data-discover":!w&&t==="render"?"true":void 0})});Ds.displayName="Form";function $s(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ua(t){let a=l.useContext(We);return G(a,$s(t)),a}function Us(t,{target:a,replace:r,state:s,preventScrollReset:n,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let u=$e(),x=Se(),p=st(t,{relative:i});return l.useCallback(m=>{if(gs(m,a)){m.preventDefault();let h=r!==void 0?r:Ze(x)===Ze(p),y=()=>u(t,{replace:h,state:s,preventScrollReset:n,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});d?l.startTransition(()=>y()):y()}},[x,u,p,r,s,a,t,n,i,o,c,d])}var Fs=0,Bs=()=>`__${String(++Fs)}__`;function Hs(){let{router:t}=Ua("useSubmit"),{basename:a}=l.useContext(oe),r=ns(),s=t.fetch,n=t.navigate;return l.useCallback(async(i,o={})=>{let{action:c,method:d,encType:u,formData:x,body:p}=vs(i,a);if(o.navigate===!1){let m=o.fetcherKey||Bs();await s(m,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:x,body:p,formMethod:o.method||d,formEncType:o.encType||u,flushSync:o.flushSync})}else await n(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:x,body:p,formMethod:o.method||d,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,n,a,r])}function Gs(t,{relative:a}={}){let{basename:r}=l.useContext(oe),s=l.useContext(me);G(s,"useFormAction must be used inside a RouteContext");let[n]=s.matches.slice(-1),i={...st(t||".",{relative:a})},o=Se();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(x=>x==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let x=c.toString();i.search=x?`?${x}`:""}}return(!t||t===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ne([r,i.pathname])),Ze(i)}function zs(t,{relative:a}={}){let r=l.useContext(Aa);G(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ua("useViewTransitionState"),n=st(t,{relative:a});if(!r.isTransitioning)return!1;let i=ke(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=ke(r.nextLocation.pathname,s)||r.nextLocation.pathname;return gt(n.pathname,o)!=null||gt(n.pathname,i)!=null}const Ut=({variant:t="light",className:a=""})=>{const r=t==="light"?"#ffffff":"#000000",s=t==="light"?"#050505":"#ffffff";return e.jsx("div",{className:`flex flex-col items-center justify-center text-center ${a}`,children:e.jsxs("svg",{viewBox:"0 0 512 512",className:"w-full h-full overflow-visible",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",shapeRendering:"geometricPrecision",children:[e.jsxs("defs",{children:[e.jsx("clipPath",{id:"aca-icon-clip",children:e.jsx("path",{d:"m154.63 39.699h71.234v140.22h-71.234z"})}),e.jsxs("linearGradient",{id:"living-amber-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"var(--accent)"}),e.jsx("stop",{offset:"100%",stopColor:"var(--accent-dark)"})]}),e.jsxs("filter",{id:"aca-logo-glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[e.jsx("feGaussianBlur",{stdDeviation:"1",result:"blur"}),e.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),e.jsxs("g",{transform:"matrix(1 0 0 1 60 60)",filter:"url(#aca-logo-glow)",children:[e.jsxs("g",{fill:r,children:[e.jsx("g",{transform:"translate(34.171 247.02)",children:e.jsx("path",{d:"m29.906 0.85938c-5.1055 0-9.7188-1.1094-13.844-3.3281s-7.3711-5.2891-9.7344-9.2188c-2.3555-3.9375-3.5312-8.3828-3.5312-13.344 0-4.957 1.1758-9.4062 3.5312-13.344 2.3633-3.9375 5.6094-7.0156 9.7344-9.2344s8.7578-3.3281 13.906-3.3281c4.3438 0 8.2656 0.76562 11.766 2.2969 3.5078 1.5234 6.457 3.7148 8.8438 6.5781l-7.4375 6.875c-3.3984-3.9141-7.5938-5.875-12.594-5.875-3.1055 0-5.875 0.68359-8.3125 2.0469-2.4297 1.3555-4.3242 3.25-5.6875 5.6875-1.3555 2.4297-2.0312 5.1953-2.0312 8.2969 0 3.0938 0.67578 5.8594 2.0312 8.2969 1.3633 2.4297 3.2578 4.3242 5.6875 5.6875 2.4375 1.3555 5.207 2.0312 8.3125 2.0312 5 0 9.1953-1.9766 12.594-5.9375l7.4375 6.875c-2.3867 2.9062-5.3438 5.125-8.875 6.6562-3.5312 1.5195-7.4648 2.2812-11.797 2.2812z"})}),e.jsx("g",{transform:"translate(84.518 247.02)",children:e.jsx("path",{d:"m38.906-10.734h-23.234l-4.4375 10.734h-11.875l22.312-50.078h11.453l22.391 50.078h-12.172zm-3.6406-8.7969-7.9375-19.172-7.9375 19.172z"})}),e.jsx("g",{transform:"translate(137.23 247.02)",children:e.jsx("path",{d:"m27.609-50.078c4.4375 0 8.2852 0.74219 11.547 2.2188 3.2695 1.4805 5.7852 3.5781 7.5469 6.2969 1.7695 2.7188 2.6562 5.9375 2.6562 9.6562 0 3.6797-0.88672 6.8867-2.6562 9.625-1.7617 2.7422-4.2773 4.8398-7.5469 6.2969-3.2617 1.4492-7.1094 2.1719-11.547 2.1719h-10.078v13.812h-11.594v-50.078zm-0.64062 26.828c3.4766 0 6.125-0.75 7.9375-2.25s2.7188-3.6328 2.7188-6.4062c0-2.8125-0.90625-4.9688-2.7188-6.4688s-4.4609-2.25-7.9375-2.25h-9.4375v17.375z"})}),e.jsx("g",{transform:"translate(187.5 247.02)",children:e.jsx("path",{d:"m16.312-40.625h-16.031v-9.4531h43.641v9.4531h-16.031v40.625h-11.578z"})}),e.jsx("g",{transform:"translate(229.62 247.02)",children:e.jsx("path",{d:"m5.9375-50.078h11.594v50.078h-11.594z"})}),e.jsx("g",{transform:"translate(251.01 247.02)",children:e.jsx("path",{d:"m54.078-50.078-21.672 50.078h-11.453l-21.594-50.078h12.516l15.234 35.766 15.453-35.766z"})}),e.jsx("g",{transform:"translate(302.29 247.02)",children:e.jsx("path",{d:"m44.703-9.2969v9.2969h-38.766v-50.078h37.844v9.3125h-26.328v10.859h23.25v9.0156h-23.25v11.594z"})}),e.jsx("g",{transform:"translate(16.792 312.1)",children:e.jsx("path",{d:"m38.797-10.703h-23.172l-4.4219 10.703h-11.844l22.25-49.938h11.422l22.312 49.938h-12.125zm-3.625-8.7656-7.9219-19.125-7.9219 19.125z"})}),e.jsx("g",{transform:"translate(65.153 312.1)",children:e.jsx("path",{d:"m28.109 0.85938c-7.1367 0-12.688-1.9727-16.656-5.9219-3.9688-3.9453-5.9531-9.582-5.9531-16.906v-27.969h11.547v27.547c0 8.9375 3.707 13.406 11.125 13.406 3.6133 0 6.3672-1.082 8.2656-3.25 1.9062-2.1641 2.8594-5.5508 2.8594-10.156v-27.547h11.422v27.969c0 7.3242-1.9922 12.961-5.9688 16.906-3.9688 3.9492-9.5156 5.9219-16.641 5.9219z"})}),e.jsx("g",{transform:"translate(115.08 312.1)",children:e.jsx("path",{d:"m5.9219-49.938h22.688c5.4141 0 10.203 1.0391 14.359 3.1094 4.1641 2.0742 7.3984 4.9922 9.7031 8.75 2.3125 3.75 3.4688 8.1211 3.4688 13.109 0 5-1.1562 9.3828-3.4688 13.141-2.3047 3.75-5.5391 6.6641-9.7031 8.7344-4.1562 2.0625-8.9453 3.0938-14.359 3.0938h-22.688zm22.109 40.453c4.9883 0 8.9688-1.3906 11.938-4.1719 2.9766-2.7812 4.4688-6.5508 4.4688-11.312 0-4.75-1.4922-8.5156-4.4688-11.297-2.9688-2.7812-6.9492-4.1719-11.938-4.1719h-10.562v30.953z"})}),e.jsx("g",{transform:"translate(167.72 312.1)",children:e.jsx("path",{d:"m5.9219-49.938h11.547v49.938h-11.547z"})}),e.jsx("g",{transform:"translate(184.84 312.1)",children:e.jsx("path",{d:"m44.578-9.2656v9.2656h-38.656v-49.938h37.734v9.2812h-26.25v10.844h23.172v8.9844h-23.172v11.562z"})}),e.jsx("g",{transform:"translate(226.43 312.1)",children:e.jsx("path",{d:"m51.719-49.938v49.938h-9.5l-24.891-30.312v30.312h-11.406v-49.938h9.5625l24.812 30.328v-30.328z"})}),e.jsx("g",{transform:"translate(277.78 312.1)",children:e.jsx("path",{d:"m29.812 0.85938c-5.0859 0-9.6836-1.1016-13.797-3.3125-4.1172-2.2188-7.3516-5.2852-9.7031-9.2031-2.3555-3.9258-3.5312-8.3633-3.5312-13.312 0-4.9453 1.1758-9.3789 3.5312-13.297 2.3516-3.9258 5.5859-6.9922 9.7031-9.2031 4.1133-2.207 8.7383-3.3125 13.875-3.3125 4.3203 0 8.2266 0.76172 11.719 2.2812 3.5 1.5234 6.4375 3.7109 8.8125 6.5625l-7.4062 6.8438c-3.375-3.8945-7.5625-5.8438-12.562-5.8438-3.0859 0-5.8398 0.67969-8.2656 2.0312-2.4297 1.3555-4.3203 3.2461-5.6719 5.6719-1.3555 2.4297-2.0312 5.1836-2.0312 8.2656 0 3.0938 0.67578 5.8555 2.0312 8.2812 1.3516 2.4297 3.2422 4.3203 5.6719 5.6719 2.4258 1.3555 5.1797 2.0312 8.2656 2.0312 5 0 9.1875-1.9727 12.562-5.9219l7.4062 6.8438c-2.375 2.9062-5.3242 5.1211-8.8438 6.6406-3.5117 1.5195-7.4336 2.2812-11.766 2.2812z"})}),e.jsx("g",{transform:"translate(323.79 312.1)",children:e.jsx("path",{d:"m44.578-9.2656v9.2656h-38.656v-49.938h37.734v9.2812h-26.25v10.844h23.172v8.9844h-23.172v11.562z"})})]}),e.jsx("g",{clipPath:"url(#aca-icon-clip)",children:e.jsx("path",{d:"m190.23 39.703c8.9453 0 17.043 3.625 22.902 9.4766 5.8594 5.8516 9.4844 13.941 9.4844 22.879 0 4.1094-0.78516 8.0625-2.1992 11.711-1.4727 3.7891-3.6328 7.2188-6.3203 10.148-1.1562 1.2617-1.9414 2.6719-2.3242 4.1719-0.39063 1.4922-0.39063 3.1133 4e-3 4.7891l13.535 56.816c0.59375 2.4922 0.62109 4.9688 0.0937 7.3555-0.52344 2.3711-1.5938 4.6016-3.1992 6.625-1.6055 2.0312-3.5312 3.5898-5.7109 4.6445-2.1953 1.0625-4.6133 1.6133-7.1875 1.6133h-38.121c-2.5781 0-4.9961-0.55078-7.1875-1.6133-2.1797-1.0547-4.1094-2.6133-5.7148-4.6445-1.6055-2.0234-2.6758-4.2617-3.1992-6.625-0.52735-2.3867-0.5-4.8633 0.0937-7.3555l13.535-56.816c0.39844-1.6758 0.39844-3.293 8e-3 -4.7891-0.39063-1.5-1.1758-2.9102-2.3242-4.1719-2.6914-2.9297-4.8516-6.3594-6.3242-10.148-1.418-3.6484-2.1992-7.6016-2.1992-11.711 0-8.9375 3.625-17.027 9.4844-22.879 5.8594-5.8516 13.961-9.4766 22.902-9.4766z",fill:"url(#living-amber-gradient)",fillRule:"evenodd"})}),e.jsx("g",{fill:s,children:e.jsx("g",{transform:"translate(162.87 166.02)",children:e.jsx("path",{d:"m38.844-10.719h-23.203l-4.4375 10.719h-11.844l22.281-49.984h11.422l22.344 49.984h-12.141zm-3.6406-8.7812-7.9219-19.125-7.9375 19.125z"})})})]})]})})},Ws="aca:v5:",nt=t=>Ws+t;function Qe(t,a=[]){try{const r=localStorage.getItem(nt(t));if(!r)return a;const s=JSON.parse(r);return Array.isArray(s)?s:a}catch{return a}}function Vs(t,a){try{const r=localStorage.getItem(nt(t));if(!r)return a;const s=JSON.parse(r);return s&&typeof s=="object"&&!Array.isArray(s)?s:a}catch{return a}}function je(t,a){try{const r=localStorage.getItem(nt(t));return!r||r==="undefined"||r==="null"?a:JSON.parse(r)}catch{return a}}function et(t,a){try{localStorage.setItem(nt(t),JSON.stringify(a))}catch{}}const Ys=()=>{const[t,a]=l.useState([]);return l.useEffect(()=>{const r=Qe("external_registry",[]);a(r.slice(0,3))},[]),e.jsxs("div",{className:"bg-black min-h-screen w-screen overflow-x-hidden flex flex-col selection:bg-[var(--accent)]/30",children:[e.jsxs("div",{className:"h-screen flex flex-col md:flex-row",children:[e.jsxs(I,{to:"/live-protocol",className:"relative flex-1 flex flex-col items-center justify-center group overflow-hidden border-b md:border-b-0 md:border-r border-white/5 transition-all duration-700 ease-in-out hover:flex-[1.5]",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?q=80&w=2500&auto=format&fit=crop",className:"w-full h-full object-cover grayscale brightness-[0.2] group-hover:brightness-[0.45] group-hover:grayscale-0 group-hover:scale-110 transition-all duration-[4000ms]",alt:"The Blacksmith Hammering Anvil"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-orange-950/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-1000"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-8 px-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-orange-500 tracking-[1em] uppercase text-[10px] font-black block opacity-40 group-hover:opacity-100 transition-all duration-700 transform translate-y-4 group-hover:translate-y-0",children:"Sovereign Production"}),e.jsxs("h2",{className:"text-7xl md:text-[10rem] font-serif font-black italic text-white tracking-tighter leading-none group-hover:scale-105 group-hover:animate-forge-impact transition-all duration-700",children:["FORGE ",e.jsx("br",{}),e.jsx("span",{className:"text-gray-800 group-hover:text-[var(--accent)] group-hover:animate-living-accent transition-colors duration-500",children:"A Story."})]})]}),e.jsx("p",{className:"text-gray-600 text-sm md:text-xl font-light italic max-w-xs mx-auto opacity-0 group-hover:opacity-100 transition-all duration-1000 delay-200 transform translate-y-4 group-hover:translate-y-0",children:"Pass through the gate and initialize your acoustic link."})]}),e.jsx("div",{className:"absolute bottom-20 opacity-0 group-hover:opacity-100 transition-all duration-1000 translate-y-4 group-hover:translate-y-0",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.6em] text-orange-500",children:"Access Protocol"}),e.jsx("div",{className:"w-1 h-16 bg-gradient-to-b from-orange-500 to-transparent animate-pulse"})]})})]}),e.jsxs(I,{to:"/published-books",className:"relative flex-1 flex flex-col items-center justify-center group overflow-hidden transition-all duration-700 ease-in-out hover:flex-[1.5]",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?q=80&w=2500&auto=format&fit=crop",className:"w-full h-full object-cover grayscale brightness-[0.2] group-hover:brightness-[0.45] group-hover:grayscale-0 group-hover:scale-110 transition-all duration-[4000ms]",alt:"The Global Archive"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-cyan-950/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-1000"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-8 px-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-cyan-500 tracking-[1em] uppercase text-[10px] font-black block opacity-40 group-hover:opacity-100 transition-all duration-700 transform translate-y-4 group-hover:translate-y-0",children:"Verified Registry"}),e.jsxs("h2",{className:"text-7xl md:text-[10rem] font-serif font-black italic text-white tracking-tighter leading-none group-hover:scale-105 transition-transform duration-700",children:["READ ",e.jsx("br",{}),e.jsx("span",{className:"text-gray-800 group-hover:text-cyan-400 transition-colors duration-500",children:"A Story."})]})]}),e.jsx("p",{className:"text-gray-600 text-sm md:text-xl font-light italic max-w-xs mx-auto opacity-0 group-hover:opacity-100 transition-all duration-1000 delay-200 transform translate-y-4 group-hover:translate-y-0",children:"Browse authentic carceral narratives locked into the global registry."})]}),e.jsx("div",{className:"absolute bottom-20 opacity-0 group-hover:opacity-100 transition-all duration-1000 translate-y-4 group-hover:translate-y-0",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.6em] text-cyan-500",children:"Open Registry"}),e.jsx("div",{className:"w-1 h-16 bg-gradient-to-b from-cyan-500 to-transparent animate-pulse"})]})})]})]}),t.length>0&&e.jsx("section",{className:"bg-[#050505] py-32 px-6 border-t border-white/5 relative z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-end justify-between mb-16",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-orange-500 tracking-[0.5em] uppercase text-[9px] font-black block mb-4",children:"Latest Submissions"}),e.jsxs("h2",{className:"text-5xl font-serif italic font-black text-white",children:["Recent ",e.jsx("span",{className:"text-gray-700",children:"Truths."})]})]}),e.jsx(I,{to:"/narratives",className:"text-[9px] font-black uppercase tracking-widest text-gray-500 hover:text-white transition-all underline underline-offset-8",children:"Examine Full Archive â†’"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map(r=>e.jsxs("div",{className:"p-8 bg-white/[0.02] border border-white/5 rounded-sm hover:border-orange-500/20 transition-all",children:[e.jsx("h3",{className:"text-xl font-serif italic text-white mb-4 line-clamp-1",children:r.title}),e.jsxs("p",{className:"text-sm text-gray-500 font-light italic mb-8 leading-relaxed line-clamp-3",children:['"',r.excerpt,'"']}),e.jsx(I,{to:"/narratives",className:"text-[8px] font-black uppercase tracking-widest text-orange-500",children:"Read in Archive"})]},r.id))})]})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 hidden md:flex flex-col items-center pointer-events-auto",children:e.jsxs(I,{to:"/origin-story",className:"relative p-2 group/logo transition-all duration-1000 hover:scale-110",children:[e.jsx("div",{className:"absolute inset-0 bg-black/85 blur-2xl rounded-full scale-125 -z-10 transition-all duration-1000 group-hover/logo:bg-black group-hover/logo:blur-3xl group-hover/logo:scale-150"}),e.jsx(Ut,{variant:"light",className:"w-64 h-64 transition-transform duration-[4000ms] ease-in-out group-hover/logo:rotate-[360deg]"})]})}),e.jsx("style",{children:`
        @keyframes forge-impact { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02) translateX(2px); } 55% { transform: scale(1.02) translateX(-2px); } }
        .animate-forge-impact { animation: forge-impact 0.2s 2; }
      `})]})},qs="aca_sovereign_registry",Ks=4,Fa=()=>new Promise((t,a)=>{const r=indexedDB.open(qs,Ks);r.onupgradeneeded=s=>{const n=s.target.result;n.objectStoreNames.contains("books")||n.createObjectStore("books",{keyPath:"id"})},r.onsuccess=()=>t(r.result),r.onerror=()=>a(r.error)}),Js=async t=>{const a=await Fa();return new Promise((r,s)=>{const n=a.transaction("books","readwrite");n.objectStore("books").put(t),n.oncomplete=()=>r(!0),n.onerror=()=>s(n.error)})},Xs=async()=>{try{const t=await Fa();return new Promise((a,r)=>{const i=t.transaction("books","readonly").objectStore("books").getAll();i.onsuccess=()=>a(i.result),i.onerror=()=>r(i.error)})}catch{return[]}},Zs=()=>{const[t,a]=l.useState(null),[r,s]=l.useState([]),[n,i]=l.useState([]),[o,c]=l.useState(!0),[d,u]=l.useState(!1),x=l.useRef(null),p=async()=>{c(!0);const h=await Xs(),y=Qe("external_registry",[]);i(y);const b=[...h];At.forEach(N=>{b.find(f=>f.slug===N.slug)||b.push(N)}),s(b);let v=b.find(N=>N.slug==="the-ivo-trap");!v&&b.length>0&&(v=b[b.length-1]),a(v||At[0]),c(!1)};l.useEffect(()=>{p()},[]);const m=h=>{var v;const y=(v=h.target.files)==null?void 0:v[0];if(!y)return;u(!0);const b=new FileReader;b.onload=async N=>{var j;const f=(j=N.target)==null?void 0:j.result,w={...t||At[0],coverUrl:f,slug:"the-ivo-trap"};await Js(w),await p(),u(!1)},b.readAsDataURL(y)};return o||!t?e.jsx("div",{className:"bg-[#020202] min-h-screen flex items-center justify-center",children:e.jsx("span",{className:"text-orange-500 text-[10px] font-black uppercase tracking-[0.5em] animate-pulse",children:"Syncing Master Registry..."})}):e.jsxs("div",{className:"bg-[#020202] min-h-screen text-white overflow-hidden pb-32",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#050505] via-transparent to-[#020202] z-10"}),t.coverUrl&&e.jsx("img",{src:t.coverUrl,className:"w-full h-full object-cover opacity-20 grayscale scale-110 animate-subtle-drift blur-md",alt:"Atmospheric Background"})]}),e.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-6 pt-12 md:pt-32",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-20 lg:gap-32",children:[e.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center perspective-1000",children:[e.jsxs("div",{className:"relative group animate-float",children:[e.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-orange-500 via-purple-500 to-cyan-500 rounded-lg blur-3xl opacity-40 group-hover:opacity-100 transition-opacity duration-1000 animate-pulsate-aura"}),e.jsx("div",{className:"absolute inset-2 bg-black blur-xl opacity-80 translate-x-8 translate-y-8"}),e.jsxs("div",{className:"relative z-10 w-[320px] md:w-[420px] aspect-[16/27] bg-[#0a0a0a] border-l-[12px] border-black shadow-2xl rounded-r-sm overflow-hidden transform rotate-y-[-5deg] transition-all duration-700 group-hover:rotate-y-[0deg]",children:[t.coverUrl?e.jsx("img",{src:t.coverUrl,className:"w-full h-full object-contain block opacity-100",alt:`${t.title} Master Cover`}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-800 text-[9px] font-black uppercase tracking-widest text-center px-12",children:"Awaiting Master Asset"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"})]}),e.jsx("div",{className:"absolute -inset-[2px] rounded-r-sm border border-white/10 z-20 pointer-events-none"})]}),e.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>{var h;return(h=x.current)==null?void 0:h.click()},className:`px-6 py-3 border border-white/10 text-[8px] font-black uppercase tracking-widest hover:border-orange-500 hover:text-orange-500 transition-all rounded-sm ${d?"animate-pulse":""}`,children:d?"Syncing...":"Emergency Master Sync"}),e.jsx("input",{type:"file",ref:x,onChange:m,className:"hidden",accept:"image/png,image/jpeg"})]})]}),e.jsxs("div",{className:"w-full lg:w-1/2 space-y-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.8em] uppercase text-[11px] font-black block animate-pulse",children:"Featured Masterpiece"}),e.jsxs("h1",{className:"text-6xl md:text-8xl font-serif font-black italic tracking-tighter leading-none text-white",children:[t.title.split(" ").slice(0,-1).join(" ")," ",e.jsx("br",{}),e.jsxs("span",{className:"text-[var(--accent)] glow-accent animate-living-accent",children:[t.title.split(" ").pop(),"."]})]}),t.subtitle&&e.jsx("p",{className:"text-2xl md:text-3xl text-gray-400 font-light italic leading-relaxed border-l-2 pl-8 border-[var(--accent)]/30",children:t.subtitle})]}),e.jsx("div",{className:"space-y-8 text-gray-500 font-light italic leading-loose text-lg max-h-[300px] overflow-y-auto no-scrollbar",children:e.jsx("p",{className:"whitespace-pre-wrap",children:t.description})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 pt-8",children:[e.jsx("a",{href:t.buyUrl||"https://www.ingramspark.com/",target:"_blank",rel:"noopener noreferrer",className:"flex-grow bg-[#0096d6] text-white px-12 py-8 font-black tracking-[0.6em] uppercase text-[11px] text-center shadow-2xl hover:brightness-110 transition-all rounded-sm",children:"Acquire Physical Edition"}),e.jsx(I,{to:`/book/${t.slug}`,className:"px-12 py-8 border border-white/10 text-white font-black tracking-[0.6em] uppercase text-[11px] text-center hover:bg-white hover:text-black transition-all rounded-sm",children:"Examine Metadata"})]}),e.jsxs("div",{className:"pt-12 border-t border-white/5 flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white text-xl font-serif italic",children:"LIVE"}),e.jsx("p",{className:"text-[8px] text-gray-700 font-black uppercase tracking-widest",children:"Vault Status"})]}),e.jsx("div",{className:"h-8 w-[1px] bg-white/5"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white text-xl font-serif italic",children:t.releaseYear}),e.jsx("p",{className:"text-[8px] text-gray-700 font-black uppercase tracking-widest",children:"Master Release"})]}),e.jsx("div",{className:"h-8 w-[1px] bg-white/5"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[var(--accent)] text-xl font-serif italic truncate max-w-[120px]",children:t.author.toUpperCase()}),e.jsx("p",{className:"text-[8px] text-gray-700 font-black uppercase tracking-widest",children:"The Architect"})]})]})]})]})}),n.length>0&&e.jsxs("div",{className:"relative z-20 max-w-7xl mx-auto px-6 mt-48",children:[e.jsxs("div",{className:"flex items-end justify-between border-b border-white/5 pb-12 mb-16",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-orange-500 tracking-[0.5em] uppercase text-[9px] font-black block mb-4",children:"The Feed"}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic font-black text-white",children:["Latest ",e.jsx("span",{className:"text-gray-600",children:"Substack Releases."})]})]}),e.jsx(I,{to:"/narratives",className:"text-[9px] font-black uppercase tracking-widest text-orange-500 hover:text-white transition-colors",children:"Open Full Archive â†’"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:n.slice(0,3).map(h=>{var b,v;const y=(v=(b=h.tags)==null?void 0:b.find(N=>N.startsWith("LINK:")))==null?void 0:v.replace("LINK:","");return e.jsxs("div",{className:"bg-white/[0.02] border border-white/5 p-8 group hover:border-orange-500/20 transition-all rounded-sm",children:[e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-orange-500 mb-4 block",children:"New Post"}),e.jsx("h3",{className:"text-2xl font-serif italic text-white mb-4 group-hover:text-orange-500 transition-colors",children:h.title}),e.jsxs("p",{className:"text-sm text-gray-500 font-light italic mb-8 leading-relaxed line-clamp-3",children:['"',h.excerpt,'"']}),y&&e.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-[9px] font-black uppercase tracking-widest text-white border-b border-white/20 pb-1 hover:border-orange-500 transition-all",children:"Read Story â†’"})]},h.id)})})]}),e.jsxs("div",{className:"relative z-20 max-w-7xl mx-auto px-6 mt-48",children:[e.jsxs("div",{className:"flex items-end justify-between border-b border-white/5 pb-12 mb-16",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.5em] uppercase text-[9px] font-black block mb-4",children:"The Archive"}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic font-black text-white",children:["Registered ",e.jsx("span",{className:"text-gray-600",children:"Masters."})]})]}),e.jsx(I,{to:"/published-books",className:"text-[9px] font-black uppercase tracking-widest text-gray-500 hover:text-[var(--accent)] transition-colors",children:"Manage Registry â†’"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8",children:r.length>0?r.map(h=>e.jsxs(I,{to:`/book/${h.slug}`,className:"group space-y-4",children:[e.jsxs("div",{className:"aspect-[16/27] bg-[#0a0a0a] border-l-4 border-black group-hover:border-[var(--accent)] transition-all overflow-hidden rounded-r-sm relative shadow-xl",children:[e.jsx("img",{src:h.coverUrl,className:"w-full h-full object-cover grayscale opacity-40 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-700",alt:h.title}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-white",children:"View Details"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-white truncate",children:h.title}),e.jsx("p",{className:"text-[8px] text-gray-600 uppercase font-black",children:h.author})]})]},h.id)):e.jsx("div",{className:"col-span-full py-24 text-center border border-dashed border-white/5 rounded-sm",children:e.jsx("p",{className:"text-gray-800 text-[10px] font-black uppercase tracking-[0.4em]",children:"Archive Link Standby... Registry Empty"})})})]}),e.jsx("style",{children:`
        @keyframes drift {
          0% { transform: scale(1.1) translate(0, 0); }
          50% { transform: scale(1.15) translate(-1%, -1%); }
          100% { transform: scale(1.1) translate(0, 0); }
        }
        .animate-subtle-drift { animation: drift 20s infinite ease-in-out; }
        
        @keyframes pulsate-aura {
          0%, 100% { transform: scale(1); opacity: 0.3; filter: blur(30px) hue-rotate(0deg); }
          50% { transform: scale(1.1); opacity: 0.6; filter: blur(50px) hue-rotate(180deg); }
        }
        .animate-pulsate-aura { animation: pulsate-aura 8s infinite ease-in-out; }

        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-20px); }
        }
        .animate-float { animation: float 6s infinite ease-in-out; }

        .perspective-1000 { perspective: 1000px; }
        .rotate-y-[-5deg] { transform: rotateY(-15deg); }
        .group-hover:rotate-y-[0deg]:hover { transform: rotateY(0deg); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
      `})]})},At=[{id:"ivo-master-1",title:"The IVO Trap",subtitle:"Intervention Orders: From the Inside Out",author:"Mark Mi Words",description:"There is no way of knowing how many family violence orders are enforced across Australia. What we do know is how many have wound up in court. In 2023â€“24, 42% of all civil cases finalised in Australian Magistratesâ€™ Courts involved originating applications for domestic violence orders â€” around 131,000 cases.",coverUrl:"https://images.unsplash.com/photo-1541829081725-6f1c93bb3c24?q=80&w=1200&auto=format&fit=crop",slug:"the-ivo-trap",releaseYear:"2024",buyUrl:"https://www.ingramspark.com/"}],Qs=[{id:"ivo-master-1",title:"The IVO Trap",subtitle:"Intervention Orders: From the Inside Out",author:"Mark Mi Words",description:"There is no way of knowing how many family violence orders are enforced across Australia. What we do know is how many have wound up in court. In 2023â€“24, 42% of all civil cases finalised in Australian Magistratesâ€™ Courts involved originating applications for domestic violence orders â€” around 131,000 cases.",coverUrl:"https://images.unsplash.com/photo-1541829081725-6f1c93bb3c24?q=80&w=1200&auto=format&fit=crop",slug:"the-ivo-trap",releaseYear:"2024",buyUrl:"https://www.ingramspark.com/"}],en="aca_sovereign_registry",tn=4,an=()=>new Promise((t,a)=>{const r=indexedDB.open(en,tn);r.onupgradeneeded=s=>{const n=s.target.result;n.objectStoreNames.contains("books")||n.createObjectStore("books",{keyPath:"id"})},r.onsuccess=()=>t(r.result),r.onerror=()=>a(r.error)}),rn=async()=>{try{const t=await an();return new Promise((a,r)=>{const i=t.transaction("books","readonly").objectStore("books").getAll();i.onsuccess=()=>a(i.result),i.onerror=()=>r(i.error)})}catch(t){return console.error("Vault retrieval failure:",t),[]}},sn=()=>{const{slug:t}=Kr(),[a,r]=l.useState(null),[s,n]=l.useState(!1),[i,o]=l.useState(null),[c,d]=l.useState(!0);return l.useEffect(()=>{const u=async()=>{d(!0);const h=[...await rn(),...Qs].find(y=>y.slug===t);r(h||null),d(!1)};u();const x=setTimeout(u,500);return()=>clearTimeout(x)},[t]),c&&!a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050505]",children:e.jsx("span",{className:"text-orange-500 text-[10px] font-black uppercase tracking-[0.5em] animate-pulse",children:"Syncing Vault..."})}):a?e.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-32",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-24 items-start",children:[e.jsx("div",{className:"lg:w-[45%] w-full sticky top-32",children:e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"shadow-[60px_60px_120px_rgba(0,0,0,0.9)] border-l-[15px] border-black overflow-hidden rounded-r-md bg-[#0a0a0a] relative transition-all duration-700",children:e.jsx("div",{className:`relative transition-all duration-500 min-h-[500px] flex items-center justify-center p-4 ${s?"bg-black":""}`,children:a.coverUrl&&!i?e.jsx("img",{src:a.coverUrl,className:`w-full max-h-[85vh] object-contain transition-all duration-1000 ${s?"invert grayscale brightness-200 contrast-200 opacity-40 mix-blend-screen":""}`,onError:()=>o("VAULT MASTER CORRUPTION: PLEASE RE-UPLOAD JPEG")}):e.jsxs("div",{className:"text-center p-12 space-y-4",children:[e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest",children:i||"MASTER LINK DISCONNECTED"}),e.jsx("p",{className:"text-gray-700 text-[8px] uppercase italic",children:"Use Registry to re-sync high-fidelity assets."})]})})}),e.jsxs("div",{className:"mt-12 flex flex-col gap-4",children:[e.jsxs("a",{href:a.buyUrl||"https://www.ingramspark.com/",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#0096d6] text-white py-6 text-[10px] font-black uppercase tracking-[0.5em] text-center shadow-xl hover:bg-cyan-600 transition-all rounded-sm flex flex-col items-center justify-center gap-1",children:[e.jsx("span",{children:"Acquire Physical Edition"}),e.jsx("span",{className:"text-[7px] opacity-70 tracking-[0.2em]",children:"Sovereign IngramSpark Link"})]}),e.jsx("button",{onClick:()=>n(!s),className:`w-full py-4 text-[8px] font-black uppercase tracking-[0.4em] border transition-all rounded-sm flex items-center justify-center gap-3 ${s?"bg-cyan-500 text-white":"border-white/10 text-gray-600 hover:text-cyan-400"}`,children:s?"Exit X-Ray View":"Mastering Diagnostic (X-Ray)"})]})]})}),e.jsxs("div",{className:"lg:w-[55%] w-full pt-10",children:[e.jsx(I,{to:"/published-books",className:"text-[var(--accent)] text-[11px] font-bold uppercase tracking-[0.6em] mb-6 block hover:underline transition-all",children:"â† Return to Master Registry"}),e.jsx("h1",{className:"text-6xl md:text-8xl font-serif font-black mb-4 italic text-white tracking-tighter leading-none",children:a.title}),e.jsx("p",{className:"text-gray-400 text-lg leading-loose mb-12 italic opacity-80 whitespace-pre-wrap",children:a.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-16 border-y border-white/5 py-10",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Edition Author"}),e.jsx("p",{className:"text-xl font-serif italic text-white",children:a.author})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Release Year"}),e.jsx("p",{className:"text-xl font-serif italic text-white",children:a.releaseYear})]})]}),s&&e.jsxs("div",{className:"mt-16 p-10 bg-orange-500/5 border border-orange-500/20 rounded-sm animate-fade-in",children:[e.jsx("h4",{className:"text-orange-500 font-black uppercase tracking-widest text-xs mb-6 underline",children:"The Sovereign Audit"}),e.jsxs("p",{className:"text-gray-400 text-sm italic leading-relaxed",children:["Vault Status: ",e.jsx("span",{className:"text-white",children:"IndexedDB Residency V4.0"}),". Persistent Link Verified."]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 space-y-2 text-[8px] uppercase tracking-widest text-gray-700",children:[e.jsxs("p",{children:["Atomic Slug: ",a.slug]}),e.jsxs("p",{children:["Registry ID: ",a.id]})]})]})]})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] p-6 text-center",children:[e.jsx("h2",{className:"text-4xl font-serif italic text-white mb-6 uppercase tracking-tighter",children:"Master Entry Missing"}),e.jsx("p",{className:"text-gray-500 text-sm mb-12",children:"The requested ID has not been registered in the Sovereign Vault V4."}),e.jsx(I,{to:"/published-books",className:"text-orange-500 text-[10px] font-black uppercase tracking-[0.4em] underline underline-offset-8",children:"Return to Registry"})]})};var Qt;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Qt||(Qt={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(ea||(ea={}));var ta;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ta||(ta={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=["user","model","function","system"];var Ge;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ge||(Ge={}));var ze;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ze||(ze={}));var ra;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ra||(ra={}));var sa;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(sa||(sa={}));var Xe;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Xe||(Xe={}));var na;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(na||(na={}));var ia;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ia||(ia={}));var oa;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(oa||(oa={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class He extends ee{constructor(a,r){super(a),this.response=r}}class Ba extends ee{constructor(a,r,s,n){super(a),this.status=r,this.statusText=s,this.errorDetails=n}}class Re extends ee{}class Ha extends ee{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="https://generativelanguage.googleapis.com",on="v1beta",ln="0.24.1",cn="genai-js";var Me;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Me||(Me={}));class dn{constructor(a,r,s,n,i){this.model=a,this.task=r,this.apiKey=s,this.stream=n,this.requestOptions=i}toString(){var a,r;const s=((a=this.requestOptions)===null||a===void 0?void 0:a.apiVersion)||on;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||nn}/${s}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function hn(t){const a=[];return t!=null&&t.apiClient&&a.push(t.apiClient),a.push(`${cn}/${ln}`),a.join(" ")}async function un(t){var a;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",hn(t.requestOptions)),r.append("x-goog-api-key",t.apiKey);let s=(a=t.requestOptions)===null||a===void 0?void 0:a.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(n){throw new Re(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${n.message}`)}for(const[n,i]of s.entries()){if(n==="x-goog-api-key")throw new Re(`Cannot set reserved header name ${n}`);if(n==="x-goog-api-client")throw new Re(`Header name ${n} can only be set using the apiClient field`);r.append(n,i)}}return r}async function xn(t,a,r,s,n,i){const o=new dn(t,a,r,s,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},fn(i)),{method:"POST",headers:await un(o),body:n})}}async function it(t,a,r,s,n,i={},o=fetch){const{url:c,fetchOptions:d}=await xn(t,a,r,s,n,i);return pn(c,d,o)}async function pn(t,a,r=fetch){let s;try{s=await r(t,a)}catch(n){mn(n,t)}return s.ok||await gn(s,t),s}function mn(t,a){let r=t;throw r.name==="AbortError"?(r=new Ha(`Request aborted when fetching ${a.toString()}: ${t.message}`),r.stack=t.stack):t instanceof Ba||t instanceof Re||(r=new ee(`Error fetching from ${a.toString()}: ${t.message}`),r.stack=t.stack),r}async function gn(t,a){let r="",s;try{const n=await t.json();r=n.error.message,n.error.details&&(r+=` ${JSON.stringify(n.error.details)}`,s=n.error.details)}catch{}throw new Ba(`Error fetching from ${a.toString()}: [${t.status} ${t.statusText}] ${r}`,t.status,t.statusText,s)}function fn(t){const a={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const r=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>r.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{r.abort()}),a.signal=r.signal}return a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),mt(t.candidates[0]))throw new He(`${Ee(t)}`,t);return bn(t)}else if(t.promptFeedback)throw new He(`Text not available. ${Ee(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mt(t.candidates[0]))throw new He(`${Ee(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),la(t)[0]}else if(t.promptFeedback)throw new He(`Function call not available. ${Ee(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mt(t.candidates[0]))throw new He(`${Ee(t)}`,t);return la(t)}else if(t.promptFeedback)throw new He(`Function call not available. ${Ee(t)}`,t)},t}function bn(t){var a,r,s,n;const i=[];if(!((r=(a=t.candidates)===null||a===void 0?void 0:a[0].content)===null||r===void 0)&&r.parts)for(const o of(n=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||n===void 0?void 0:n.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function la(t){var a,r,s,n;const i=[];if(!((r=(a=t.candidates)===null||a===void 0?void 0:a[0].content)===null||r===void 0)&&r.parts)for(const o of(n=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||n===void 0?void 0:n.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const vn=[Xe.RECITATION,Xe.SAFETY,Xe.LANGUAGE];function mt(t){return!!t.finishReason&&vn.includes(t.finishReason)}function Ee(t){var a,r,s;let n="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)n+="Response was blocked",!((a=t.promptFeedback)===null||a===void 0)&&a.blockReason&&(n+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(n+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((s=t.candidates)===null||s===void 0)&&s[0]){const i=t.candidates[0];mt(i)&&(n+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(n+=`: ${i.finishMessage}`))}return n}function tt(t){return this instanceof tt?(this.v=t,this):new tt(t)}function yn(t,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,a||[]),n,i=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(m){s[m]&&(n[m]=function(h){return new Promise(function(y,b){i.push([m,h,y,b])>1||c(m,h)})})}function c(m,h){try{d(s[m](h))}catch(y){p(i[0][3],y)}}function d(m){m.value instanceof tt?Promise.resolve(m.value.v).then(u,x):p(i[0][2],m)}function u(m){c("next",m)}function x(m){c("throw",m)}function p(m,h){m(h),i.shift(),i.length&&c(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function wn(t){const a=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=kn(a),[s,n]=r.tee();return{stream:Nn(s),response:jn(n)}}async function jn(t){const a=[],r=t.getReader();for(;;){const{done:s,value:n}=await r.read();if(s)return Ft(Sn(a));a.push(n)}}function Nn(t){return yn(this,arguments,function*(){const r=t.getReader();for(;;){const{value:s,done:n}=yield tt(r.read());if(n)break;yield yield tt(Ft(s))}})}function kn(t){const a=t.getReader();return new ReadableStream({start(s){let n="";return i();function i(){return a.read().then(({value:o,done:c})=>{if(c){if(n.trim()){s.error(new ee("Failed to parse stream"));return}s.close();return}n+=o;let d=n.match(ca),u;for(;d;){try{u=JSON.parse(d[1])}catch{s.error(new ee(`Error parsing JSON response: "${d[1]}"`));return}s.enqueue(u),n=n.substring(d[0].length),d=n.match(ca)}return i()}).catch(o=>{let c=o;throw c.stack=o.stack,c.name==="AbortError"?c=new Ha("Request aborted when reading from the stream"):c=new ee("Error reading from the stream"),c})}}})}function Sn(t){const a=t[t.length-1],r={promptFeedback:a==null?void 0:a.promptFeedback};for(const s of t){if(s.candidates){let n=0;for(const i of s.candidates)if(r.candidates||(r.candidates=[]),r.candidates[n]||(r.candidates[n]={index:n}),r.candidates[n].citationMetadata=i.citationMetadata,r.candidates[n].groundingMetadata=i.groundingMetadata,r.candidates[n].finishReason=i.finishReason,r.candidates[n].finishMessage=i.finishMessage,r.candidates[n].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[n].content||(r.candidates[n].content={role:i.content.role||"user",parts:[]});const o={};for(const c of i.content.parts)c.text&&(o.text=c.text),c.functionCall&&(o.functionCall=c.functionCall),c.executableCode&&(o.executableCode=c.executableCode),c.codeExecutionResult&&(o.codeExecutionResult=c.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),r.candidates[n].content.parts.push(o)}n++}s.usageMetadata&&(r.usageMetadata=s.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,a,r,s){const n=await it(a,Me.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(r),s);return wn(n)}async function za(t,a,r,s){const i=await(await it(a,Me.GENERATE_CONTENT,t,!1,JSON.stringify(r),s)).json();return{response:Ft(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function at(t){let a=[];if(typeof t=="string")a=[{text:t}];else for(const r of t)typeof r=="string"?a.push({text:r}):a.push(r);return Cn(a)}function Cn(t){const a={role:"user",parts:[]},r={role:"function",parts:[]};let s=!1,n=!1;for(const i of t)"functionResponse"in i?(r.parts.push(i),n=!0):(a.parts.push(i),s=!0);if(s&&n)throw new ee("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!n)throw new ee("No content is provided for sending chat message.");return s?a:r}function En(t,a){var r;let s={model:a==null?void 0:a.model,generationConfig:a==null?void 0:a.generationConfig,safetySettings:a==null?void 0:a.safetySettings,tools:a==null?void 0:a.tools,toolConfig:a==null?void 0:a.toolConfig,systemInstruction:a==null?void 0:a.systemInstruction,cachedContent:(r=a==null?void 0:a.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const n=t.generateContentRequest!=null;if(t.contents){if(n)throw new Re("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=t.contents}else if(n)s=Object.assign(Object.assign({},s),t.generateContentRequest);else{const i=at(t);s.contents=[i]}return{generateContentRequest:s}}function da(t){let a;return t.contents?a=t:a={contents:[at(t)]},t.systemInstruction&&(a.systemInstruction=Wa(t.systemInstruction)),a}function Rn(t){return typeof t=="string"||Array.isArray(t)?{content:at(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],An={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function In(t){let a=!1;for(const r of t){const{role:s,parts:n}=r;if(!a&&s!=="user")throw new ee(`First content should be with role 'user', got ${s}`);if(!aa.includes(s))throw new ee(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(aa)}`);if(!Array.isArray(n))throw new ee("Content should have 'parts' property with an array of Parts");if(n.length===0)throw new ee("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of n)for(const d of ha)d in c&&(i[d]+=1);const o=An[s];for(const c of ha)if(!o.includes(c)&&i[c]>0)throw new ee(`Content with role '${s}' can't contain '${c}' part`);a=!0}}function ua(t){var a;if(t.candidates===void 0||t.candidates.length===0)return!1;const r=(a=t.candidates[0])===null||a===void 0?void 0:a.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const s of r.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="SILENT_ERROR";class Tn{constructor(a,r,s,n={}){this.model=r,this.params=s,this._requestOptions=n,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=a,s!=null&&s.history&&(In(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(a,r={}){var s,n,i,o,c,d;await this._sendPromise;const u=at(a),x={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(n=this.params)===null||n===void 0?void 0:n.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),r);let m;return this._sendPromise=this._sendPromise.then(()=>za(this._apiKey,this.model,x,p)).then(h=>{var y;if(ua(h.response)){this._history.push(u);const b=Object.assign({parts:[],role:"model"},(y=h.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(b)}else{const b=Ee(h.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}m=h}).catch(h=>{throw this._sendPromise=Promise.resolve(),h}),await this._sendPromise,m}async sendMessageStream(a,r={}){var s,n,i,o,c,d;await this._sendPromise;const u=at(a),x={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(n=this.params)===null||n===void 0?void 0:n.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),r),m=Ga(this._apiKey,this.model,x,p);return this._sendPromise=this._sendPromise.then(()=>m).catch(h=>{throw new Error(xa)}).then(h=>h.response).then(h=>{if(ua(h)){this._history.push(u);const y=Object.assign({},h.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Ee(h);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(h=>{h.message!==xa&&console.error(h)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _n(t,a,r,s){return(await it(a,Me.COUNT_TOKENS,t,!1,JSON.stringify(r),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ln(t,a,r,s){return(await it(a,Me.EMBED_CONTENT,t,!1,JSON.stringify(r),s)).json()}async function On(t,a,r,s){const n=r.requests.map(o=>Object.assign(Object.assign({},o),{model:a}));return(await it(a,Me.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:n}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(a,r,s={}){this.apiKey=a,this._requestOptions=s,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Wa(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(a,r={}){var s;const n=da(a),i=Object.assign(Object.assign({},this._requestOptions),r);return za(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},n),i)}async generateContentStream(a,r={}){var s;const n=da(a),i=Object.assign(Object.assign({},this._requestOptions),r);return Ga(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},n),i)}startChat(a){var r;return new Tn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),this._requestOptions)}async countTokens(a,r={}){const s=En(a,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),n=Object.assign(Object.assign({},this._requestOptions),r);return _n(this.apiKey,this.model,s,n)}async embedContent(a,r={}){const s=Rn(a),n=Object.assign(Object.assign({},this._requestOptions),r);return Ln(this.apiKey,this.model,s,n)}async batchEmbedContents(a,r={}){const s=Object.assign(Object.assign({},this._requestOptions),r);return On(this.apiKey,this.model,a,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(a){this.apiKey=a}getGenerativeModel(a,r){if(!a.model)throw new ee("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new pa(this.apiKey,a,r)}getGenerativeModelFromCachedContent(a,r,s){if(!a.name)throw new Re("Cached content must contain a `name` field.");if(!a.model)throw new Re("Cached content must contain a `model` field.");const n=["model","systemInstruction"];for(const o of n)if(r!=null&&r[o]&&a[o]&&(r==null?void 0:r[o])!==a[o]){if(o==="model"){const c=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,d=a.model.startsWith("models/")?a.model.replace("models/",""):a.model;if(c===d)continue}throw new Re(`Different value for "${o}" specified in modelParams (${r[o]}) and cachedContent (${a[o]})`)}const i=Object.assign(Object.assign({},r),{model:a.model,tools:a.tools,toolConfig:a.toolConfig,systemInstruction:a.systemInstruction,cachedContent:a});return new pa(this.apiKey,i,s)}}const Mn="YOUR_API_KEY_HERE",Bt=(t,a,r="Natural")=>`
  MISSION: Sovereignty of the carceral and impacted voice.
  CONTEXT: Author Region: ${a.toUpperCase()}, Style: ${t.toUpperCase()}.
  TEMPERAMENT: ${r.toUpperCase()}. 
  RULES: 
  - If Timid: Be gentle, prioritize safety, make minimal changes.
  - If Firebrand: Be aggressive, challenge the prose, push for high emotional intensity.
  - If Natural: Be a balanced partner, mirror the author's cadence.
`,Ae=()=>new Pn(Mn),Ue=[{category:Ge.HARM_CATEGORY_HARASSMENT,threshold:ze.BLOCK_NONE},{category:Ge.HARM_CATEGORY_HATE_SPEECH,threshold:ze.BLOCK_NONE},{category:Ge.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:ze.BLOCK_NONE},{category:Ge.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:ze.BLOCK_NONE}],Dn=async()=>{try{return(await Ae().getGenerativeModel({model:"gemini-1.5-flash-latest"}).generateContent("ping")).response.text()?{status:"online",message:"Acoustic Link Stable. Forging logic active."}:{status:"error",message:"Empty response from forge."}}catch(t){return console.error("Heartbeat Error:",t),{status:"offline",message:t.message||"Link interrupted."}}},$n=async(t,a,r,s,n)=>{try{const i=Ae(),{gender:o,sound:c,accent:d,speed:u,isClone:x}=a,p=`
      ${Bt(r,s,n)}
      MODE: ARTICULATE (Oral Storytelling Optimization)
      
      ACOUSTIC MATRIX DIRECTIVES:
      1. REGIONAL ACCENT [${d}]: Integrate carceral dialect specific to this region.
      2. TEMPORAL PACE [${u}]: Adjust rhythm for delivery.
      3. SOUND LEVEL [${c}]: Favors tone intensity.
      4. GENDER [${o}]: Identity-weighted vocabulary.
      5. CLONE_MODE: ${x?"ACTIVE":"OFF"}

      GOAL: Refine oral rhythm for performance while keeping grit 100% intact.
    `;return{text:(await i.getGenerativeModel({model:"gemini-1.5-flash-latest",systemInstruction:p,safetySettings:Ue}).generateContent(t)).response.text()||t}}catch(i){return console.error("Articulate Error:",i),{text:t}}},Un=async(t,a,r,s,n)=>{try{const i=Ae();let o=`General Mastering for ${r}.`,c=!1;switch(a){case"rinse":o="MODE: RINSE. Fix typos ONLY. Preserve grit.";break;case"wash":o="LEVEL L2: WASH. Smooth transitions.";break;case"scrub":o="LEVEL L3: SCRUB. Structural tightening.";break;case"fact_check":o="MODE: FACT CHECK.",c=!0;break;case"dogg_me":o="MODE: DOGG ME. Alchemical poetry.";break;case"polish_story":o="MODE: POLISH STORY.";break;case"polish_poetry":o="MODE: POLISH POETRY.";break;case"sanitise":o="MODE: SANITISE. Redact PII.";break;case"polish_turd":o="MODE: POLISH A TURD. Deep reconstruction.";break}return{text:(await i.getGenerativeModel({model:"gemini-1.5-flash-latest",systemInstruction:`${Bt(r,s,n)}
${o}`,safetySettings:Ue}).generateContent(t)).response.text()||t}}catch(i){return console.error("SmartSoap Error:",i),{text:t}}},Ht=async(t,a,r,s,n,i)=>{var o,c;try{const x=Ae().getGenerativeModel({model:"gemini-1.5-pro-latest",systemInstruction:`You are WRAPPER. ${Bt(a,r,i)} Respond as a collaborative, insightful partner.`,safetySettings:Ue}).startChat({history:(s||[]).slice(-10)}),p=`[DRAFT CONTENT]
${n.substring(0,4e3)}

[USER QUERY]
${t}`,m=await x.sendMessage(p),h=(c=(o=m.response.candidates)==null?void 0:o[0])==null?void 0:c.citationMetadata,y=((h==null?void 0:h.citationSources)||[]).map(b=>({web:{uri:b.uri||"",title:""}})).filter(b=>b.web.uri);return{role:"assistant",content:m.response.text()||"Standing by at the Forge.",sources:y}}catch(d){return console.error("Query Partner Error:",d),{role:"assistant",content:"The connection to my core logic was interrupted. Please try again."}}},Fn=async(t,a)=>{try{const s=Ae().getGenerativeModel({model:"gemini-1.5-pro-latest",safetySettings:Ue,generationConfig:{responseMimeType:"application/json"},systemInstruction:`Perform a Sovereign Audit for ${a.toUpperCase()} mastering. Return precise JSON matching the provided schema.`}),n={type:"object",properties:{summary:{type:"string",description:"Detailed summary of the entire manuscript."},toneAssessment:{type:"string",description:"Analysis of the overall tone and mood."},structuralCheck:{type:"string",description:"Feedback on the narrative structure, pacing, and flow."},legalSafetyAudit:{type:"string",description:"Identifies potential legal risks like defamation or privacy concerns."},resourceIntensity:{type:"number",description:"A score from 1-10 indicating the effort needed to polish the manuscript."},marketabilityScore:{type:"number",description:"A score from 1-10 on its potential market appeal."},suggestedTitle:{type:"string",description:"A compelling, market-friendly title suggestion."},mediumSpecificAdvice:{type:"string",description:"Advice on whether this works best as a book, screenplay, oral story, etc."}},required:["summary","toneAssessment","structuralCheck","legalSafetyAudit","resourceIntensity","marketabilityScore","suggestedTitle","mediumSpecificAdvice"]},i=await s.generateContent([`Please analyze the following manuscript based on the goal: ${a}.`,{inlineData:{mimeType:"application/json",data:JSON.stringify(n)}},{text:t.substring(0,12e4)}]);return JSON.parse(i.response.text()||"{}")}catch(r){throw console.error("Manuscript Analysis Error:",r),new Error("Failed to analyze the manuscript.")}},Bn=async(t,a="Puck")=>(console.warn("generateSpeech is a placeholder. No audio will be generated."),""),Va=(t,a)=>(console.warn("connectLive is a placeholder. No live connection will be established."),t.onerror&&t.onerror(new Error("Live connection is not implemented in this version.")),null),Hn=async t=>{var a,r;try{const i=await Ae().getGenerativeModel({model:"gemini-1.5-flash-latest",systemInstruction:"You are an Archive Specialist for carceral narratives. Use Google Search for systemic context.",safetySettings:Ue}).generateContent(t),o=(r=(a=i.response.candidates)==null?void 0:a[0])==null?void 0:r.citationMetadata,c=((o==null?void 0:o.citationSources)||[]).map(d=>({web:{uri:d.uri||"",title:""}})).filter(d=>d.web.uri);return{role:"assistant",content:i.response.text()||"",sources:c}}catch(s){return console.error("Query Insight Error:",s),{role:"assistant",content:"Could not retrieve insights at this time."}}},Gn=async t=>{try{return(await Ae().getGenerativeModel({model:"gemini-1.5-flash-latest",systemInstruction:"You are 'Aurora', a Kindred Agent. Empathetic, calm, creative sanctuary partner.",safetySettings:Ue}).generateContent(t)).response.text()||"I am listening."}catch(a){return console.error("Aurora Interaction Error:",a),"I seem to be having trouble connecting right now."}},zn=async(t,a=!1)=>{try{const s=Ae().getGenerativeModel({model:"gemini-1.5-flash-latest",safetySettings:Ue}),n=a?`Cinematic noir photography. Focus on: ${t}. Dramatic shadows. Industrial carceral aesthetic. High contrast, gritty, realistic.`:`Minimalist, a dramatic book cover. Themes: ${t}. Colors: Black, white, orange. Symbolic, powerful, clean design.`,i=await s.generateContent([{text:"Generate an image based on the following description:"},{text:n}]);return console.warn("Image generation is a placeholder. Returning a sample image."),{imageUrl:`https://picsum.photos/seed/${encodeURIComponent(t)}/1024/768`}}catch(r){return console.error("Generate Image Error:",r),{imageUrl:"https://picsum.photos/seed/error/1024/768"}}},Wn=[{id:"ivo-master-1",title:"The IVO Trap",subtitle:"Intervention Orders: From the Inside Out",author:"Mark Mi Words",description:"There is no way of knowing how many family violence orders are enforced across Australia. What we do know is how many have wound up in court. In 2023â€“24, 42% of all civil cases finalised in Australian Magistratesâ€™ Courts involved originating applications for domestic violence orders â€” around 131,000 cases.",coverUrl:"https://images.unsplash.com/photo-1541829081725-6f1c93bb3c24?q=80&w=1200&auto=format&fit=crop",slug:"the-ivo-trap",releaseYear:"2024",buyUrl:"https://www.ingramspark.com/"}],Vn=1.5*1024*1024,Yn=1600/2700,Ya="aca_sovereign_registry",qn=4,qa=()=>new Promise((t,a)=>{const r=indexedDB.open(Ya,qn);r.onupgradeneeded=s=>{const n=s.target.result;n.objectStoreNames.contains("books")||n.createObjectStore("books",{keyPath:"id"})},r.onsuccess=()=>t(r.result),r.onerror=()=>a(r.error)}),Kn=async t=>{const a=await qa();return new Promise((r,s)=>{const n=a.transaction("books","readwrite");n.objectStore("books").put(t),n.oncomplete=()=>r(!0),n.onerror=()=>s(n.error)})},Jn=async()=>{try{const t=await qa();return new Promise((a,r)=>{const i=t.transaction("books","readonly").objectStore("books").getAll();i.onsuccess=()=>a(i.result),i.onerror=()=>r(i.error)})}catch{return[]}},Xn=async()=>{if(window.confirm("CRITICAL: Wipe all local data, images, and sheets for a Clean Slate?")){localStorage.clear();const t=indexedDB.deleteDatabase(Ya);t.onsuccess=()=>{alert("System purged. Reloading..."),window.location.href="/"}}},Zn=()=>{const[t,a]=l.useState([]),[r,s]=l.useState(!1),[n,i]=l.useState(null),[o,c]=l.useState(!1),[d,u]=l.useState(!1),[x,p]=l.useState(!1),[m,h]=l.useState(null),[y,b]=l.useState({x:0,y:0,scale:1}),[v,N]=l.useState(!1),[f,w]=l.useState(!1),j=l.useRef({x:0,y:0}),[g,T]=l.useState({title:"",subtitle:"",author:"",description:"",releaseYear:new Date().getFullYear().toString(),coverUrl:"",buyUrl:"https://www.ingramspark.com/"}),_=l.useRef(null);l.useEffect(()=>{M()},[]);const M=async()=>{const E=[...await Jn()];Wn.forEach($=>{E.find(z=>z.slug===$.slug)||E.push($)}),a(E)},Y=S=>{var z;const E=(z=S.target.files)==null?void 0:z[0];if(!E)return;if(E.size>Vn){i(`CRITICAL OVERSIZE: ${(E.size/1024/1024).toFixed(1)}MB. Use 1.5MB for stability.`);return}const $=new FileReader;$.onload=J=>{var U;const K=(U=J.target)==null?void 0:U.result,B=new Image;B.onload=()=>{h({url:K,originalSize:E.size,width:B.width,height:B.height}),b({x:0,y:0,scale:1}),i(null),p(!1)},B.src=K},$.readAsDataURL(E)},Z=async()=>{if(!g.description){i("DESIGN PROTOCOL: Provide a description first to guide the AI.");return}u(!0),i(null);try{const S=await zn(g.description),E=new Image;E.onload=()=>{h({url:S.imageUrl,originalSize:0,width:E.width,height:E.height}),b({x:0,y:0,scale:1}),N(!0)},E.src=S.imageUrl}catch(S){i(S.message)}finally{u(!1)}},F=async()=>{if(!m)return;c(!0);const S=new Image;S.onload=()=>{const E=document.createElement("canvas");E.width=v?1600:S.width,E.height=v?2700:S.height;const $=E.getContext("2d");if(!$)return;if($.fillStyle="#000",$.fillRect(0,0,E.width,E.height),$.imageSmoothingEnabled=!0,$.imageSmoothingQuality="high",v){const J=S.width/S.height;let K,B;J>Yn?(B=E.height*y.scale,K=B*J):(K=E.width*y.scale,B=K/J);const U=(E.width-K)/2+y.x*(E.width/400),te=(E.height-B)/2+y.y*(E.height/600);$.drawImage(S,U,te,K,B)}else $.drawImage(S,0,0);const z=E.toDataURL("image/jpeg",.9);T(J=>({...J,coverUrl:z})),h(null),c(!1),p(!0)},S.src=m.url},H=async()=>{if(!g.title||!g.coverUrl){i("INTEGRITY ERROR: Title and Master Image are mandatory for Vault registry.");return}const S=g.title.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),E={id:Date.now().toString(),title:g.title,subtitle:g.subtitle||"",author:g.author||"Anonymous",description:g.description||"",coverUrl:g.coverUrl,buyUrl:g.buyUrl||"https://www.ingramspark.com/",releaseYear:g.releaseYear||"2024",slug:S};try{await Kn(E),await M(),s(!1),T({title:"",subtitle:"",author:"",description:"",releaseYear:"2024",coverUrl:"",buyUrl:"https://www.ingramspark.com/"}),p(!1),i(null)}catch{i("VAULT WRITE ERROR: The registry failed to lock the data.")}};return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white pb-32",children:[e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 border-b border-white/5",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.6em] uppercase text-[10px] font-bold mb-6 block",children:"The Sovereign Registry"}),e.jsx("h1",{className:"text-6xl md:text-9xl font-serif font-black mb-12 italic leading-none tracking-tighter uppercase text-white",children:"BOOKS."}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light max-w-3xl leading-relaxed italic opacity-80",children:'"Verified masters locked into the Vault (V4.0)."'})]}),e.jsxs("div",{className:"pb-12 flex flex-col md:flex-row gap-6",children:[e.jsx("button",{onClick:()=>s(!0),className:"animate-living-amber-bg text-white px-10 py-5 text-[10px] font-black uppercase tracking-[0.4em] shadow-xl hover:brightness-110 transition-all rounded-sm",children:"Register Master"}),e.jsx("button",{onClick:Xn,className:"text-[7px] text-red-900 font-bold uppercase tracking-widest hover:text-red-500 transition-colors",children:"Clean Slate Reset"})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-16",children:t.map(S=>e.jsxs("div",{className:"group flex flex-col relative animate-fade-in",children:[e.jsxs(I,{to:`/book/${S.slug}`,className:"relative mb-8 block shadow-2xl border-l-[10px] border-black rounded-r-sm bg-[#0a0a0a] aspect-[16/27] overflow-hidden flex items-center justify-center p-3",children:[S.coverUrl?e.jsx("img",{src:S.coverUrl,alt:S.title,className:"w-full h-full object-contain grayscale-[30%] group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000"}):e.jsx("div",{className:"text-gray-800 text-[10px] font-black uppercase tracking-widest text-center px-6",children:"Master Asset Missing"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/30 via-transparent to-transparent opacity-60"})]}),e.jsx("h3",{className:"text-3xl font-serif font-bold italic mb-1 text-white group-hover:text-[var(--accent)] transition-colors",children:S.title}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:["By ",S.author," â€¢ ",S.releaseYear]}),e.jsx(I,{to:`/book/${S.slug}`,className:"mt-8 border border-white/10 text-white text-center py-4 text-[10px] font-bold uppercase tracking-[0.3em] hover:bg-white hover:text-black transition-all rounded-sm",children:"Examine Master"})]},S.id))})}),r&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-7xl w-full bg-[#0a0a0a] border border-white/10 p-12 shadow-2xl relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[e.jsx("button",{onClick:()=>s(!1),className:"absolute top-8 right-8 text-gray-700 hover:text-white text-3xl leading-none",children:"Ã—"}),e.jsx("h2",{className:"text-4xl font-serif italic text-white mb-6 border-b border-white/5 pb-6 uppercase tracking-tighter",children:"Vault Registration"}),n&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/50 p-6 mb-10 rounded-sm text-red-500 text-[10px] font-black uppercase tracking-widest",children:n}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Book Title"}),e.jsx("input",{value:g.title,onChange:S=>T({...g,title:S.target.value}),className:"w-full bg-black border border-white/10 p-5 text-sm font-serif outline-none focus:border-[var(--accent)] text-white rounded-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Author"}),e.jsx("input",{value:g.author,onChange:S=>T({...g,author:S.target.value}),className:"w-full bg-black border border-white/10 p-5 text-sm font-serif outline-none focus:border-[var(--accent)] text-white rounded-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Full Blurb / Description"}),e.jsx("textarea",{value:g.description,onChange:S=>T({...g,description:S.target.value}),className:"w-full bg-black border border-white/10 p-5 text-sm font-serif outline-none text-white min-h-[160px] rounded-sm resize-none",placeholder:"Enter definitive text..."})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsx("label",{className:"text-[9px] font-bold text-orange-500 uppercase tracking-widest underline",children:"Visual Assets Pathway"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("button",{onClick:()=>{var S;return(S=_.current)==null?void 0:S.click()},className:"w-full py-4 border border-white/10 text-[9px] font-black uppercase tracking-widest hover:bg-white/5 transition-all",children:"Upload JPEG Master"}),e.jsx("button",{onClick:Z,disabled:d,className:`w-full py-4 bg-orange-500/10 border border-orange-500/30 text-orange-500 text-[9px] font-black uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all ${d?"animate-pulse":""}`,children:d?"Generating...":"Generate with AI"})]}),e.jsxs("div",{className:"w-full aspect-[16/27] bg-black border border-white/10 flex items-center justify-center relative overflow-hidden rounded-sm p-4",children:[g.coverUrl?e.jsx("img",{src:g.coverUrl,className:"w-full h-full object-contain",alt:"Master Preview"}):e.jsx("div",{className:"text-center text-gray-800 text-[10px] font-black uppercase tracking-widest italic",children:"Awaiting Visual Master"}),e.jsx("input",{type:"file",ref:_,onChange:Y,className:"hidden",accept:"image/png,image/jpeg"})]}),e.jsx("button",{onClick:H,disabled:!g.title||!g.coverUrl||o,className:"w-full animate-living-amber-bg text-white py-6 text-[10px] font-black uppercase tracking-[0.4em] shadow-xl disabled:opacity-20 transition-all hover:brightness-110 rounded-sm",children:"Commit to Registry"})]}),e.jsxs("div",{className:"lg:col-span-1 bg-white/[0.02] border border-white/5 p-8 rounded-sm",children:[e.jsx("h4",{className:"text-[10px] font-black text-[var(--accent)] uppercase tracking-widest mb-6 underline",children:"Registry Guidance"}),e.jsxs("div",{className:"space-y-6 text-[9px] text-gray-500 uppercase tracking-widest leading-loose",children:[e.jsx("p",{children:"Pathway A: Upload your own high-fidelity cover image."}),e.jsx("p",{children:"Pathway B: Use Gemini AI to synthesize a cover based on your blurb."}),e.jsx("p",{children:"Persistence: Once committed, the book is locked into your Sovereign Vault (V4.0)."})]})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 z-[200] bg-black/98 backdrop-blur-3xl flex items-center justify-center p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-4xl w-full flex flex-col h-full max-h-[90vh]",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-end",children:[e.jsx("h3",{className:"text-2xl font-serif italic text-white uppercase tracking-tighter",children:"Mastering Tool"}),e.jsx("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-white text-5xl leading-none",children:"Ã—"})]}),e.jsx("div",{className:`flex-grow bg-[#050505] border border-white/10 relative overflow-hidden flex items-center justify-center ${v?"cursor-move":""}`,onMouseDown:S=>{v&&(w(!0),j.current={x:S.clientX-y.x,y:S.clientY-y.y})},onMouseMove:S=>{f&&v&&b({...y,x:S.clientX-j.current.x,y:S.clientY-j.current.y})},onMouseUp:()=>w(!1),onWheel:S=>{v&&b(E=>({...E,scale:Math.max(.1,Math.min(5,E.scale-S.deltaY*.001))}))},children:e.jsx("img",{src:m.url,style:{transform:v?`translate(${y.x}px, ${y.y}px) scale(${y.scale})`:"none"},className:`${v?"max-h-[80%]":"max-w-full max-h-full object-contain"} pointer-events-none select-none`})}),e.jsxs("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-center gap-8 bg-black/40 p-8 border border-white/5 rounded-sm",children:[e.jsxs("div",{className:"flex bg-white/5 p-1 border border-white/10 rounded-sm",children:[e.jsx("button",{onClick:()=>N(!1),className:`px-4 py-2 text-[9px] font-black uppercase tracking-widest transition-all ${v?"text-gray-500 hover:text-white":"bg-orange-500 text-white"}`,children:"Original"}),e.jsx("button",{onClick:()=>N(!0),className:`px-4 py-2 text-[9px] font-black uppercase tracking-widest transition-all ${v?"bg-orange-500 text-white":"text-gray-500 hover:text-white"}`,children:"Industrial (16:27)"})]}),e.jsx("button",{onClick:F,className:"animate-living-amber-bg text-white px-12 py-5 text-[10px] font-black uppercase tracking-[0.4em] shadow-xl hover:brightness-110 transition-all rounded-sm",children:"Commit Master"})]})]})})]})},Qn=[{id:"sample-1",title:"The Steel Echo",author:"Mark M.",excerpt:"The sound of the gate closing isnâ€™t just metal on metal. Itâ€™s the sound of a chapter slamming shut on a life you thought was yours.",category:"Diary",imageUrl:"https://images.unsplash.com/photo-1541829081725-6f1c93bb3c24?q=80&w=600&auto=format&fit=crop",tags:["Australian Justice","Solitude"],region:"AU",publishDate:"2024-03-01",stats:{reads:1200,kindredConnections:45,reach:.8}}],ei=()=>{const[t,a]=l.useState(""),[r,s]=l.useState(!1),[n,i]=l.useState([]),[o,c]=l.useState([]),[d,u]=l.useState(!1),[x,p]=l.useState(!1),[m,h]=l.useState({title:"",url:"",excerpt:"",region:"AU",category:"Systemic Memoir"}),y=l.useRef(null),b=l.useCallback(()=>{const f=Qe("external_registry",[]),w=localStorage.getItem(nt("wrap_sheets_v4"));let j=[];try{w&&(j=JSON.parse(w).map(g=>({id:g.id||`sheet-${Math.random()}`,title:g.title||"Untitled Verse",author:"Architect",excerpt:g.content?g.content.substring(0,120)+"...":"Empty sheet awaiting truth.",category:"Systemic Memoir",imageUrl:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?q=80&w=600&auto=format&fit=crop",tags:["Forged Local","Draft"],region:"GLOBAL",publishDate:new Date().toISOString().split("T")[0]})))}catch(g){console.error("Failed to parse custom sheets",g)}c([...f,...j,...Qn])},[]);l.useEffect(()=>{b()},[b]),l.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[n,r]);const v=async f=>{if(f.preventDefault(),!t.trim())return;const w=t;s(!0),i(j=>[...j,{role:"user",content:w}]),a("");try{const j=await Hn(w);i(g=>[...g,j])}catch{i(g=>[...g,{role:"assistant",content:"Insight link failed. System offline."}])}finally{s(!1)}},N=f=>{f.preventDefault();const w={id:`ext-${Date.now()}`,title:m.title,author:"A Captive Audience",excerpt:m.excerpt,category:m.category,imageUrl:"https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=600&auto=format&fit=crop",tags:["Substack Origin","Verified"],region:m.region,publishDate:new Date().toISOString().split("T")[0],stats:{reads:0,kindredConnections:0,reach:1}};m.url&&w.tags.push(`LINK:${m.url}`);const j=Qe("external_registry",[]);et("external_registry",[w,...j]),p(!0),setTimeout(()=>{b(),p(!1),u(!1),h({title:"",url:"",excerpt:"",region:"AU",category:"Systemic Memoir"})},1500)};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 bg-[#050505] min-h-screen",children:[e.jsxs("div",{className:"mb-24 flex flex-col md:flex-row md:items-end justify-between gap-8",children:[e.jsxs("div",{children:[e.jsx("span",{className:"animate-living-accent tracking-[0.5em] uppercase text-[10px] font-black mb-4 block",children:"Archive Directory"}),e.jsxs("h1",{className:"text-6xl md:text-9xl font-serif font-black italic text-white tracking-tighter leading-none",children:["Impacted ",e.jsx("br",{}),e.jsx("span",{className:"animate-living-accent",children:"Truth."})]})]}),e.jsx("button",{onClick:()=>u(!0),className:"bg-white text-black px-10 py-5 text-[10px] font-black uppercase tracking-[0.4em] hover:bg-[var(--accent)] hover:text-white transition-all shadow-xl rounded-sm",children:"+ Ingest Substack Story"})]}),e.jsxs("section",{className:"mb-32 bg-[#0d0d0d] border border-white/5 p-1 relative overflow-hidden shadow-2xl",children:[e.jsxs("div",{ref:y,className:"h-96 overflow-y-auto p-10 space-y-10 bg-black/40 custom-scrollbar",children:[n.length===0&&e.jsx("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-30",children:e.jsx("p",{className:"text-lg italic font-serif text-gray-400 max-w-md",children:"Query the multi-continental impact registry for themes of systemic adversity."})}),n.map((f,w)=>e.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start animate-fade-in"}`,children:e.jsxs("div",{className:`max-w-[80%] p-8 rounded-sm ${f.role==="user"?"bg-white/5 border border-white/10 italic text-gray-500":"bg-[var(--accent)]/5 border border-[var(--accent)]/20 text-gray-200"}`,children:[e.jsx("p",{className:"text-base leading-[1.8] font-serif tracking-wide",children:f.content}),f.sources&&f.sources.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5",children:[e.jsx("p",{className:"text-[10px] font-bold text-[var(--accent)] uppercase tracking-widest mb-3",children:"Sources:"}),e.jsx("ul",{className:"space-y-2",children:f.sources.map((j,g)=>{var T,_,M;return e.jsx("li",{children:e.jsx("a",{href:(T=j.web)==null?void 0:T.uri,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-500 hover:text-white transition-colors underline decoration-white/10 underline-offset-4 break-all",children:((_=j.web)==null?void 0:_.title)||((M=j.web)==null?void 0:M.uri)})},g)})})]})]})},w))]}),e.jsxs("form",{onSubmit:v,className:"p-4 bg-[#111] border-t border-white/5 flex gap-4",children:[e.jsx("input",{value:t,onChange:f=>a(f.target.value),placeholder:"Search the archive context...",className:"flex-grow bg-black border border-white/10 px-6 py-5 text-sm font-serif focus:border-[var(--accent)] outline-none text-white transition-all"}),e.jsx("button",{type:"submit",disabled:r,className:"bg-[var(--accent)] text-white px-10 py-5 font-black uppercase text-[10px] tracking-[0.4em] animate-living-amber-bg disabled:opacity-50",children:r?"...":"Ask"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-16",children:o.length>0?o.map(f=>{var g,T,_;const w=(T=(g=f.tags)==null?void 0:g.find(M=>M.startsWith("LINK:")))==null?void 0:T.replace("LINK:",""),j=(_=f.tags)==null?void 0:_.includes("Substack Origin");return e.jsxs("div",{className:"group flex flex-col relative animate-fade-in",children:[e.jsxs("div",{className:`h-80 overflow-hidden relative border rounded-sm transition-all duration-700 ${j?"border-orange-500/20 shadow-[0_0_40px_rgba(230,126,34,0.1)]":"border-white/5"}`,children:[e.jsx("img",{src:f.imageUrl,alt:f.title,className:`w-full h-full object-cover transition-all duration-1000 ${j?"grayscale-[0.5] group-hover:grayscale-0":"grayscale group-hover:grayscale-0 group-hover:scale-105"}`}),e.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest bg-[var(--accent)] text-white px-3 py-1 animate-living-amber-bg",children:f.category}),j&&e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest bg-white text-black px-3 py-1",children:"Substack"})]})]}),e.jsxs("div",{className:"pt-8 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-4xl font-serif font-black mb-6 italic text-white group-hover:animate-living-accent transition-colors leading-none tracking-tighter",children:f.title}),e.jsxs("p",{className:"text-gray-500 text-sm italic font-light leading-relaxed mb-8",children:['"',f.excerpt,'"']}),e.jsxs("div",{className:"mt-auto flex justify-between items-center pt-6 border-t border-white/5",children:[e.jsxs("span",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:["By ",f.author]}),w?e.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--accent)] text-[9px] font-black uppercase tracking-widest hover:underline flex items-center gap-2",children:"Read Truth â†’"}):e.jsx(I,{to:"/author-builder",className:"text-[var(--accent)] text-[9px] font-black uppercase tracking-widest hover:underline animate-living-accent",children:"Examine Sheet â†’"})]})]})]},f.id)}):e.jsx("div",{className:"col-span-full py-24 text-center border border-dashed border-white/10 opacity-30 italic font-serif",children:"The archive link is cold. Ingest a story to begin."})}),d&&e.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-3xl flex items-center justify-center p-6 animate-fade-in",children:e.jsx("div",{className:"max-w-2xl w-full bg-[#0d0d0d] border border-white/10 p-12 shadow-2xl relative rounded-sm",children:x?e.jsxs("div",{className:"py-24 text-center space-y-6 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_40px_rgba(34,197,94,0.4)]",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h3",{className:"text-4xl font-serif italic text-white uppercase tracking-tighter",children:"Registry Updated."}),e.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.5em]",children:"Synchronizing Archive Node..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(!1),className:"absolute top-8 right-8 text-gray-700 hover:text-white text-3xl leading-none",children:"Ã—"}),e.jsxs("div",{className:"mb-10",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.5em] uppercase text-[10px] font-black mb-4 block",children:"Narrative Bridge"}),e.jsxs("h2",{className:"text-4xl font-serif italic text-white",children:["Register ",e.jsx("span",{className:"text-[var(--accent)]",children:"Substack."})]})]}),e.jsxs("form",{onSubmit:N,className:"space-y-8 text-left",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Story Title"}),e.jsx("input",{required:!0,value:m.title,onChange:f=>h({...m,title:f.target.value}),className:"w-full bg-black border border-white/10 p-4 text-sm font-serif focus:border-[var(--accent)] outline-none text-white transition-all",placeholder:"Title of your Substack post"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Substack URL"}),e.jsx("input",{required:!0,type:"url",value:m.url,onChange:f=>h({...m,url:f.target.value}),className:"w-full bg-black border border-white/10 p-4 text-sm font-serif focus:border-[var(--accent)] outline-none text-white transition-all",placeholder:"https://captiveaudience.substack.com/p/..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Brief Hook / Excerpt"}),e.jsx("textarea",{required:!0,value:m.excerpt,onChange:f=>h({...m,excerpt:f.target.value}),className:"w-full bg-black border border-white/10 p-4 text-sm font-serif focus:border-[var(--accent)] outline-none text-white min-h-[120px] resize-none",placeholder:"A raw excerpt to hook the reader..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Region"}),e.jsxs("select",{value:m.region,onChange:f=>h({...m,region:f.target.value}),className:"w-full bg-black border border-white/10 p-4 text-[10px] font-black uppercase text-white outline-none focus:border-[var(--accent)]",children:[e.jsx("option",{value:"AU",children:"AUSTRALIA"}),e.jsx("option",{value:"US",children:"UNITED STATES"}),e.jsx("option",{value:"UK",children:"UNITED KINGDOM"}),e.jsx("option",{value:"GLOBAL",children:"GLOBAL"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Category"}),e.jsxs("select",{value:m.category,onChange:f=>h({...m,category:f.target.value}),className:"w-full bg-black border border-white/10 p-4 text-[10px] font-black uppercase text-white outline-none focus:border-[var(--accent)]",children:[e.jsx("option",{value:"Diary",children:"DIARY"}),e.jsx("option",{value:"Short Story",children:"SHORT STORY"}),e.jsx("option",{value:"Essay",children:"ESSAY"}),e.jsx("option",{value:"Systemic Memoir",children:"SYSTEMIC MEMOIR"})]})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-[var(--accent)] text-white py-5 text-[10px] font-black uppercase tracking-[0.4em] shadow-xl hover:brightness-110 transition-all rounded-sm",children:"Commit to Registry"})]})]})})}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
      `})]})},Ka=l.createContext(null),ti=({children:t})=>{const[a,r]=l.useState(!1),[s,n]=l.useState(!1),[i,o]=l.useState(!1),[c,d]=l.useState(!1),[u,x]=l.useState("Standby"),[p,m]=l.useState(""),h=l.useRef(null),y=l.useRef(null),b=l.useRef(null),v=l.useRef(0),N=l.useRef(new Set),f=l.useRef(""),w=F=>{try{const H=atob(F),S=new Uint8Array(H.length);for(let E=0;E<H.length;E++)S[E]=H.charCodeAt(E);return S}catch{return new Uint8Array(0)}},j=async(F,H,S,E)=>{const $=new Int16Array(F.buffer),z=$.length/E,J=H.createBuffer(E,z,S);for(let K=0;K<E;K++){const B=J.getChannelData(K);for(let U=0;U<z;U++)B[U]=$[U*E+K]/32768}return J},g=F=>{let H="";for(let S=0;S<F.byteLength;S++)H+=String.fromCharCode(F[S]);return btoa(H)},T=F=>{const H=new Int16Array(F.length);for(let S=0;S<F.length;S++)H[S]=F[S]*32768;return{data:g(new Uint8Array(H.buffer)),mimeType:"audio/pcm;rate=16000"}},_=F=>{h.current&&h.current.sendRealtimeInput({text:F})},M=()=>{d(!1),localStorage.setItem("aca:v5:intro_complete","true")},Y=async F=>{if(a)return;n(!0),x("Linking Hardware...");const H=je("aca_author_profile",{name:"Author",wrapName:"Rap"}),S=localStorage.getItem("aca:v5:intro_complete")==="true";d(!S),f.current="";try{const E=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),$=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});y.current=E,b.current=$;const z=await navigator.mediaDevices.getUserMedia({audio:!0}),K=`
        MISSION: You are Rap. ${`
        STRICT_PROTOCOL (v10.2):
        You are Rap.
        
        IF NEW USER OR RE-RUN INTRO:
        Start EXACTLY with: "Author, the link is solid."
        Then pause for 2 seconds.
        Then continue: "You are standing in the Sovereign Forgeâ€”a workspace where the 'Grammar Barrier' is dismantled. Here, you are able to tell, or type your story. You can call me Rap, your Writing, Revision, Articulation and Polishing Partner on the wire. 
        
        Look up at the orange boxâ€”that's The Write block, it captures your truth. The Revise block performs structural scrubs without stripping the grit. The Articulate block tunes me up to read your stories back to you. And the Polish block prepares your Sheet for export.
        
        To your left, the Navigator lets you start a new sheet. To your right, the Partner desk is where our dialogue lives. 
        
        Orientation Complete. The anvil is yours."

        IF RETURNING USER:
        Greet concisely: "Welcome back, ${H.name}. The forge is live."

        ACOUSTIC_TRIGGERS: You MUST use these exact phrases to light up the UI: 
        "Write block", "Revise block", "Articulate block", "Polish block", "Navigator", "Partner desk", "Wrapp profile", "Orientation Complete".
      `}
        AUTHOR: ${H.name}
      `,B=Va({onopen:()=>{r(!0),n(!1),x("Live Link"),B.then(ne=>{const se=F||(S?"Welcome back Architect.":"Establishing link. Begin.");ne.sendRealtimeInput({text:se})});const U=E.createMediaStreamSource(z),te=E.createScriptProcessor(4096,1,1);te.onaudioprocess=ne=>{const se=ne.inputBuffer.getChannelData(0),ge=T(se);B.then(Ie=>{try{Ie.sendRealtimeInput({media:ge})}catch{}}).catch(()=>{})},U.connect(te),te.connect(E.destination)},onmessage:async U=>{var te,ne,se,ge,Ie,Ce,fe;if((ne=(te=U.serverContent)==null?void 0:te.modelTurn)!=null&&ne.parts){o(!1);for(const pe of U.serverContent.modelTurn.parts)if((se=pe.inlineData)!=null&&se.data){v.current=Math.max(v.current,$.currentTime);const Te=await j(w(pe.inlineData.data),$,24e3,1),_e=$.createBufferSource();_e.buffer=Te,_e.connect($.destination),_e.start(v.current),v.current+=Te.duration,N.current.add(_e)}}if((ge=U.serverContent)!=null&&ge.outputTranscription){const pe=U.serverContent.outputTranscription.text;f.current+=pe,m(f.current)}(Ie=U.serverContent)!=null&&Ie.inputTranscription&&o(!0),(Ce=U.serverContent)!=null&&Ce.turnComplete&&o(!1),(fe=U.serverContent)!=null&&fe.interrupted&&(N.current.forEach(pe=>{try{pe.stop()}catch{}}),N.current.clear(),v.current=0,o(!1))},onclose:()=>{r(!1),x("Standby")},onerror:U=>{console.error("Link Error:",U),r(!1),n(!1),x("Hardware Error")}},K);h.current=await B}catch(E){console.error("Link Initialization Failed:",E),n(!1),x("Failed")}},Z=()=>{if(h.current)try{h.current.close()}catch{}if(y.current)try{y.current.close()}catch{}if(b.current)try{b.current.close()}catch{}r(!1),x("Standby"),m("")};return e.jsx(Ka.Provider,{value:{isActive:a,isConnecting:s,isThinking:i,isOrientation:c,status:u,wrapTranscription:p,startSession:Y,stopSession:Z,sendHandshake:_,endOrientation:M},children:t})},Gt=()=>{const t=l.useContext(Ka);if(!t)throw new Error("useAcousticLink must be used within AcousticLinkProvider");return t},ma=["Fiction","Non-Fiction","Prison Life","Crime Life","Love Story","Sad Story","Tragic Story","Life Story"],ga=["Asia","Australia","North America","South America","United Kingdom","Europe"],ai=["Timid","Cool","Mild","Natural","Wild","Firebrand"],fa={id:"1",title:"",content:"",order:0,media:[],subChapters:[]};function ri(t){let a="";for(let r=0;r<t.byteLength;r++)a+=String.fromCharCode(t[r]);return btoa(a)}const si=t=>{const a=new Int16Array(t.length);for(let r=0;r<t.length;r++)a[r]=t[r]*32768;return{data:ri(new Uint8Array(a.buffer)),mimeType:"audio/pcm;rate=16000"}},ni=()=>{const t=$e(),{isActive:a,isThinking:r,isOrientation:s,wrapTranscription:n,stopSession:i,endOrientation:o}=Gt(),c=l.useRef(null),d=l.useRef(null),u=l.useRef(null),x=l.useRef(null),p=l.useRef(null),m=l.useRef(null),[h,y]=l.useState(320),[b,v]=l.useState(400),N=l.useRef(!1),f=l.useRef(!1),[w,j]=l.useState(()=>je("wrap_sheets_v4",[])),[g,T]=l.useState(()=>{var k;return((k=w[0])==null?void 0:k.id)||"initial"}),[_,M]=l.useState([]),[Y,Z]=l.useState(""),[F,H]=l.useState(!1),[S,E]=l.useState(!1),[$,z]=l.useState(!1),[J,K]=l.useState(!1),[B,U]=l.useState(!1),[te,ne]=l.useState(!1),[se,ge]=l.useState(!1),[Ie,Ce]=l.useState(null),[fe,pe]=l.useState(!1),[Te,_e]=l.useState(!1),[Le,Fe]=l.useState(null),[C,D]=l.useState(!0),[R,O]=l.useState(null),le=l.useRef(null),X=l.useRef(new Set),ce=l.useRef(""),Q=l.useRef(0),ae=l.useRef(0),[ot,lt]=l.useState(!1),[be,de]=l.useState(!1),[we,Ye]=l.useState(!1),[Oe,qe]=l.useState(()=>je("aca_author_profile",{}).motivation||ma[2]),[ve,ct]=l.useState(()=>je("aca_author_profile",{}).region||ga[1]),[Pe,vt]=l.useState(()=>{const k=je("aca_author_profile",{personalityIndex:3});return ai[k.personalityIndex]||"Natural"}),[Ke,yt]=l.useState("Neutral"),[Ja,Di]=l.useState("Normal"),[Xa,$i]=l.useState("AU"),[Za,Ui]=l.useState("1x"),[zt,Qa]=l.useState(()=>!!je("sovereign_vault",{sheets:[],books:[],ai:[],audits:[]}).voiceSignature),[dt,er]=l.useState(zt),[tr,wt]=l.useState(!1),[jt,Wt]=l.useState(0),[ar,ht]=l.useState(!1),[rr,Vt]=l.useState(null),Nt=l.useRef(null),kt=l.useRef(null),he=w.find(k=>k.id===g)||(w.length>0?w[0]:fa),sr=he.content.split(/\s+/).filter(Boolean).length;l.useEffect(()=>{w.length===0&&(j([{id:"intro-guide",title:"",content:"",order:0,media:[],subChapters:[]}]),T("intro-guide"))},[]),l.useEffect(()=>{if(!n){s||X.current.clear();return}ce.current=n;const k=n.toLowerCase();[{key:"write block",trigger:"amber"},{key:"revise block",trigger:"red"},{key:"articulate block",trigger:"blue"},{key:"polish block",trigger:"green"},{key:"navigator",trigger:"cyan"},{key:"partner desk",trigger:"orange"},{key:"wrapp profile",trigger:"magenta"}].forEach(A=>{k.includes(A.key)&&!X.current.has(A.key)&&(X.current.add(A.key),le.current&&window.clearTimeout(le.current),O(A.trigger),le.current=window.setTimeout(()=>O(null),4e3))}),s&&!we&&(k.includes("orientation complete")||k.includes("anvil is yours"))&&Ye(!0)},[n,s,we]),l.useEffect(()=>{if(!s)return;const k=setInterval(()=>{const L=ce.current.trim();if(!L||be)return;const A="Author, the link is solid.";if(ot){const W=L.toLowerCase().indexOf(A.toLowerCase());if(W===-1)return;const q=L.substring(W+A.length).trim();if(ae.current<q.length){const ie=ae.current+1,ue=q.substring(0,ie);ae.current=ie,j(re=>re.map(ye=>ye.id===g?{...ye,content:ue}:ye))}}else if(Q.current<A.length){const P=Q.current+1,W=A.substring(0,P);Q.current=P,j(q=>q.map(ie=>ie.id===g?{...ie,title:W}:ie)),W===A&&(lt(!0),de(!0),setTimeout(()=>de(!1),2500))}},45);return()=>clearInterval(k)},[s,g,ot,be]),l.useEffect(()=>{const k=A=>{if(N.current){const P=A.clientX;P>200&&P<500&&y(P)}if(f.current){const P=window.innerWidth-A.clientX;P>300&&P<800&&v(P)}},L=()=>{N.current=!1,f.current=!1};return window.addEventListener("mousemove",k),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",L)}},[]),l.useEffect(()=>{p.current&&window.clearTimeout(p.current),E(!0),p.current=window.setTimeout(()=>{et("wrap_sheets_v4",w),E(!1)},1e3)},[w]);const nr=k=>{if(k&&(k.preventDefault(),k.stopPropagation()),s){const A=je("sovereign_vault",{sheets:[],books:[],ai:[],audits:[]}),P={id:`tour-${Date.now()}`,timestamp:new Date().toISOString(),status:"archived",data:he};A.sheets=[P,...A.sheets||[]],et("sovereign_vault",A),o()}const L=Date.now().toString();j(A=>[{...fa,id:L,title:""},...A]),T(L),pe(!1),Fe(null),Ye(!1),lt(!1),de(!1),ce.current="",Q.current=0,ae.current=0,X.current.clear(),setTimeout(()=>{var A;return(A=u.current)==null?void 0:A.focus()},100)},ir=async()=>{a?i():t("/live-protocol")},or=async(k,L)=>{k&&k.preventDefault();const A=(L||Y).trim();if(!(!A||F)){Z(""),M(P=>[...P,{role:"user",content:A}]),H(!0);try{const P=await Ht(A,Oe,ve,_,he.content,Pe);M(W=>[...W,P])}catch{M(W=>[...W,{role:"assistant",content:"Archive link interrupted."}])}finally{H(!1),setTimeout(()=>{var P;return(P=d.current)==null?void 0:P.scrollTo({top:d.current.scrollHeight,behavior:"smooth"})},100)}}},Be=async(k,L)=>{var A;if(!((A=he.content)!=null&&A.trim()))return he.content;L==="revise"?(K(!0),Ce(k)):ne(!0);try{const P=await Un(he.content,k,Oe,ve,Pe);return j(W=>W.map(q=>q.id===g?{...q,content:P.text}:q)),k==="rinse"&&pe(!0),P.text}catch{return he.content}finally{K(!1),ne(!1),Ce(null)}},lr=async()=>{var L;if(se||B){St();return}if(!((L=he.content)!=null&&L.trim()))return;let k=he.content;fe||(k=await Be("rinse","revise")),U(!0);try{const A=await $n(k,{gender:Ke,sound:Ja,accent:Xa,speed:Za,isClone:dt},Oe,ve,Pe),P=dt?"Zephyr":Ke==="Female"?"Puck":"Kore",W=await Bn(A.text.substring(0,1e3),P);await cr(W)}catch{St()}},St=()=>{if(m.current){try{m.current.stop()}catch{}m.current=null}ge(!1),U(!1)},cr=async k=>{try{const L=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});L.state==="suspended"&&await L.resume();const A=atob(k),P=new Uint8Array(A.length);for(let re=0;re<A.length;re++)P[re]=A.charCodeAt(re);const W=new Int16Array(P.buffer),q=L.createBuffer(1,W.length,24e3),ie=q.getChannelData(0);for(let re=0;re<W.length;re++)ie[re]=W[re]/32768;const ue=L.createBufferSource();ue.buffer=q,ue.connect(L.destination),ue.onended=()=>{ge(!1),U(!1)},m.current=ue,ge(!0),U(!1),ue.start()}catch{St()}},dr=async k=>{if(ar){hr();return}Vt(k),ht(!0);try{const L=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});kt.current=L;const A=await navigator.mediaDevices.getUserMedia({audio:!0}),P=Va({onopen:()=>{const W=L.createMediaStreamSource(A),q=L.createScriptProcessor(4096,1,1);q.onaudioprocess=ie=>{const ue=ie.inputBuffer.getChannelData(0),re=si(ue);P.then(ye=>ye.sendRealtimeInput({media:re}))},W.connect(q),q.connect(L.destination)},onmessage:W=>{var ie,ue;const q=(ue=(ie=W.serverContent)==null?void 0:ie.inputTranscription)==null?void 0:ue.text;q&&k==="sheet"&&j(re=>re.map(ye=>ye.id===g?{...ye,content:(ye.content+" "+q).trim()}:ye))},onclose:()=>ht(!1)},"Scribe faithfully.");Nt.current=await P}catch{ht(!1)}},hr=()=>{if(Nt.current)try{Nt.current.close()}catch{}if(kt.current)try{kt.current.close()}catch{}ht(!1),Vt(null)},ur=$||J||B||te||Te;return e.jsxs("div",{className:"flex h-[calc(100vh-6rem)] bg-[#020202] text-white overflow-hidden relative",children:[(ur||R)&&e.jsx("div",{className:`fixed inset-0 z-[1000] pointer-events-none mix-blend-screen opacity-10 transition-all duration-300
          ${$||R==="amber"?"animate-global-strobe-amber":""}
          ${J||R==="red"?"animate-global-strobe-red":""}
          ${B||R==="blue"?"animate-global-strobe-blue":""}
          ${te||R==="green"?"animate-global-strobe-green":""}
          ${R==="cyan"?"animate-global-strobe-cyan":""}
          ${R==="orange"?"animate-global-strobe-orange":""}
          ${R==="magenta"?"animate-global-strobe-magenta":""}
        `}),Le&&C&&e.jsxs("div",{className:"absolute inset-0 z-0 animate-mood-fade-in pointer-events-none",children:[e.jsx("img",{src:Le,className:"w-full h-full object-cover opacity-[0.28] grayscale brightness-[0.35] blur-[10px] scale-[1.05]",alt:"Scene Mood"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#020202] via-transparent to-[#020202] opacity-90"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 mix-blend-multiply"})]}),a&&!s&&e.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[2000] w-full max-w-2xl px-6 animate-fade-in pointer-events-none",children:e.jsxs("div",{className:"bg-black/60 backdrop-blur-3xl border border-[var(--accent)]/20 p-6 rounded-sm shadow-none flex items-center gap-8 pointer-events-auto border-b-2 border-b-[var(--accent)]/40",children:[e.jsxs("div",{className:"relative w-12 h-12 shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[var(--accent)] rounded-full animate-ping opacity-10"}),e.jsx("div",{className:`w-full h-full rounded-full border-2 border-[var(--accent)]/40 flex items-center justify-center ${r?"animate-spin border-dashed":"animate-pulse"}`,children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-[var(--accent)] shadow-[0_0_10px_var(--accent)]"})})]}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.4em] text-[var(--accent)] opacity-50",children:"Acoustic Link Matrix"}),e.jsx("div",{className:"h-[1px] flex-grow bg-white/5"})]}),e.jsxs("p",{className:"text-lg font-serif italic text-white/90 leading-tight",children:['"',n||"Observing Architect...",'"']})]}),e.jsx("button",{type:"button",onClick:i,className:"p-3 text-gray-700 hover:text-red-500 transition-colors pointer-events-auto",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12",strokeWidth:"2",strokeLinecap:"round"})})})]})}),e.jsxs("aside",{style:{width:`${h}px`},className:`border-r border-white/10 bg-[#080808]/90 backdrop-blur-xl flex flex-col shrink-0 transition-all relative pt-20 z-50 
          ${R==="cyan"?"bg-cyan-500/20 border-r-cyan-500 shadow-[inset_-20px_0_60px_rgba(6,182,212,0.3)] scale-[1.01]":""}`,children:[e.jsxs("div",{className:"px-8 mb-6 space-y-4",children:[e.jsx("button",{type:"button",onClick:nr,className:`w-full py-3 text-[9px] font-black uppercase tracking-[0.4em] transition-all shadow-xl rounded-sm ${we?"animate-intro-finish-strobe text-white":"bg-black border border-white/5 text-gray-600 hover:text-white"}`,children:"+ New Sheet"}),e.jsx("button",{type:"button",onClick:ir,className:`w-full py-3 border border-[var(--accent)]/40 text-[var(--accent)] text-[9px] font-black uppercase tracking-[0.4em] flex items-center justify-center gap-2 hover:bg-[var(--accent)] hover:text-white transition-all rounded-sm ${a?"bg-[var(--accent)]/20 text-white border-[var(--accent)]":""}`,children:a?"DISCONNECT CHAT":"WRAPP CHAT"})]}),e.jsxs("div",{className:"px-8 py-5 bg-white/5 border-y border-white/10 flex flex-col gap-1",style:{borderLeft:"4px solid var(--accent)"},children:[e.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest text-[var(--accent)]",children:"Current Sheet"}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-white truncate",children:he.title||"Untitled Sheet"})]}),e.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar",children:w.filter(k=>k.id!==g).map(k=>e.jsx("div",{onClick:()=>{T(k.id),Fe(null)},className:"py-5 px-10 cursor-pointer border-l-4 border-transparent text-gray-700 hover:bg-white/5 hover:text-gray-400 transition-all",children:e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.3em] truncate",children:k.title||"Untitled Sheet"})},k.id))}),e.jsx("div",{className:"p-8 border-t border-white/10 bg-black/60 space-y-3",children:e.jsx(I,{to:"/sovereign-vault",className:"block text-center text-[7px] text-gray-800 uppercase font-black hover:text-cyan-500 transition-all",children:"Sovereign Registry"})})]}),e.jsx("div",{onMouseDown:()=>{N.current=!0},className:"w-1 bg-white/5 hover:bg-orange-500 cursor-ew-resize z-[60] transition-colors relative",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-12 bg-orange-500/20 rounded-full blur-md opacity-0 hover:opacity-100 transition-opacity"})}),e.jsxs("main",{className:"flex-grow flex flex-col relative overflow-hidden bg-transparent z-40 pt-16",children:[e.jsxs("div",{className:"shrink-0 h-24 bg-black/40 backdrop-blur-md flex items-stretch border-b border-white/10 relative z-50",children:[e.jsxs("div",{className:`flex-1 group/write relative cursor-pointer transition-all border-r border-white/5 ${R==="amber"?"bg-orange-500/40 border-b-8 border-b-orange-500 shadow-[inset_0_0_80px_rgba(245,158,11,0.5)] scale-[1.02]":"hover:bg-white/[0.02]"}`,children:[e.jsx("div",{className:"h-full flex flex-col items-center justify-center relative z-10",children:e.jsxs("span",{className:`text-[11px] font-black tracking-[0.4em] uppercase transition-all duration-300 ${R==="amber"?"text-orange-500 scale-125":"text-gray-700 group-hover/write:text-orange-500"}`,children:[e.jsx("span",{className:"text-2xl mr-0.5",children:$?"...":"W"}),"rite"]})}),e.jsxs("div",{className:"absolute top-full left-0 w-64 bg-black border border-orange-500 shadow-2xl z-[100] opacity-0 invisible group-hover/write:opacity-100 group-hover/write:visible translate-y-2 group-hover/write:translate-y-0 transition-all duration-200 rounded-sm overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},className:"w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest text-white/40 hover:text-orange-500 hover:bg-white/5 border-b border-white/5 transition-colors",children:"Import Files"}),e.jsx("button",{type:"button",onClick:()=>dr("sheet"),className:`w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest border-b border-white/5 transition-colors ${rr==="sheet"?"text-orange-500 animate-pulse":"text-white/40 hover:text-orange-500"}`,children:"Dictation"})]})]}),e.jsxs("div",{className:`flex-1 group/revise relative cursor-pointer transition-all border-r border-white/5 ${R==="red"?"bg-red-500/40 border-b-8 border-b-red-500 shadow-[inset_0_0_80px_rgba(231,76,60,0.5)] scale-[1.02]":"hover:bg-white/[0.02]"}`,children:[e.jsx("div",{className:"h-full flex flex-col items-center justify-center relative z-10",children:e.jsxs("span",{className:`text-[11px] font-black tracking-[0.4em] uppercase transition-all duration-300 ${R==="red"?"text-red-500 scale-125":"text-gray-700 group-hover/revise:text-red-500"}`,children:[e.jsx("span",{className:"text-2xl mr-0.5",children:J?"...":"R"}),"evise"]})}),e.jsxs("div",{className:"absolute top-full left-0 w-64 bg-black border border-red-500 shadow-2xl z-[100] opacity-0 invisible group-hover/revise:opacity-100 group-hover/revise:visible translate-y-2 group-hover/revise:translate-y-0 transition-all duration-200 rounded-sm overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>Be("rinse","revise"),className:"w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest text-green-500 hover:bg-green-500/10 border-b border-white/5 transition-colors",children:"Rinse (Typos)"}),e.jsx("button",{type:"button",onClick:()=>Be("wash","revise"),className:"w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest text-amber-500 hover:bg-amber-500/10 border-b border-white/5 transition-colors",children:"Wash (Structure)"}),e.jsx("button",{type:"button",onClick:()=>Be("scrub","revise"),className:"w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest text-red-500 hover:bg-red-500/10 border-b border-white/5 transition-colors",children:"Scrub (Deep)"})]})]}),e.jsxs("div",{className:`flex-1 group/articulate relative cursor-pointer transition-all border-r border-white/5 ${R==="blue"?"bg-blue-500/40 border-b-8 border-b-blue-500 shadow-[inset_0_0_80px_rgba(52,152,219,0.5)] scale-[1.02]":"hover:bg-white/[0.02]"}`,children:[e.jsx("div",{className:"h-full flex flex-col items-center justify-center relative z-10",children:e.jsxs("span",{className:`text-[11px] font-black tracking-[0.4em] uppercase transition-all duration-300 ${R==="blue"?"text-blue-500 scale-125":"text-gray-700 group-hover/articulate:text-blue-500"}`,children:[e.jsx("span",{className:"text-2xl mr-0.5",children:B?"...":"A"}),"rticulate"]})}),e.jsx("div",{className:"absolute top-full left-0 w-80 bg-black border border-blue-500 shadow-2xl z-[100] opacity-0 invisible group-hover/articulate:opacity-100 group-hover/articulate:visible translate-y-2 group-hover/articulate:translate-y-0 transition-all duration-200 rounded-sm overflow-hidden",children:e.jsxs("div",{className:"p-6 space-y-6 bg-black/95",children:[e.jsx("button",{type:"button",onClick:()=>wt(!0),className:`w-full py-3 border text-[10px] font-black uppercase tracking-widest transition-all rounded-sm ${dt?"bg-blue-500 border-blue-500 text-white":"border-blue-500/30 text-blue-400 hover:bg-blue-500/10"}`,children:zt?dt?"Vocal Identity: Active":"Enable My Voice":"Clone My Voice"}),e.jsx("button",{type:"button",onClick:lr,className:"w-full py-4 bg-blue-500 text-white text-[10px] font-black uppercase tracking-[0.4em] hover:bg-blue-600 transition-all rounded-sm shadow-xl",children:se?"Stop Forging":"Vocalize Forge"})]})})]}),e.jsxs("div",{className:`flex-1 group/polish relative cursor-pointer transition-all ${R==="green"?"bg-green-500/40 border-b-8 border-b-green-500 shadow-[inset_0_0_80px_rgba(46,204,113,0.5)] scale-[1.02]":"hover:bg-white/[0.02]"}`,children:[e.jsx("div",{className:"h-full flex flex-col items-center justify-center relative z-10",children:e.jsxs("span",{className:`text-[11px] font-black tracking-[0.4em] uppercase transition-all duration-300 ${R==="green"?"text-green-500 scale-125":"text-gray-700 group-hover/polish:text-green-500"}`,children:[e.jsx("span",{className:"text-2xl mr-0.5",children:te?"...":"P"}),"olish"]})}),e.jsxs("div",{className:"absolute top-full right-0 w-64 bg-black border border-green-500 shadow-2xl z-[100] opacity-0 invisible group-hover/polish:opacity-100 group-hover/polish:visible translate-y-2 group-hover/polish:translate-y-0 transition-all duration-200 rounded-sm overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>Be("polish_story","polish"),className:"w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest text-white/60 hover:text-green-500 hover:bg-white/5 border-b border-white/5 transition-colors",children:"Polish Story"}),e.jsx("button",{type:"button",onClick:()=>Be("sanitise","polish"),className:"w-full text-left px-6 py-4 text-[9px] font-black uppercase tracking-widest text-red-500 hover:bg-red-500/10 border-b border-white/5 transition-colors",children:"Sanitise PII"})]})]})]}),e.jsxs("div",{className:"flex-grow flex flex-col overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"py-4 bg-[#030303]/40 border-b border-white/5 px-12",children:e.jsx("input",{ref:u,type:"text",value:he.title,onChange:k=>j(L=>L.map(A=>A.id===g?{...A,title:k.target.value}:A)),className:`w-full bg-transparent border-none outline-none focus:ring-0 text-white text-3xl md:text-5xl font-serif italic placeholder:text-white/10 tracking-tighter transition-all duration-700 ${be?"animate-intro-heading-glow text-orange-500":""}`,placeholder:"Draft Title..."})}),e.jsxs("div",{className:"px-12 py-6 flex flex-grow relative",children:[Le&&e.jsx("div",{className:"hidden lg:block absolute right-12 top-6 w-48 animate-polaroid-entry group z-20",children:e.jsxs("div",{className:"bg-white p-2 pb-10 shadow-[0_30px_60px_rgba(0,0,0,0.8)] -rotate-3 transition-all hover:rotate-0 hover:scale-110 cursor-pointer border border-white/10 relative",children:[e.jsx("img",{src:Le,className:"w-full h-auto grayscale-[0.2] group-hover:grayscale-0 transition-all",alt:"Scene Polaroid"}),e.jsx("div",{className:"absolute bottom-2 left-0 w-full text-center text-[8px] text-gray-500 font-serif italic tracking-tighter",children:"Scene Manifested."})]})}),e.jsx("textarea",{ref:x,value:he.content,onChange:k=>j(L=>L.map(A=>A.id===g?{...A,content:k.target.value}:A)),className:`w-full flex-grow bg-transparent border-none outline-none focus:ring-0 resize-none text-gray-300 text-2xl font-serif leading-[2.2] placeholder:text-white/5 relative z-10 transition-all duration-500 ${we?"glow-white text-white":""}`,placeholder:"Begin your reclamation..."})]})]}),e.jsx("div",{className:"h-10 px-12 bg-black border-t border-white/10 flex justify-between items-center text-[8px] font-black uppercase tracking-[0.4em] text-gray-800",children:e.jsxs("div",{className:"flex gap-12 items-center",children:[e.jsxs("span",{children:["Words: ",sr]}),e.jsx("div",{className:"h-3 w-[1px] bg-white/5"}),e.jsxs("span",{children:["Temperament: ",e.jsx("span",{className:"text-[var(--accent)] animate-pulse",children:Pe})]}),e.jsx("div",{className:"h-3 w-[1px] bg-white/5"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${S?"bg-amber-500 shadow-[0_0_8px_#f59e0b]":"bg-cyan-500 shadow-[0_0_8px_#06b6d4]"}`}),e.jsx("span",{children:S?"SAVING...":"SECURED"})]})]})})]}),e.jsx("div",{onMouseDown:()=>{f.current=!0},className:"w-1 bg-white/5 hover:bg-orange-500 cursor-ew-resize z-[60] transition-colors relative",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-12 bg-orange-500/20 rounded-full blur-md opacity-0 hover:opacity-100 transition-opacity"})}),e.jsxs("aside",{className:`border-l border-white/10 bg-[#080808]/90 backdrop-blur-xl flex flex-col shrink-0 relative transition-all z-50
          ${R==="orange"?"bg-orange-500/20 border-l-orange-500 shadow-[inset_20px_0_60px_rgba(245,158,11,0.3)] scale-[1.01]":""}
          ${R==="magenta"?"bg-purple-500/20 border-l-purple-500 shadow-[inset_20px_0_60px_rgba(168,85,247,0.3)]":""}
        `,style:{width:`${b}px`},children:[e.jsx("div",{className:"p-10 border-b border-white/10 bg-black flex items-center justify-between",children:e.jsxs(I,{to:"/wrapper-info",className:`flex items-center gap-4 group transition-all ${R==="magenta"?"scale-110":""}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${R==="magenta"?"bg-purple-500 shadow-[0_0_10px_purple]":"bg-[var(--accent)]"}`}),e.jsx("h3",{className:`text-[11px] font-black uppercase tracking-[0.6em] group-hover:underline ${R==="magenta"?"text-purple-500":""}`,style:{color:R==="magenta"?void 0:"var(--accent)"},children:"WRAPP PROFILE"})]})}),e.jsxs("div",{className:"px-10 py-6 border-b border-white/5 bg-white/[0.01] grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest",children:"Story Type"}),e.jsx("select",{value:Oe,onChange:k=>qe(k.target.value),className:"w-full bg-transparent text-[9px] font-black uppercase tracking-widest text-white outline-none border-none p-0 cursor-pointer focus:ring-0",children:ma.map(k=>e.jsx("option",{value:k,className:"bg-black",children:k},k))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[7px] font-black text-orange-500 uppercase tracking-widest",children:"Region"}),e.jsx("select",{value:ve,onChange:k=>ct(k.target.value),className:"w-full bg-transparent text-[9px] font-black uppercase tracking-widest text-white outline-none border-none p-0 cursor-pointer focus:ring-0",children:ga.map(k=>e.jsx("option",{value:k,className:"bg-black",children:k},k))})]})]}),e.jsxs("div",{ref:d,className:"flex-grow overflow-y-auto p-12 space-y-12 custom-scrollbar bg-black/40",children:[_.length===0&&e.jsx("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-10 italic font-serif px-12 text-3xl",children:"Listening."}),_.map((k,L)=>e.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[95%] p-10 rounded-sm text-[16px] font-serif italic leading-[1.8] ${k.role==="user"?"bg-white/5 text-gray-600 border border-white/10":"bg-white/5 text-gray-300 border border-white/10"}`,children:k.content})},L)),F&&e.jsx("div",{className:"text-[9px] animate-pulse uppercase tracking-[0.6em] px-8",style:{color:"var(--accent)"},children:"Working..."})]}),e.jsxs("form",{onSubmit:or,className:"p-10 bg-black border-t border-white/10 space-y-4",children:[e.jsx("textarea",{value:Y,onChange:k=>Z(k.target.value),placeholder:"Ask Rap...",className:"w-full bg-[#030303] border border-white/10 p-6 text-[14px] font-serif italic text-white focus:border-[var(--accent)] outline-none h-32 rounded-sm resize-none transition-all"}),e.jsx("button",{type:"submit",disabled:F||!Y.trim(),className:"w-full py-4 animate-living-amber-bg text-white text-[10px] font-black uppercase tracking-[0.5em] rounded-sm disabled:opacity-30 shadow-xl",children:"Send"})]})]}),tr&&e.jsx("div",{className:"fixed inset-0 z-[5000] bg-black/98 backdrop-blur-3xl flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-2xl w-full bg-[#0a0a0a] border border-blue-500/30 p-12 rounded-sm shadow-2xl text-center relative",children:[e.jsx("button",{type:"button",onClick:()=>wt(!1),className:"absolute top-6 right-6 text-gray-700 hover:text-white text-2xl leading-none",children:"Ã—"}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-5xl font-serif font-black italic text-white tracking-tighter",children:"Clone my voice"}),e.jsx("p",{className:"text-gray-500 text-sm italic font-light max-w-sm mx-auto",children:'"Read this clearly to let Rap learn your unique frequency."'})]}),jt===0?e.jsx("button",{type:"button",onClick:async()=>{Wt(1);const k=setInterval(()=>Wt(L=>L>=100?(clearInterval(k),100):L+5),100);setTimeout(()=>{Qa(!0),er(!0),wt(!1)},2500)},className:"w-full py-6 bg-blue-500 text-white text-[11px] font-black uppercase tracking-[0.5em] rounded-sm",children:"Start Calibration"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase tracking-widest text-blue-500",children:[e.jsx("span",{children:"Mapping Signature..."}),e.jsxs("span",{children:[jt,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${jt}%`}})})]})]})]})}),e.jsx("style",{children:`
        @keyframes global-strobe-amber { 0%, 100% { background-color: rgba(230, 126, 34, 0); } 50% { background-color: rgba(230, 126, 34, 0.4); } }
        @keyframes global-strobe-red { 0%, 100% { background-color: rgba(231, 76, 60, 0); } 50% { background-color: rgba(231, 76, 60, 0.4); } }
        @keyframes global-strobe-blue { 0%, 100% { background-color: rgba(52, 152, 219, 0); } 50% { background-color: rgba(52, 152, 219, 0.4); } }
        @keyframes global-strobe-green { 0%, 100% { background-color: rgba(46, 204, 113, 0); } 50% { background-color: rgba(46, 204, 113, 0.4); } }
        @keyframes global-strobe-cyan { 0%, 100% { background-color: rgba(6, 182, 212, 0); } 50% { background-color: rgba(6, 182, 212, 0.4); } }
        @keyframes global-strobe-orange { 0%, 100% { background-color: rgba(245, 158, 11, 0); } 50% { background-color: rgba(245, 158, 11, 0.4); } }
        @keyframes global-strobe-magenta { 0%, 100% { background-color: rgba(168, 85, 247, 0); } 50% { background-color: rgba(168, 85, 247, 0.4); } }
        .animate-global-strobe-amber { animation: global-strobe-amber 0.8s infinite ease-in-out; }
        .animate-global-strobe-red { animation: global-strobe-red 0.8s infinite ease-in-out; }
        .animate-global-strobe-blue { animation: global-strobe-blue 0.8s infinite ease-in-out; }
        .animate-global-strobe-green { animation: global-strobe-green 0.8s infinite ease-in-out; }
        .animate-global-strobe-cyan { animation: global-strobe-cyan 0.8s infinite ease-in-out; }
        .animate-global-strobe-orange { animation: global-strobe-orange 0.8s infinite ease-in-out; }
        .animate-global-strobe-magenta { animation: global-strobe-magenta 0.8s infinite ease-in-out; }
        @keyframes intro-heading-glow { 0%, 100% { text-shadow: 0 0 10px rgba(255,255,255,0); } 50% { text-shadow: 0 0 40px rgba(230,126,34,1); color: #fff; } }
        .animate-intro-heading-glow { animation: intro-heading-glow 1.5s ease-in-out infinite; }
        @keyframes intro-finish-strobe { 0%, 100% { background-color: var(--accent); box-shadow: 0 0 0px var(--accent); } 50% { background-color: #fff; box-shadow: 0 0 50px #fff; transform: scale(1.05); } }
        .animate-intro-finish-strobe { animation: intro-finish-strobe 0.8s infinite ease-in-out; }
        @keyframes polaroid-entry { from { opacity: 0; transform: translateY(40px) rotate(12deg); } to { opacity: 1; transform: translateY(0) rotate(-3deg); } }
        .animate-polaroid-entry { animation: polaroid-entry 1s cubic-bezier(0.19, 1, 0.22, 1) forwards; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 1s forwards; }
        .glow-white { text-shadow: 0 0 15px rgba(255,255,255,0.4); }
      `}),e.jsx("input",{type:"file",ref:c,className:"hidden",accept:".docx,.txt",onChange:async k=>{var A;const L=(A=k.target.files)==null?void 0:A[0];if(L){z(!0);try{const P=await L.text();j(W=>W.map(q=>q.id===g?{...q,content:P}:q))}finally{z(!1)}}}})]})},ii=["Fiction","Non-Fiction","Prison Life","Crime Life","Love Story","Sad Story","Tragic Story","Life Story"],oi=["Asia","Australia","North America","South America","United Kingdom","Europe"],li=()=>{$e();const[t,a]=l.useState(()=>{const C=localStorage.getItem("wrap_sheets_v4");return C?JSON.parse(C):[{id:"1",title:"Draft Sheet 1",content:"",order:0,media:[],subChapters:[]}]}),[r,s]=l.useState(t[0].id),[n,i]=l.useState([]),[o,c]=l.useState(""),[d,u]=l.useState(!1),[x,p]=l.useState(!0),[m,h]=l.useState(!1),[y,b]=l.useState(!1),[v,N]=l.useState(420),[f,w]=l.useState(null),[j,g]=l.useState(()=>localStorage.getItem("aca_last_mastering_goal")||null),[T,_]=l.useState(!j),[M,Y]=l.useState(ii[2]),[Z,F]=l.useState(oi[1]),[H,S]=l.useState(!1),[E,$]=l.useState(!1),[z,J]=l.useState(null);l.useRef(null);const K=l.useRef(null),B=l.useRef(!1),U=l.useRef(null);l.useEffect(()=>{window.scrollTo(0,0)},[]),l.useEffect(()=>{localStorage.setItem("wrap_sheets_v4",JSON.stringify(t))},[t]),l.useEffect(()=>{j&&localStorage.setItem("aca_last_mastering_goal",j)},[j]),l.useEffect(()=>{const C=R=>{if(!B.current)return;const O=window.innerWidth-R.clientX;O>300&&O<800&&N(O)},D=()=>{B.current=!1,document.body.style.cursor="default"};return window.addEventListener("mousemove",C),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",D)}},[]),l.useEffect(()=>{var C;(C=U.current)==null||C.scrollIntoView({behavior:"smooth"})},[n,d]);const te=(C,D)=>{for(const R of C){if(R.id===D)return R;if(R.subChapters){const O=te(R.subChapters,D);if(O)return O}}},ne=(C,D,R)=>C.map(O=>O.id===D?{...O,...R}:O.subChapters?{...O,subChapters:ne(O.subChapters,D,R)}:O),se=te(t,r)||t[0],ge=async()=>{if(!j){_(!0);return}S(!0);let C="";const D=R=>{R.forEach(O=>{C+=`[CHAPTER: ${O.title}]
${O.content}

`,O.subChapters&&D(O.subChapters)})};D(t);try{const R=await Fn(C,j);J(R),i(O=>[...O,{role:"assistant",content:`Audit Complete for ${j.toUpperCase()}. I have prepared the Sovereign Report.`}])}catch(R){console.error(R)}finally{S(!1)}},Ie=()=>{if(!z||!j)return;$(!0);const C=JSON.parse(localStorage.getItem("aca_sovereign_vault")||'{"sheets":[],"books":[],"ai":[],"audits":[]}');C.audits||(C.audits=[]);const D={id:`audit-${Date.now()}`,timestamp:new Date().toISOString(),goal:j,report:z};C.audits.unshift(D),localStorage.setItem("aca_sovereign_vault",JSON.stringify(C)),setTimeout(()=>{$(!1),i(R=>[...R,{role:"assistant",content:"Sovereign Audit secured."}]),alert("Report Synchronized with Vault.")},800)},Ce=C=>{var O;const D=(O=C.target.files)==null?void 0:O[0];if(!D)return;const R=new FileReader;R.onload=async le=>{var Ye;const X=(Ye=le.target)==null?void 0:Ye.result,Q=(await mammoth.convertToHtml({arrayBuffer:X})).value,ot=new DOMParser().parseFromString(Q,"text/html"),lt=Array.from(ot.body.childNodes);let be=[],de=null,we=null;lt.forEach((Oe,qe)=>{var Pe,vt,Ke;const ve=((Pe=Oe.textContent)==null?void 0:Pe.trim())||"",ct=Oe.nodeName.toUpperCase();if(ct==="H1")de={id:`h1-${qe}-${Date.now()}`,title:ve,content:"",order:be.length,media:[],subChapters:[]},be.push(de),we=null;else if(ct==="H2"&&de)we={id:`h2-${qe}-${Date.now()}`,title:ve,content:"",order:((vt=de.subChapters)==null?void 0:vt.length)||0,media:[],subChapters:[]},(Ke=de.subChapters)==null||Ke.push(we);else if(ve){const yt=we||de;yt?yt.content+=ve+`

`:(de={id:`init-${qe}-${Date.now()}`,title:"Imported Fragment",content:ve+`

`,order:0,media:[],subChapters:[]},be.push(de))}}),be.length>0&&(a(be),s(be[0].id))},D.name.endsWith(".docx")?R.readAsArrayBuffer(D):R.readAsText(D)},fe=async(C,D)=>{C&&C.preventDefault();const R=D||o;if(!R.trim())return;const O=R;c(""),i(le=>[...le,{role:"user",content:O}]),u(!0);try{const le=`MASTERING_MODE: ${j==null?void 0:j.toUpperCase()}. `,X=await Ht(le+O,M,Z,n,se.content,"Natural");i(ce=>[...ce,X])}finally{u(!1)}},pe=C=>{switch(b(!1),C){case"substack":fe(void 0,"Perform a Substack Variable Audit.");break;case"paperback":fe(void 0,"Check structural integrity for paperback.");break;case"newspaper":fe(void 0,"Trim for newspaper column.");break;case"legal":fe(void 0,"Perform final legal safety check.");break}},Te=C=>{w(C)},_e=C=>{if(!f||f===C)return;const D=[...t],R=(X,ce)=>{for(let Q=0;Q<X.length;Q++){if(X[Q].id===ce)return X.splice(Q,1)[0];if(X[Q].subChapters){const ae=R(X[Q].subChapters,ce);if(ae)return ae}}return null},O=R(D,f);if(!O)return;const le=(X,ce,Q)=>{for(let ae=0;ae<X.length;ae++){if(X[ae].id===ce)return X.splice(ae,0,Q),!0;if(X[ae].subChapters&&le(X[ae].subChapters,ce,Q))return!0}return!1};le(D,C,O),a(D),w(null)},Le=({chapter:C,depth:D=0})=>{var R;return e.jsxs("div",{draggable:!0,onDragStart:()=>Te(C.id),onDragOver:O=>O.preventDefault(),onDrop:()=>_e(C.id),className:"flex flex-col",children:[e.jsx("div",{onClick:()=>s(C.id),className:`group flex items-center gap-3 p-3 cursor-move transition-all border-l-2 relative ${r===C.id?"bg-accent/10 border-accent text-accent":"hover:bg-white/5 border-transparent text-gray-500"} ${f===C.id?"opacity-20":""}`,style:{paddingLeft:`${16+D*16}px`},children:e.jsx("span",{className:`text-[11px] font-serif truncate flex-grow italic ${r===C.id?"font-bold":""}`,children:C.title||"Untitled Sheet"})}),(R=C.subChapters)==null?void 0:R.map(O=>e.jsx(Le,{chapter:O,depth:D+1},O.id))]})},Fe=({id:C,title:D,description:R,icon:O})=>e.jsxs("button",{onClick:()=>{g(C),_(!1)},className:`p-10 border transition-all text-left group relative overflow-hidden rounded-sm h-full ${j===C?"bg-orange-500/10 border-orange-500 shadow-[0_0_40px_rgba(230,126,34,0.1)]":"bg-black border-white/10 hover:border-white/30"}`,children:[e.jsx("div",{className:"text-4xl mb-6",children:O}),e.jsx("h3",{className:`text-2xl font-serif italic mb-3 transition-colors ${j===C?"text-orange-500":"text-white"}`,children:D}),e.jsx("p",{className:"text-sm text-gray-500 font-light leading-relaxed mb-6",children:R}),e.jsx("div",{className:`text-[9px] font-black uppercase tracking-[0.3em] ${j===C?"text-orange-500":"text-gray-700"}`,children:"Select Path â†’"})]});return e.jsxs("div",{className:"flex h-[calc(100vh-6rem)] bg-[#050505] overflow-hidden text-white font-sans",children:[T&&e.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-3xl flex items-center justify-center p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-6xl w-full text-center space-y-16",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-orange-500 tracking-[0.8em] uppercase text-[10px] font-black mb-6 block animate-living-amber",children:"Mastering Calibration"}),e.jsxs("h2",{className:"text-6xl md:text-8xl font-serif font-black italic text-white tracking-tighter leading-none mb-6",children:["Choose Your ",e.jsx("br",{}),e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Forging Path."})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-stretch",children:[e.jsx(Fe,{id:"newspaper",title:"About Time Newspaper",description:"Refine for physical print columns.",icon:"ðŸ“°"}),e.jsx(Fe,{id:"substack",title:"Substack Newsletter",description:"Refine for digital serialized reading.",icon:"ðŸ“§"}),e.jsx(Fe,{id:"paperback",title:"Paperback Manuscript",description:"Refine for a long-form physical book.",icon:"ðŸ“–"})]}),j&&e.jsx("button",{onClick:()=>_(!1),className:"text-gray-600 hover:text-white text-[9px] font-black uppercase tracking-widest transition-colors underline underline-offset-8",children:"Return to Forge"})]})}),e.jsxs("aside",{className:"w-80 border-r border-white/5 bg-[#080808] flex flex-col shrink-0 no-print",children:[e.jsxs("div",{className:"pt-48 pb-8 px-8 border-b border-white/5 flex flex-col gap-6 bg-black/40",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{to:"/author-builder",className:"text-[8px] font-black uppercase tracking-[0.3em] text-gray-600 hover:text-accent",children:"â† Exit Forge"}),e.jsx("button",{onClick:()=>_(!0),className:"text-[8px] font-black uppercase tracking-widest text-orange-500/60 hover:text-orange-500 underline underline-offset-4",children:"Reset Goal"})]}),e.jsxs("div",{className:"p-4 bg-orange-500/5 border border-orange-500/20 rounded-sm",children:[e.jsx("p",{className:"text-[10px] font-serif italic text-orange-500 uppercase tracking-widest leading-none mb-1",children:j==null?void 0:j.toUpperCase()}),e.jsx("p",{className:"text-[8px] text-gray-600 uppercase font-bold tracking-widest",children:"Mastering Mode Active"})]})]}),e.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pt-4",children:t.map(C=>e.jsx(Le,{chapter:C},C.id))}),e.jsx("div",{className:"p-6 border-t border-white/5 bg-black/40",children:e.jsx("button",{onClick:ge,disabled:H,className:`w-full p-4 border border-accent/40 text-[9px] font-black uppercase tracking-[0.4em] transition-all hover:bg-accent/10 flex items-center justify-center gap-3 ${H?"animate-pulse opacity-50":"glow-orange"}`,children:H?"Syncing...":"Perform Sovereign Audit"})})]}),e.jsxs("main",{className:"flex-grow flex flex-col relative bg-[#030303]",children:[e.jsxs("div",{className:"flex gap-4 p-4 border-b border-white/5 bg-black/20 items-center justify-between px-12 no-print",children:[e.jsxs("span",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest italic",children:["Forge Desk: ",se.title]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:()=>{var C;return(C=K.current)==null?void 0:C.click()},className:"text-[9px] font-black uppercase tracking-widest text-orange-500/60 hover:text-orange-500 transition-colors flex items-center gap-2",children:"Import DOCX"}),e.jsx("input",{type:"file",ref:K,onChange:Ce,className:"hidden",accept:".docx,.txt,.md"})]})]}),z&&e.jsx("div",{className:"absolute inset-0 z-[100] bg-[#030303]/98 backdrop-blur-3xl overflow-y-auto custom-scrollbar p-12 lg:p-24 animate-fade-in",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-white/10 pb-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-6xl font-serif font-black italic text-white glow-white leading-none",children:"Sovereign Audit."}),e.jsx("button",{onClick:()=>J(null),className:"text-[10px] font-black text-orange-500 uppercase tracking-widest mt-4 hover:underline",children:"â† Return to Forge"})]}),e.jsx("button",{onClick:()=>J(null),className:"text-gray-500 hover:text-white transition-colors text-6xl leading-none",children:"Ã—"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-white font-serif italic text-2xl",children:"Refinement Strategy"}),e.jsx("p",{className:"text-lg text-gray-300 font-serif italic leading-relaxed",children:z.summary})]}),e.jsxs("div",{className:"p-8 bg-orange-500/10 border border-orange-500/30 rounded-sm",children:[e.jsx("h4",{className:"text-orange-500 text-[10px] font-black uppercase tracking-widest mb-4",children:"Forge-Specific Advice"}),e.jsxs("p",{className:"text-sm text-gray-200 leading-relaxed italic",children:['"',z.mediumSpecificAdvice,'"']})]}),e.jsx("button",{onClick:Ie,disabled:E,className:`w-full py-8 border-2 border-orange-500 text-orange-500 text-[11px] font-black uppercase tracking-[0.5em] hover:bg-orange-500 hover:text-white rounded-sm ${E?"animate-pulse opacity-50":""}`,children:E?"Syncing...":"Secure Audit to Big House"})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-white font-serif italic text-2xl",children:"Registry Metrics"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2 group relative",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-widest text-gray-500",children:[e.jsx("span",{children:"Marketability"}),e.jsxs("span",{className:"text-orange-500",children:[z.marketabilityScore,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-orange-500",style:{width:`${z.marketabilityScore}%`}})})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-white font-serif italic text-xl",children:"Suggested Registry Title"}),e.jsx("div",{className:"p-6 bg-white/[0.03] border border-white/10 text-white font-serif italic text-2xl tracking-tight",children:z.suggestedTitle})]})]})]}),e.jsx("div",{className:"pt-24 border-t border-white/10 text-center",children:e.jsx("button",{onClick:()=>J(null),className:"px-20 py-8 bg-white text-black text-[11px] font-black uppercase tracking-[0.6em] hover:bg-orange-500 hover:text-white transition-all rounded-sm",children:"Close Report"})})]})}),e.jsx("div",{className:"flex-grow flex justify-center p-12 lg:p-24 overflow-y-auto custom-scrollbar no-print",children:e.jsxs("div",{className:"max-w-3xl w-full",children:[e.jsx("input",{value:se.title,onChange:C=>a(ne(t,r,{title:C.target.value})),className:"w-full bg-transparent text-white text-5xl font-serif italic mb-12 border-none outline-none focus:ring-0"}),e.jsx("textarea",{value:se.content,onChange:C=>a(ne(t,r,{content:C.target.value})),className:"w-full bg-transparent text-gray-400 text-xl font-serif leading-[2.2] border-none outline-none h-auto min-h-[60vh] resize-none"})]})})]}),e.jsx("div",{onMouseDown:()=>{B.current=!0,document.body.style.cursor="ew-resize"},className:"w-1.5 hover:bg-accent/40 cursor-ew-resize transition-colors z-50 bg-white/5 no-print"}),e.jsxs("aside",{className:`transition-all border-l border-white/5 bg-[#0a0a0a] flex flex-col shadow-2xl relative z-40 shrink-0 no-print ${x?"":"w-0 opacity-0"}`,style:{width:x?`${v}px`:"0"},children:[e.jsxs("div",{className:"pt-48 px-8 pb-8 border-b border-white/5 flex flex-col gap-6 bg-black/40",children:[e.jsx("h3",{className:"text-accent text-[12px] font-black uppercase tracking-[0.5em]",children:"WRAPPER Mastery"}),e.jsx("button",{onClick:()=>b(!y),className:"w-full flex items-center justify-between group",children:e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-200 group-hover:text-orange-500 transition-colors",children:"Mastery Help..."})}),y&&e.jsx("div",{className:"bg-[#0d0d0d] border border-white/10 shadow-2xl z-[100] overflow-hidden rounded-sm",children:["substack","paperback","newspaper","legal"].map(C=>e.jsx("button",{onClick:()=>pe(C),className:"w-full p-4 text-left text-[9px] font-black uppercase tracking-widest text-gray-500 hover:text-orange-500 border-b border-white/5",children:C.toUpperCase()},C))})]}),e.jsxs("div",{className:"flex-grow overflow-y-auto p-8 space-y-8 custom-scrollbar",children:[n.map((C,D)=>e.jsx("div",{className:`flex flex-col gap-2 ${C.role==="user"?"items-end":"items-start animate-fade-in"}`,children:e.jsx("div",{className:`max-w-[90%] p-5 rounded-sm text-[13px] font-serif leading-relaxed ${C.role==="user"?"bg-white/5 border border-white/10 text-gray-500 italic":"bg-accent/5 border border-accent/20 text-gray-300"}`,children:C.content})},D)),d&&e.jsx("div",{className:"text-[9px] text-accent animate-pulse uppercase tracking-widest",children:"Forging..."}),e.jsx("div",{ref:U})]}),e.jsxs("form",{onSubmit:fe,className:"p-6 bg-black/60 border-t border-white/5 flex flex-col gap-4",children:[e.jsx("textarea",{value:o,onChange:C=>c(C.target.value),placeholder:"Final dialogue...",className:"w-full bg-[#030303] border border-white/10 p-4 text-[12px] font-serif italic text-white focus:border-accent/50 outline-none h-24 rounded-sm"}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-white/5 text-[9px] font-black uppercase tracking-[0.4em] border border-white/10 rounded-sm",children:"Transcribe"})]})]})]})},ci=[{id:"1",title:"The Quiet Hours",artist:"Luca R.",imageUrl:"https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?q=80&w=800&auto=format&fit=crop",tags:["Abstract","Ink"]},{id:"2",title:"Inner Skyline",artist:"M. Chen",imageUrl:"https://images.unsplash.com/photo-1541701494587-cb58502866ab?q=80&w=800&auto=format&fit=crop",tags:["Modern","Oil"]},{id:"3",title:"Barred Resilience",artist:"Anonymous",imageUrl:"https://images.unsplash.com/photo-1549490349-8643362247b5?q=80&w=800&auto=format&fit=crop",tags:["Portrait","Sketch"]},{id:"4",title:"Fragmented Freedom",artist:"E. Smith",imageUrl:"https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=800&auto=format&fit=crop",tags:["Surrealism"]},{id:"5",title:"The Long Walk",artist:"W. Jackson",imageUrl:"https://images.unsplash.com/photo-1578301978693-85fa9c0320b9?q=80&w=800&auto=format&fit=crop",tags:["Minimalist"]},{id:"6",title:"Echo of Home",artist:"Sarah G.",imageUrl:"https://images.unsplash.com/photo-1577083552431-6e5fd01aa342?q=80&w=800&auto=format&fit=crop",tags:["Expressionism"]}],di=()=>{const[t,a]=l.useState(""),[r,s]=l.useState(!1),n=ci.filter(i=>i.title.toLowerCase().includes(t.toLowerCase())||i.artist.toLowerCase().includes(t.toLowerCase()));return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white pt-20",children:[e.jsxs("header",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-24 text-center border-b border-white/5",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.6em] uppercase text-[10px] font-bold mb-6 block animate-living-amber",children:"Visual Narratives"}),e.jsxs("h1",{className:"text-6xl md:text-8xl font-serif font-bold mb-8 italic leading-none",children:["The Community ",e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Wall."})]}),e.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto font-light leading-relaxed italic opacity-80",children:'"A collaborative space where visual artists provide the skin for the stories written from within. Reclaim the visual narrative."'})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8 mb-16",children:[e.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:["All","Abstract","Sketch","Modern","Minimalist"].map(i=>e.jsx("button",{onClick:()=>a(i==="All"?"":i),className:`px-8 py-3 text-[9px] font-bold uppercase tracking-widest border transition-all rounded-full ${t===i?"bg-orange-500 border-orange-500 text-white":"border-white/10 text-gray-500 hover:text-white"}`,children:i},i))}),e.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[e.jsx("input",{type:"text",placeholder:"SEARCH ARTISTS...",onChange:i=>a(i.target.value),className:"bg-transparent border-b border-white/10 px-4 py-2 text-[10px] font-bold tracking-widest focus:border-orange-500 outline-none flex-grow md:w-64 placeholder:text-gray-800 transition-all"}),e.jsx("button",{onClick:()=>s(!0),className:"bg-orange-500 text-white px-8 py-3 text-[9px] font-black uppercase tracking-widest shadow-xl shadow-orange-500/10 rounded-sm",children:"Add Your Art"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:[n.map(i=>e.jsx("div",{className:"group relative bg-[#0d0d0d] border border-white/5 overflow-hidden transition-all duration-700 hover:border-orange-500/40 shadow-xl flex flex-col rounded-sm",children:e.jsxs("div",{className:"aspect-square overflow-hidden relative",children:[e.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-full object-cover grayscale opacity-50 group-hover:grayscale-0 group-hover:opacity-100 group-hover:scale-105 transition-all duration-1000"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"}),e.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-orange-500 uppercase tracking-widest",children:i.artist}),e.jsx("h3",{className:"text-xl font-serif italic text-white",children:i.title})]}),e.jsx("button",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-orange-500 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]})},i.id)),e.jsxs("div",{onClick:()=>s(!0),className:"border border-white/5 border-dashed aspect-square flex flex-col items-center justify-center text-center bg-white/[0.02] p-12 group cursor-pointer hover:border-orange-500/20 transition-all rounded-sm",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border border-white/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-orange-500 text-2xl font-serif italic",children:"+"})}),e.jsx("h4",{className:"text-white font-serif italic text-xl mb-4",children:"Artist Submission"}),e.jsx("p",{className:"text-xs text-gray-600 uppercase tracking-widest leading-loose",children:"Log your latest visual work into the community wall."})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-2xl w-full bg-[#0d0d0d] border border-white/10 p-12 text-center shadow-2xl relative rounded-sm",children:[e.jsx("button",{onClick:()=>s(!1),className:"absolute top-8 right-8 text-gray-700 hover:text-white text-2xl",children:"Ã—"}),e.jsxs("h2",{className:"text-4xl font-serif italic text-white mb-6",children:["Gallery ",e.jsx("span",{className:"text-orange-500",children:"Submission."})]}),e.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-10 italic",children:'"Art is the evidence of life where life is denied. Register your work below."'}),e.jsxs("div",{className:"space-y-8 text-left",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Artist Name / Alias"}),e.jsx("input",{className:"w-full bg-black border border-white/10 p-4 text-sm font-serif focus:border-orange-500 outline-none text-white transition-all",placeholder:"Anonymous Author"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest",children:"Piece Title"}),e.jsx("input",{className:"w-full bg-black border border-white/10 p-4 text-sm font-serif focus:border-orange-500 outline-none text-white transition-all",placeholder:"e.g. Skyline from the yard"})]}),e.jsx("div",{className:"border-2 border-dashed border-white/5 p-12 text-center bg-white/[0.01] hover:bg-white/[0.03] transition-all cursor-pointer",children:e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-700",children:"Drop Visual Asset (PNG/JPG)"})}),e.jsx("button",{className:"w-full bg-orange-500 text-white py-5 text-[10px] font-black uppercase tracking-[0.4em] shadow-xl hover:bg-orange-600 transition-all rounded-sm",children:"Upload to Community Wall"})]})]})}),e.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
      `})]})},hi=()=>e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white",children:[e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 text-center border-b border-white/5",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.6em] uppercase text-[10px] font-bold mb-6 block animate-fade-in",children:"The Manifesto"}),e.jsxs("h1",{className:"text-6xl md:text-9xl font-serif font-bold mb-12 italic leading-none tracking-tighter",children:["From the ",e.jsx("span",{className:"text-[var(--accent)]",children:"System"}),",",e.jsx("br",{}),"to the World."]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light max-w-3xl mx-auto leading-relaxed italic opacity-80",children:'"The brush with the law leaves a mark. We provide the light, the tech, and the stage to make those narratives unignorable."'})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-24 space-y-32",children:[e.jsxs("section",{className:"grid md:grid-cols-2 gap-16 border-b border-white/5 pb-24",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-[var(--accent)] tracking-[0.4em] uppercase text-[10px] font-black",children:"What is this?"}),e.jsxs("h2",{className:"text-4xl font-serif font-bold italic",children:["A Sovereign ",e.jsx("span",{className:"text-white/40",children:"Workspace."})]}),e.jsx("p",{className:"text-gray-400 leading-relaxed font-light text-lg italic",children:"A Captive Audience is a digital storytelling and media project built around real, first-hand prison narratives. It is a secure infrastructure designed to bridge the gap between carceral isolation and global publication."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-white tracking-[0.4em] uppercase text-[10px] font-black",children:"Who is it for?"}),e.jsxs("h2",{className:"text-4xl font-serif font-bold italic",children:["The ",e.jsx("span",{className:"text-[var(--accent)]",children:"Impacted."})]}),e.jsx("p",{className:"text-gray-400 leading-relaxed font-light text-lg italic",children:"Specifically built for incarcerated and formerly incarcerated authors, family court litigants, and anyone navigating the friction of the legal system who refuses to have their truth sanitized or silenced."})]})]}),e.jsxs("section",{className:"bg-[#0a0a0a] border border-white/5 p-12 md:p-20 relative overflow-hidden shadow-2xl rounded-sm",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 text-9xl font-serif italic text-white select-none pointer-events-none",children:"ENGINE"}),e.jsxs("div",{className:"mb-20",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.5em] uppercase text-[10px] font-black mb-4 block",children:"The Forging Protocol"}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-serif font-bold italic text-white mb-6",children:["Architecture of ",e.jsx("span",{className:"text-[var(--accent)]",children:"Reclamation."})]}),e.jsx("p",{className:"text-gray-400 text-lg font-light leading-relaxed italic max-w-2xl",children:'We have engineered a workspace that removes the "Grammar Barrier." Authorship should not require a degree or a keyboard. It requires a voice.'})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-12 relative",children:[e.jsxs("div",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("span",{className:"text-4xl font-serif italic text-[var(--accent)]",children:"01"}),e.jsx("div",{className:"h-[1px] flex-grow bg-white/10"})]}),e.jsx("h4",{className:"text-white font-serif italic text-2xl",children:"Vocal Ingestion"}),e.jsxs("p",{className:"text-sm text-gray-500 font-light leading-relaxed",children:[e.jsx("strong",{className:"text-white block mb-2 font-black uppercase text-[10px] tracking-widest",children:"Talk, Don't Type."}),'Our "Live Link" and "Sovereign Dictation" tools turn raw spoken truth into digital text in real-time. We remove the friction of the keyboard, allowing the author to focus on the emotional cadence of their story.']})]}),e.jsxs("div",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("span",{className:"text-4xl font-serif italic text-[var(--accent)]",children:"02"}),e.jsx("div",{className:"h-[1px] flex-grow bg-white/10"})]}),e.jsx("h4",{className:"text-white font-serif italic text-2xl",children:"Dialect Integrity"}),e.jsxs("p",{className:"text-sm text-gray-500 font-light leading-relaxed",children:[e.jsx("strong",{className:"text-white block mb-2 font-black uppercase text-[10px] tracking-widest",children:"Grit Sovereignty."}),'Standard AI tries to "fix" your English. Our Sovereign Engine is trained to recognize carceral grit and regional slang as a resource, not an error. It preserves the raw dialect of the yard.']})]}),e.jsxs("div",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("span",{className:"text-4xl font-serif italic text-[var(--accent)]",children:"03"}),e.jsx("div",{className:"h-[1px] flex-grow bg-white/10"})]}),e.jsx("h4",{className:"text-white font-serif italic text-2xl",children:"Structural Forging"}),e.jsxs("p",{className:"text-sm text-gray-500 font-light leading-relaxed",children:[e.jsx("strong",{className:"text-white block mb-2 font-black uppercase text-[10px] tracking-widest",children:"Automated Mastering."}),'The platform handles the structural heavy liftingâ€”grammar, formatting, and legal auditingâ€”leaving the author with a retail-ready manuscript without needing to understand the "rules" of the system.']})]})]}),e.jsxs("div",{className:"mt-20 pt-12 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[var(--accent)] text-xl font-serif italic font-bold",children:"100%"}),e.jsx("p",{className:"text-[8px] text-gray-700 font-black uppercase tracking-widest",children:"Voice Sovereignty"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white text-xl font-serif italic font-bold",children:"ZERO"}),e.jsx("p",{className:"text-[8px] text-gray-700 font-black uppercase tracking-widest",children:"Typing Required"})]})]}),e.jsx(I,{to:"/author-builder",className:"text-[var(--accent)] text-[10px] font-black uppercase tracking-[0.4em] hover:text-white transition-all underline underline-offset-8",children:"Experience the Architecture â†’"})]})]}),e.jsxs("section",{className:"text-center py-12",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.8em] uppercase text-[10px] font-black mb-8 block animate-living-amber",children:"The Core Objective"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute -inset-4 bg-[var(--accent)]/5 blur-2xl rounded-full"}),e.jsxs("h2",{className:"relative text-5xl md:text-7xl font-serif font-black italic tracking-tighter leading-tight",children:['"To reclaim the narrative by providing ',e.jsx("br",{}),e.jsx("span",{className:"text-[var(--accent)]",children:"unfiltered access"}),' to the global archive."']})]})]}),e.jsxs("section",{className:"bg-[#0d0d0d] border border-[var(--accent)]/20 p-12 lg:p-20 relative overflow-hidden rounded-sm shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 text-7xl font-serif italic text-[var(--accent)] select-none",children:"Impact"}),e.jsxs("div",{className:"relative z-10 max-w-3xl",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.5em] uppercase text-[10px] font-black mb-6 block",children:"Commitment 2026"}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-serif font-bold mb-8 italic text-white tracking-tight",children:["Direct ",e.jsx("span",{className:"text-[var(--accent)]",children:"Nominated Support."})]}),e.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-light mb-10",children:"A Captive Audience is a mission-driven engine. We believe in supporting the infrastructure that rebuilds lives outside the wire. A percentage of all platform profit is explicitly nominated to the following partners:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("a",{href:"https://www.parentsbeyondbreakup.com/",target:"_blank",rel:"noopener noreferrer",className:"p-8 bg-black border border-white/5 hover:border-[var(--accent)]/30 transition-all group",children:[e.jsx("h4",{className:"text-white font-serif italic text-xl mb-3 group-hover:text-[var(--accent)] transition-colors",children:"Parents Beyond Breakup"}),e.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed",children:"Providing suicide prevention and support for families navigating the impact of separation and family court."})]}),e.jsxs("a",{href:"https://www.abouttime.org.au/",target:"_blank",rel:"noopener noreferrer",className:"p-8 bg-black border border-white/5 hover:border-[var(--accent)]/30 transition-all group",children:[e.jsx("h4",{className:"text-white font-serif italic text-xl mb-3 group-hover:text-[var(--accent)] transition-colors",children:"About Time"}),e.jsx("p",{className:"text-xs text-gray-500 italic leading-relaxed",children:"Systemic advocacy and community support for the Australian carceral and justice-affected population."})]})]})]})]}),e.jsxs("section",{className:"grid lg:grid-cols-2 gap-20 items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-8 font-serif italic",children:"Humanizing the Impacted"}),e.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-light mb-6",children:"A Captive Audience sits at the intersection of literature, justice, and sovereignty. We are not just a carceral project; we are a digital sanctuary for anyone navigating the friction of the legal system."}),e.jsx("p",{className:"text-gray-500 leading-relaxed font-light",children:"Whether your story is born in a cell, a family court hearing, or a fight for ownership, we believe your truth is a resource. We provide the infrastructure to bypass traditional gatekeepers."})]}),e.jsxs("div",{className:"bg-[#0d0d0d] border border-[var(--accent)]/20 p-12 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[var(--accent)]/5 rounded-full blur-3xl"}),e.jsx("h3",{className:"text-[var(--accent)] text-[10px] font-bold uppercase tracking-widest mb-6",children:"Sovereign Stories"}),e.jsx("p",{className:"text-white text-xl font-serif italic leading-relaxed",children:`"We don't just amplify voices; we reclaim sovereignty. From family law skirmishes to the hero's journey back from the brink."`})]})]}),e.jsxs("section",{className:"text-center pb-20",children:[e.jsx("h3",{className:"text-4xl font-serif font-bold text-white mb-8 italic",children:"The Narrative is the Reclamation."}),e.jsx("p",{className:"text-gray-400 text-lg font-light leading-relaxed max-w-3xl mx-auto mb-12 italic",children:`"Justice isn't just a verdict; it's a story. We focus on the lived reality. From the hero's struggle to the victim's truth, the narrative is how we heal the world."`}),e.jsxs("div",{className:"flex justify-center gap-8",children:[e.jsx(I,{to:"/why-publish",className:"bg-white text-black px-12 py-5 text-[10px] font-bold uppercase tracking-[0.5em] hover:bg-[var(--accent)] hover:text-white transition-all",children:"Publish Your Story"}),e.jsx(I,{to:"/narratives",className:"border border-white/10 text-white px-12 py-5 text-[10px] font-bold uppercase tracking-[0.5em] hover:bg-white/5 transition-all",children:"Browse Archives"})]})]})]}),e.jsx("section",{className:"bg-black/40 border-t border-white/5 py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-12 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-4xl font-serif font-bold text-white tracking-tighter",children:"IMPACTED"}),e.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-[var(--accent)] font-bold",children:"Voice Standard"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-4xl font-serif font-bold text-white tracking-tighter",children:"UNFILTERED"}),e.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-[var(--accent)] font-bold",children:"Grit Integrity"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-4xl font-serif font-bold text-white tracking-tighter",children:"SOVEREIGN"}),e.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-[var(--accent)] font-bold",children:"Archive Tech"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-4xl font-serif font-bold text-white tracking-tighter",children:"DIVERSE"}),e.jsx("div",{className:"text-[9px] uppercase tracking-[0.4em] text-[var(--accent)] font-bold",children:"Legal Narratives"})]})]})}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 1.5s ease-out forwards; }
      `})]}),ui=()=>e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white",children:[e.jsxs("section",{className:"relative h-[80vh] flex items-center justify-center px-6 overflow-hidden border-b border-white/5",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1512485694743-9c9538b4e6e0?q=80&w=2000&auto=format&fit=crop",className:"w-full h-full object-cover grayscale-[10%] brightness-[0.7] opacity-50 scale-105 animate-subtle-drift",alt:"Old typewriter and keys"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent to-[#050505]/40 z-10"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 z-[1]"})]}),e.jsxs("div",{className:"relative z-10 text-center max-w-5xl",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.6em] uppercase text-[10px] font-bold mb-8 block animate-fade-in",children:"Global Distribution"}),e.jsxs("h1",{className:"text-6xl md:text-9xl font-serif font-bold mb-10 leading-[0.85] tracking-tighter italic",children:["Publishing ",e.jsx("br",{}),e.jsx("span",{className:"text-[var(--accent)]",children:"Redefined."})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light max-w-3xl mx-auto leading-relaxed italic",children:'"We provide the bridge from the pen to the world. A professional ecosystem for less than the price of a daily coffee."'})]})]}),e.jsx("section",{className:"py-32 px-6 lg:px-24 bg-[#0a0a0a]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-24",children:[e.jsxs("h2",{className:"text-4xl font-serif font-bold italic mb-6 text-white",children:["Accessible ",e.jsx("span",{className:"text-[var(--accent)]",children:"Power."})]}),e.jsx("p",{className:"text-gray-500 uppercase tracking-widest text-[10px] font-bold",children:"Consolidating the System-Impacted Toolkit"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"p-12 border border-white/5 bg-black/40 flex flex-col items-center text-center group hover:border-[var(--accent)]/20 transition-all",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-8",children:e.jsx("span",{className:"text-gray-600 group-hover:text-[var(--accent)] transition-colors",children:"$30"})}),e.jsx("h4",{className:"text-white font-serif italic text-xl mb-4",children:"Solo AI Writing"}),e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-light mb-8",children:"High-end assistants cost ~$30/month just for a chat window. No specialized carceral safety."}),e.jsx("div",{className:"mt-auto text-[9px] font-bold text-gray-700 uppercase tracking-widest",children:"No Publishing Tools"})]}),e.jsxs("div",{className:"p-12 border border-[var(--accent)]/40 bg-[var(--accent)]/5 flex flex-col items-center text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-[var(--accent)] text-white text-[8px] font-black tracking-widest px-4 py-1",children:"SOVEREIGN RATE"}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-[var(--accent)] flex items-center justify-center mb-8 shadow-2xl",children:e.jsx("span",{className:"text-white font-bold",children:"$10"})}),e.jsx("h4",{className:"text-white font-serif italic text-2xl mb-4",children:"The Sovereign Pass"}),e.jsx("p",{className:"text-sm text-gray-300 leading-relaxed font-light mb-8",children:"Includes industrial OCR, legal auditing, artist collaboration, and a **10GB Secure Vault**."}),e.jsx("div",{className:"mt-auto text-[10px] font-bold text-[var(--accent)] uppercase tracking-[0.3em]",children:"Complete Ecosystem"})]}),e.jsxs("div",{className:"p-12 border border-white/5 bg-black/40 flex flex-col items-center text-center group hover:border-[var(--accent)]/20 transition-all",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-8",children:e.jsx("span",{className:"text-gray-600 group-hover:text-[var(--accent)] transition-colors",children:"$80+"})}),e.jsx("h4",{className:"text-white font-serif italic text-xl mb-4",children:"Manual Path"}),e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed font-light mb-8",children:"Legal consults and manual transcription for complex systemic cases often exceed $80/chapter."}),e.jsx("div",{className:"mt-auto text-[9px] font-bold text-gray-700 uppercase tracking-widest",children:"Inconsistent Output"})]})]})]})}),e.jsx("section",{className:"py-32 px-6 lg:px-24 bg-[#0d0d0d] border-y border-white/5",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-24 items-center",children:[e.jsxs("div",{className:"relative aspect-square lg:aspect-video bg-black overflow-hidden group",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1499750310107-5fef28a66643?q=80&w=2000&auto=format&fit=crop",className:"w-full h-full object-cover grayscale opacity-40 group-hover:scale-105 transition-all duration-1000",alt:"Laptop and notebook"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-12 bg-black/80 backdrop-blur-md border border-[var(--accent)]/20 max-w-md",children:[e.jsx("h3",{className:"text-3xl font-serif italic text-white mb-6",children:"The Substack Bridge"}),e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest leading-loose mb-8",children:"Your first chapter is on us. Reclaim your narrative without a cent upfront."}),e.jsx(I,{to:"/substack-bridge",className:"text-[var(--accent)] text-[10px] font-bold uppercase tracking-[0.4em] hover:underline",children:"Explore The Infrastructure â†’"})]})})]}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("h2",{className:"text-4xl font-serif font-bold italic",children:["Why ACA over ",e.jsx("br",{}),e.jsx("span",{className:"text-[var(--accent)]",children:"Solo Publishing?"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-white text-lg font-serif italic mb-2",children:"10GB Archive Storage"}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-light italic",children:"Most platforms limit image uploads. We provide industrial-grade storage for thousands of pages of evidence and drafts."})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white text-lg font-serif italic mb-2",children:"Zero Tech Barrier"}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-light italic",children:"Most impact-affected authors lack high-speed tech. Our light OCR-Bridge works over basic mobile data or via scans."})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white text-lg font-serif italic mb-2",children:"Instant Audience"}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-light italic",children:"We already have thousands of readers looking for authentic voices. You don't start at zero subscribers."})]})]})]})]})}),e.jsx("section",{className:"py-32 px-6 lg:px-24 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 bg-[#0a0a0a] border border-white/5 p-16",children:[e.jsx("h3",{className:"text-3xl font-serif font-bold mb-6 italic",children:'The "First Chapter" Philosophy'}),e.jsxs("p",{className:"text-gray-400 text-lg font-light leading-relaxed mb-10",children:["We know funds are tight for those on the inside or transitioning out. Your first chapter is ",e.jsx("span",{className:"text-[var(--accent)] font-bold",children:"free to curate"}),". Test the tools, verify the legal safety, and see your work in professional layout before spending a dollar."]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"p-8 bg-black/40 border border-white/5",children:[e.jsx("h5",{className:"text-[var(--accent)] text-[10px] font-bold uppercase tracking-widest mb-4",children:"Phase 01: The Launch"}),e.jsx("p",{className:"text-xs text-gray-500 italic",children:"One full chapter. Free curation. Full standalone archive generation. Substack integration."})]}),e.jsxs("div",{className:"p-8 bg-black/40 border border-white/5",children:[e.jsx("h5",{className:"text-[var(--accent)] text-[10px] font-bold uppercase tracking-widest mb-4",children:"Phase 02: The Series"}),e.jsx("p",{className:"text-xs text-gray-500 italic",children:"Subscription-based ($10/mo). Serialized access to the Sovereign Pass suite with **10GB Vault** access."})]})]})]}),e.jsxs("div",{className:"bg-[var(--accent)] p-16 flex flex-col justify-center text-white shadow-2xl",children:[e.jsx("h3",{className:"text-2xl font-serif font-bold mb-6 italic",children:"Why the $10 Rate?"}),e.jsx("p",{className:"text-sm font-light leading-loose mb-10 opacity-90",children:"Instead of a high-profit markup, we use a flat fee to cover the high-volume token usage for Gemini Pro and 10GB of secure cloud storage. It's a community rate for industrial-grade truth-telling."}),e.jsx(I,{to:"/author-builder",className:"bg-black text-white text-center py-5 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-white hover:text-black transition-all",children:"Start Free Chapter"})]})]})}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 1s ease-out forwards; }
      `})]}),xi=()=>e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white",children:[e.jsxs("section",{className:"relative h-[70vh] flex items-center justify-center overflow-hidden px-6 border-b border-white/5",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1516979187457-637abb4f9353?q=80&w=2000&auto=format&fit=crop",className:"w-full h-full object-cover grayscale brightness-[0.6] opacity-60",alt:"Old Books and Tech"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-500/20 via-transparent to-black z-[1]"})]}),e.jsxs("div",{className:"relative z-10 text-center max-w-4xl",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.8em] uppercase text-[10px] font-bold mb-6 block animate-living-amber",children:"The Infrastructure"}),e.jsxs("h1",{className:"text-6xl md:text-9xl font-serif font-bold mb-8 italic tracking-tighter",children:["The Substack ",e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Bridge."})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light max-w-2xl mx-auto leading-relaxed italic",children:'"Your pen. Our pixels. Their inbox. Zero friction."'})]})]}),e.jsx("section",{className:"py-32 px-6 lg:px-24 bg-[#0a0a0a]",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-24 items-center",children:[e.jsxs("div",{className:"relative group overflow-hidden rounded-sm border border-white/5",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=1200&auto=format&fit=crop",className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000 opacity-60",alt:"Handwriting"}),e.jsxs("div",{className:"absolute inset-0 bg-black/40 p-12 flex flex-col justify-center",children:[e.jsx("h3",{className:"text-3xl font-serif italic text-white mb-6",children:"Born from Necessity."}),e.jsx("p",{className:"text-gray-300 text-base font-light italic leading-relaxed",children:'"When I was typing my handwritten notes for Substack, I realized the grind was a barrier to truth. The Bridge was designed to automate the transition from paper to global audience."'}),e.jsx("p",{className:"mt-8 text-orange-500 text-[10px] font-bold uppercase tracking-widest italic",children:"â€” The Architect"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("h2",{className:"text-4xl font-serif font-bold italic",children:["The Evolution ",e.jsx("br",{}),e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"of the Sheet."})]}),e.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-light italic",children:"A Captive Audience started as a Substack channel. It evolved into an industrial pipeline that treats your narratives with the respect they deserve."}),e.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"We help you split your story into manageable digital installments. By the time you've finished your Substack run, the 'Mastering Suite' has already formatted your book for retail distribution."}),e.jsx("div",{className:"pt-6",children:e.jsx(I,{to:"/origin-story",className:"text-orange-500 text-[10px] font-black uppercase tracking-[0.4em] hover:underline",children:"Read the Full Origin Story â†’"})})]})]})}),e.jsx("section",{className:"py-32 px-6 lg:px-24 bg-[#0d0d0d] border-y border-white/5",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-24 items-center",children:[e.jsxs("div",{className:"space-y-10",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.4em] uppercase text-[10px] font-bold animate-living-amber",children:"Author-First Revenue"}),e.jsxs("h2",{className:"text-4xl font-serif font-bold italic text-white",children:["Financial ",e.jsx("br",{}),e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Sovereignty."})]}),e.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-light italic",children:"Traditional publishers take 85-90% of your earnings. Substack takes 10%. We take nothing from your sales."}),e.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"The ACA Sovereign Pass is a flat $10 monthly utility fee. This covers the token overhead for Gemini 3, high-volume OCR scanning, and the 'Privacy Shield' technical infrastructure."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"px-6 py-4 bg-white/5 border border-white/10 text-center flex-grow rounded-sm",children:[e.jsx("p",{className:"text-orange-500 text-lg font-serif",children:"100%"}),e.jsx("p",{className:"text-[8px] font-bold uppercase tracking-widest text-gray-600",children:"Author Direct Pay"})]}),e.jsxs("div",{className:"px-6 py-4 bg-white/5 border border-white/10 text-center flex-grow rounded-sm",children:[e.jsx("p",{className:"text-orange-500 text-lg font-serif",children:"Pro 3.0"}),e.jsx("p",{className:"text-[8px] font-bold uppercase tracking-widest text-gray-600",children:"AI Intelligence"})]})]})]}),e.jsxs("div",{className:"p-12 border border-white/5 bg-black/40 italic text-gray-400 leading-loose text-sm font-light relative rounded-sm",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})}),`"We decided to strip away the 'Pro' markup. At $10, we cover the tech so you can build the legacy. You keep the subscriber revenue; we keep the bridge standing and the 'Privacy Shield' active."`]})]})}),e.jsxs("section",{className:"py-32 px-6 lg:px-24 max-w-7xl mx-auto",children:[e.jsxs("h2",{className:"text-center text-4xl font-serif font-bold italic mb-20",children:["Comparison ",e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Registry."})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border border-white/5 bg-[#080808]",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white/5",children:[e.jsx("th",{className:"p-8 text-left text-[10px] font-bold uppercase tracking-widest text-gray-500 border-b border-white/5",children:"Capability"}),e.jsx("th",{className:"p-8 text-left text-[10px] font-bold uppercase tracking-widest text-gray-500 border-b border-white/5",children:"Generic AI ($30+)"}),e.jsx("th",{className:"p-8 text-left text-[10px] font-bold uppercase tracking-widest text-orange-500 border-b border-white/5",children:"Sovereign Pass ($10)"})]})}),e.jsxs("tbody",{className:"text-sm font-light",children:[e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.01] transition-colors",children:[e.jsx("td",{className:"p-8 font-serif italic text-white",children:"Dialect Engine"}),e.jsx("td",{className:"p-8 text-gray-500",children:"Fixed/Formal English."}),e.jsx("td",{className:"p-8 text-gray-300",children:"Multi-Regional Prison Slang Support."})]}),e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.01] transition-colors",children:[e.jsx("td",{className:"p-8 font-serif italic text-white",children:"Industrial OCR"}),e.jsx("td",{className:"p-8 text-gray-500",children:"Fragmented/Error-Prone."}),e.jsx("td",{className:"p-8 text-gray-300",children:"Optimized for Paper & Low-Light Scans."})]}),e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.01] transition-colors",children:[e.jsx("td",{className:"p-8 font-serif italic text-white",children:"Privacy Shield"}),e.jsx("td",{className:"p-8 text-gray-500",children:"None (Uses data for training)."}),e.jsx("td",{className:"p-8 text-orange-500 font-bold",children:"PII Audit & EXIF Scrubbing."})]}),e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.01] transition-colors",children:[e.jsx("td",{className:"p-8 font-serif italic text-white",children:"Mastering Suite"}),e.jsx("td",{className:"p-8 text-gray-500",children:"Manual Markdown only."}),e.jsx("td",{className:"p-8 text-gray-300",children:"Direct DOCX/Substack Final Mastering."})]})]})]})})]}),e.jsxs("section",{className:"py-32 px-6 text-center bg-orange-500 animate-living-amber-bg",children:[e.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold italic text-white mb-8",children:"Ready to cross?"}),e.jsx("div",{className:"flex justify-center gap-8",children:e.jsx(I,{to:"/author-builder",className:"bg-black text-white px-12 py-5 text-[10px] font-bold uppercase tracking-[0.5em] hover:bg-white hover:text-black transition-all shadow-2xl rounded-sm",children:"Launch Engine"})})]})]}),pi={AU:[{name:"Lifeline Australia",description:"24/7 crisis support and suicide prevention services.",url:"https://www.lifeline.org.au",category:"Mental Health"},{name:"Beyond Blue",description:"Support for anxiety, depression, and suicide prevention.",url:"https://www.beyondblue.org.au",category:"Mental Health"},{name:"Justice Action",description:"Australian community base for criminal justice reform and prisoner support.",url:"https://www.justiceaction.org.au",category:"Human Rights"},{name:"Prisoners' Aid NSW",description:"Assisting prisoners and their families in New South Wales.",url:"https://www.pan.org.au",category:"Reintegration"},{name:"First Peoples Disability Network",description:"Support for Aboriginal and Torres Strait Islander people with disability.",url:"https://fpdn.org.au",category:"Human Rights"},{name:"Winnunga Nimmityjah",description:"Aboriginal Health and Community Services for those impacted by the system.",url:"https://www.winnunga.org.au",category:"Mental Health"},{name:"Glebe House",description:"Reintegration support and residential transition programs.",url:"https://www.glebehouse.org.au",category:"Reintegration"}],US:[{name:"Crisis Text Line",description:"Free 24/7 support at your fingertips. Text HOME to 741741.",url:"https://www.crisistextline.org",category:"Mental Health"},{name:"ACLU",description:"The American Civil Liberties Union provides legal support for civil rights.",url:"https://www.aclu.org",category:"Legal"},{name:"The Sentencing Project",description:"Working for a fair and effective U.S. criminal justice system.",url:"https://www.sentencingproject.org",category:"Human Rights"},{name:"Fortune Society",description:"Support for successful reentry from incarceration.",url:"https://fortunesociety.org",category:"Reintegration"},{name:"Prison Policy Initiative",description:"Research and advocacy on mass incarceration.",url:"https://www.prisonpolicy.org",category:"Legal"},{name:"The Marshall Project",description:"Nonprofit journalism about the U.S. criminal justice system.",url:"https://www.themarshallproject.org",category:"Human Rights"}],UK:[{name:"Samaritans UK",description:"Whatever you're going through, a Samaritan will face it with you.",url:"https://www.samaritans.org",category:"Mental Health"},{name:"Prison Reform Trust",description:"Independent charity working to create a just, humane and effective penal system.",url:"https://www.prisonreformtrust.org.uk",category:"Human Rights"},{name:"Unlock",description:"Support and advice for people with criminal records.",url:"https://unlock.org.uk",category:"Reintegration"},{name:"Howard League for Penal Reform",description:"The oldest penal reform charity in the world.",url:"https://howardleague.org",category:"Legal"},{name:"Women in Prison",description:"Support for women at all stages of the criminal justice system.",url:"https://www.womeninprison.org.uk",category:"Reintegration"}],GLOBAL:[{name:"Amnesty International",description:"Global movement of people fighting for human rights.",url:"https://www.amnesty.org",category:"Human Rights"},{name:"International Red Cross",description:"Humanitarian protection and assistance for victims of war and violence.",url:"https://www.icrc.org",category:"Human Rights"},{name:"World Federation for Mental Health",description:"Global mental health advocacy and awareness.",url:"https://wfmh.global",category:"Mental Health"},{name:"Human Rights Watch",description:"Investigates and reports on abuses happening in all corners of the world.",url:"https://www.hrw.org",category:"Human Rights"},{name:"Penal Reform International",description:"Working globally to promote justice and human rights in penal systems.",url:"https://www.penalreform.org",category:"Legal"}]},mi=()=>{const[t,a]=l.useState("AU");return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white pb-32",children:[e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 text-center border-b border-white/5",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.6em] uppercase text-[10px] font-bold mb-6 block animate-fade-in animate-living-amber",children:"Kindred Spirits"}),e.jsxs("h1",{className:"text-6xl md:text-8xl font-serif font-bold mb-8 italic leading-none",children:["Support ",e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Hub."})]}),e.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto font-light leading-relaxed italic opacity-80",children:'"The journey through the system leaves marks that ink alone cannot heal. Find your community and your resources here."'})]}),e.jsx("section",{className:"max-w-4xl mx-auto px-6 py-12 flex flex-wrap justify-center gap-4",children:["AU","US","UK","GLOBAL"].map(r=>e.jsx("button",{onClick:()=>a(r),className:`px-10 py-4 text-[10px] font-bold uppercase tracking-[0.4em] transition-all border ${t===r?"bg-orange-500 border-orange-500 text-white shadow-[0_0_30px_rgba(230,126,34,0.3)]":"border-white/10 text-gray-500 hover:border-white/30"}`,children:r==="AU"?"Australia":r==="US"?"United States":r==="UK"?"United Kingdom":"International"},r))}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:pi[t].map((r,s)=>e.jsxs("div",{className:"group bg-[#0d0d0d] border border-white/5 p-10 hover:border-orange-500/30 transition-all animate-fade-in flex flex-col",style:{animationDelay:`${s*100}ms`},children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("span",{className:"text-[9px] font-bold text-orange-500 uppercase tracking-widest border border-orange-500/20 px-3 py-1",children:r.category}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500/20"})]}),e.jsx("h3",{className:"text-2xl font-serif font-bold mb-4 group-hover:text-orange-500 transition-colors",children:r.name}),e.jsxs("p",{className:"text-gray-500 text-sm leading-relaxed mb-10 italic flex-grow",children:['"',r.description,'"']}),e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-[10px] font-bold uppercase tracking-[0.3em] text-white border-b border-white hover:text-orange-500 hover:border-orange-500 pb-1 transition-all w-fit",children:"Access Resource"})]},s))}),e.jsxs("section",{className:"max-w-3xl mx-auto px-6 mt-20 p-12 bg-white/5 border border-white/10 text-center",children:[e.jsx("h4",{className:"text-white font-serif italic text-2xl mb-4",children:"In Immediate Crisis?"}),e.jsx("p",{className:"text-gray-400 text-sm font-light mb-8",children:"If you are in danger or experiencing a life-threatening emergency, please contact your local emergency services immediately."}),e.jsxs("div",{className:"flex justify-center gap-12 text-[10px] font-bold uppercase tracking-widest text-orange-500",children:[e.jsx("span",{children:"AU: 000"}),e.jsx("span",{children:"US: 911"}),e.jsx("span",{children:"UK: 999"})]})]}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.8s ease-out forwards; }
      `})]})},gi=()=>e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white",children:[e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 text-center border-b border-white/5",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.6em] uppercase text-[10px] font-black mb-6 block animate-living-amber",children:"Protective Infrastructure"}),e.jsxs("h1",{className:"text-6xl md:text-9xl font-serif font-black mb-12 italic leading-none tracking-tighter text-white",children:["Privacy ",e.jsx("span",{className:"text-orange-500 animate-living-amber",children:"Shield."})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light max-w-3xl mx-auto leading-relaxed italic opacity-80",children:'"Handling high-risk truths requires institutional-grade digital shielding. We protect the story so you can tell it safely."'})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-24 space-y-32",children:[e.jsxs("section",{className:"bg-[#0a0a0a] border border-orange-500/20 p-12 md:p-20 relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 text-8xl font-serif italic text-orange-500 select-none",children:"ROADMAP"}),e.jsxs("h3",{className:"text-3xl font-serif italic text-white mb-10",children:["Technical ",e.jsx("span",{className:"text-orange-500",children:"Sovereignty."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-8 bg-black/60 border border-white/10 rounded-sm",children:[e.jsx("h4",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest mb-4",children:"Current Phase: Secure Pilot Injection"}),e.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed font-light",children:["This beta uses ",e.jsx("span",{className:"text-white italic",children:"Secure Environment Injection"}),". API keys are managed by the platform's execution environment and injected into requests at the network edge. The keys never reside in the application's source repository or long-term browser storage."]})]}),e.jsxs("div",{className:"p-8 bg-orange-500/5 border border-orange-500/20 rounded-sm",children:[e.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-widest mb-4",children:"Production: Sovereign Proxy Node"}),e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed font-light italic",children:"For the industrial release, we are transitioning to a **Dedicated Proxy Architecture**. All AI interactions will be brokered by a sovereign Node.js proxy, ensuring the client-side bundle has zero knowledge of upstream administrative credentials."})]})]})]}),e.jsxs("section",{className:"grid lg:grid-cols-2 gap-20",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-3xl font-serif italic text-white underline decoration-orange-500/30 underline-offset-8",children:"PII Audit & Pseudonyms"}),e.jsx("p",{className:"text-gray-500 leading-relaxed font-light",children:"The primary risk for any carceral narrative is defamation litigation. Our **Sovereign Protocol 4.0** enforces an AI-driven PII (Personally Identifiable Information) audit."}),e.jsx("div",{className:"p-8 border-l-2 border-red-500 bg-red-500/5 text-xs text-red-200/80 italic leading-loose",children:'"Authors MUST change the names of all characters, staff, and facilities unless they have express legal permission. WRAP Profile tools flag real names automatically."'})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-3xl font-serif italic text-white underline decoration-orange-500/30 underline-offset-8",children:"Scale & Residency"}),e.jsx("p",{className:"text-gray-500 leading-relaxed font-light",children:"For institutional use within Australia, we utilize **Emergent Architecture**. This ensures all manuscripts and metadata remain on Australian soil, complying with state and federal privacy acts."}),e.jsxs("ul",{className:"text-[10px] font-bold uppercase tracking-[0.3em] space-y-4 text-cyan-500",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," AU-Sydney Residency Available"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," Scalable to 100k+ Authors"]})]})]})]}),e.jsxs("section",{className:"bg-[#0a0a0a] border border-white/5 p-12 md:p-20 relative overflow-hidden",children:[e.jsx("h3",{className:"text-2xl font-serif italic text-white mb-12",children:"Protocol 4.0 Data Sovereignty"}),e.jsxs("div",{className:"space-y-12 prose prose-invert max-w-none",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-orange-500 uppercase text-[10px] tracking-widest font-bold mb-4",children:"01. Ephemeral Processing"}),e.jsx("p",{className:"text-gray-400 font-light",children:"Drafts processed via WRAP Profile are held in ephemeral memory. We do not use your narratives for model training. Your intellectual property remains your resource."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-orange-500 uppercase text-[10px] tracking-widest font-bold mb-4",children:"02. End-to-End Vaulting"}),e.jsx("p",{className:"text-gray-400 font-light",children:"Archives in 'The Big House' are encrypted. This ensures that even in institutional environments, the author's work-in-progress is protected from unauthorized surveillance."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-orange-500 uppercase text-[10px] tracking-widest font-bold mb-4",children:"03. Metadata Scrubbing"}),e.jsx("p",{className:"text-gray-400 font-light",children:"All visual assets are stripped of EXIF data upon ingestion. We remove device identifiers, GPS coordinates, and timestamp signatures to protect author anonymity."})]})]}),e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 text-9xl font-serif italic select-none -rotate-12",children:"SHIELD"})]})]})]}),fi=({className:t=""})=>e.jsxs("svg",{viewBox:"0 0 512 512",className:t,xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"virty-shimmer",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",className:"animate-hue-1",stopColor:"#f95bf6"}),e.jsx("stop",{offset:"50%",className:"animate-hue-2",stopColor:"#5b2e3e"}),e.jsx("stop",{offset:"100%",className:"animate-hue-3",stopColor:"#03f7eb"})]}),e.jsx("path",{id:"jigsaw-tl",d:"M256,40 C190,40 130,70 90,120 L180,180 Q220,130 256,130 Z"}),e.jsx("path",{id:"jigsaw-tr",d:"M256,40 C322,40 382,70 422,120 L332,180 Q292,130 256,130 Z"}),e.jsx("path",{id:"jigsaw-bl",d:"M90,392 C130,442 190,472 256,472 L256,382 Q220,382 180,332 Z"}),e.jsx("path",{id:"jigsaw-br",d:"M422,392 C382,442 322,472 256,472 L256,382 Q292,382 332,332 Z"}),e.jsx("path",{id:"jigsaw-mid",d:"M195,195 L317,195 L317,317 L195,317 Z",transform:"rotate(45 256 256)"}),e.jsxs("g",{id:"text-virty",children:[e.jsx("path",{d:"M40,0 L90,140 L140,0 H115 L90,80 L65,0 Z"}),e.jsx("path",{d:"M160,0 H185 V140 H160 Z"}),e.jsx("path",{d:"M205,0 H260 Q285,0 285,25 Q285,50 260,50 H230 V140 H205 V0 M230,25 V25 H260 Q260,25 260,25 Z"}),e.jsx("path",{d:"M300,0 H370 V25 H347 V140 H323 V25 H300 Z"}),e.jsx("path",{d:"M385,0 L415,70 V140 H440 V70 L470,0 H445 L427,45 L410,0 Z"})]})]}),e.jsxs("g",{transform:"translate(0, -50) scale(0.65 0.65) translate(135, 0)",fill:"url(#virty-shimmer)",children:[e.jsx("use",{href:"#jigsaw-tl",className:"piece-tl"}),e.jsx("use",{href:"#jigsaw-tr",className:"piece-tr"}),e.jsx("use",{href:"#jigsaw-bl",className:"piece-bl"}),e.jsx("use",{href:"#jigsaw-br",className:"piece-br"}),e.jsx("use",{href:"#jigsaw-mid",className:"piece-mid"})]}),e.jsx("g",{transform:"translate(30, 360) scale(0.9)",fill:"url(#virty-shimmer)",children:e.jsx("use",{href:"#text-virty"})}),e.jsx("style",{children:`
      @keyframes morph-color { 0%, 100% { stop-color: #f95bf6; } 50% { stop-color: #03f7eb; } }
      @keyframes morph-color-alt { 0%, 100% { stop-color: #03f7eb; } 50% { stop-color: #f95bf6; } }
      .animate-hue-1 { animation: morph-color 6s infinite ease-in-out; }
      .animate-hue-3 { animation: morph-color-alt 6s infinite ease-in-out; }
      @keyframes spread-tl { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(-15px, -15px); } }
      @keyframes spread-tr { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(15px, -15px); } }
      @keyframes spread-bl { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(-15px, 15px); } }
      @keyframes spread-br { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(15px, 15px); } }
      .piece-tl { animation: spread-tl 4s infinite ease-in-out; }
      .piece-tr { animation: spread-tr 4s infinite ease-in-out; }
      .piece-bl { animation: spread-bl 4s infinite ease-in-out; }
      .piece-br { animation: spread-br 4s infinite ease-in-out; }
    `})]}),bi=()=>{const[t,a]=l.useState([]),[r,s]=l.useState(""),[n,i]=l.useState(!1),[o,c]=l.useState(!1),[d,u]=l.useState(""),[x,p]=l.useState(!1),[m,h]=l.useState(!1),y=l.useRef(null);l.useEffect(()=>{var f;(f=y.current)==null||f.scrollIntoView({behavior:"smooth"})},[t]);const b=f=>{f.preventDefault(),d==="FlirtyVirty"?(p(!0),h(!1)):(h(!0),u(""),setTimeout(()=>h(!1),2e3))},v=async f=>{if(f.preventDefault(),!r.trim())return;const w=r;a(j=>[...j,{role:"user",content:w}]),s(""),i(!0);try{const j=await Gn(w);a(g=>[...g,{role:"assistant",content:j}])}catch(j){console.error(j)}finally{i(!1)}},N=`
/**
 * FOR KUMBI: SOVEREIGN ENGINE INTEGRATION (VIRTUAL COMPANION MODULE)
 * 
 * CORE PRINCIPLE: Decouple Interaction from Transformation.
 * Use this architecture to build the VIRTY backend.
 */

import { GoogleGenAI, Type } from "@google/genai";

const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });

// 1. THE GOLDEN CONTRACT (Root Protocol)
const GOLDEN_CONTRACT = \`
  ROLE: Narrative Integrity Specialist.
  MISSION: Sovereignty of Voice.
  RULE: Preserve grit, dialect, and intentional tone.
  FAILURE: If uncertainty exists, return UNCHANGED.
\`;

// 2. ENGINE A: THE SCRUBBER (Mechanical Transformation)
// Near-zero temperature (0.1) for precision. No personality allowed here.
export async function performMechanicalScrub(text) {
  const response = await ai.models.generateContent({
    model: 'gemini-3-flash-preview',
    contents: { parts: [{ text }] },
    config: { 
      systemInstruction: GOLDEN_CONTRACT + "\\nMODE: SCRUB. Strictly remove filler only.",
      temperature: 0.1 
    },
  });
  return response.text;
}

// 3. ENGINE B: THE PARTNER (High-Intensity Interaction)
// This is where the "FlirtyVirty" / "Firebrand" persona lives.
export async function interactWithPartner(message, context = "") {
  const response = await ai.models.generateContent({
    model: 'gemini-3-flash-preview',
    contents: { parts: [{ text: message }] },
    config: { 
      systemInstruction: GOLDEN_CONTRACT + "\\nARCHETYPE: FIREBRAND. Rambunctious, helpful, vibrant.",
      tools: [{ googleSearch: {} }] 
    },
  });
  return response.text;
}
  `.trim();return e.jsxs("div",{className:"min-h-screen bg-[#020205] text-white selection:bg-cyan-500/30",children:[e.jsxs("section",{className:"relative h-[80vh] flex items-center justify-center overflow-hidden px-6 text-center",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-900/10 via-black to-black"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-cyan-500/5 rounded-full blur-[150px] animate-pulse"})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl",children:[e.jsx("span",{className:"text-cyan-400 tracking-[0.8em] uppercase text-[10px] font-black mb-8 block animate-pulse",children:"VIRTY Development Lab"}),e.jsxs("h1",{className:"text-5xl md:text-[8rem] font-serif font-black mb-8 leading-none italic tracking-tighter",children:["VIRTY ",e.jsx("span",{className:"text-white/20",children:"LOGIC."})]}),e.jsx("p",{className:"text-xl md:text-3xl text-gray-400 font-light max-w-2xl mx-auto italic leading-relaxed",children:'"Companionship for the physically isolated."'})]})]}),e.jsx("section",{className:"py-24 px-6 lg:px-24 bg-black border-t border-white/5",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-32",children:[e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-5xl font-serif italic mb-6",children:["VIRTY ",e.jsx("span",{className:"text-cyan-400",children:"Architecture."})]}),e.jsx("p",{className:"text-gray-500 text-lg font-light leading-relaxed",children:"Access the handover protocols for the Sovereign AI Engine. This documentation is for development partners only."})]}),e.jsxs("div",{className:"p-12 bg-white/[0.02] border border-white/5 flex items-center justify-center relative overflow-hidden group rounded-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-cyan-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(fi,{className:"w-64 h-64 filter drop-shadow-[0_0_40px_rgba(3,247,235,0.2)]"})]}),x?e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-green-500 text-[9px] font-black uppercase tracking-widest",children:"Protocol Handover: AUTHORIZED"})]}),e.jsx("pre",{className:"p-8 bg-black border border-cyan-500/20 text-[10px] text-cyan-300 overflow-x-auto font-mono rounded-sm shadow-inner leading-relaxed",children:N})]}):e.jsxs("div",{className:"p-10 bg-black border border-white/5 rounded-sm",children:[e.jsx("h4",{className:"text-[10px] font-black text-cyan-400 uppercase tracking-widest mb-6",children:"System Firewall Active"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsx("input",{type:"password",value:d,onChange:f=>u(f.target.value),placeholder:"Enter Firewall Key",className:`w-full bg-[#050505] border ${m?"border-red-500":"border-white/10"} p-4 text-[11px] font-mono tracking-[0.4em] text-white outline-none focus:border-cyan-400 rounded-sm`}),e.jsx("button",{type:"submit",className:"w-full py-4 bg-cyan-500 text-white text-[10px] font-black uppercase tracking-[0.4em] hover:bg-cyan-600 transition-all shadow-xl shadow-cyan-500/20",children:"Unlock Protocols"})]})]})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-5xl font-serif italic mb-6",children:["Live ",e.jsx("span",{className:"text-cyan-400",children:"Environment."})]}),e.jsx("p",{className:"text-gray-500 text-lg font-light leading-relaxed",children:"Test the frequency response of the Aurora sanctuary partner. This module simulates high-empathy companionship."})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-sm overflow-hidden h-[500px] flex flex-col",children:[e.jsxs("div",{className:"p-4 bg-cyan-900/10 border-b border-white/5 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-cyan-400",children:"AURORA NODE: STANDBY"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400 animate-pulse"})]}),e.jsxs("div",{className:"flex-grow overflow-y-auto p-8 space-y-6",children:[t.map((f,w)=>e.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] p-5 text-sm leading-relaxed ${f.role==="user"?"bg-cyan-500/10 border border-cyan-400/20 italic text-cyan-100":"bg-white/5 border border-white/5 text-gray-400"}`,children:f.content})},w)),n&&e.jsx("span",{className:"text-[10px] text-cyan-400 animate-pulse uppercase font-black tracking-widest",children:"Partner is listening..."}),e.jsx("div",{ref:y})]}),e.jsxs("form",{onSubmit:v,className:"p-6 bg-black border-t border-white/5 flex gap-4",children:[e.jsx("input",{value:r,onChange:f=>s(f.target.value),placeholder:"Start a conversation with Virty...",className:"flex-grow bg-transparent border-none text-sm font-light outline-none focus:ring-0 placeholder:text-gray-800"}),e.jsx("button",{type:"submit",className:"text-cyan-400 hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M14 5l7 7m0 0l-7 7m7-7H3",strokeWidth:"2",strokeLinecap:"round"})})})]})]})]})]})})}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.6s ease-out forwards; }
      `})]})},ba=["Fiction","Non-Fiction","Prison Life","Crime Life","Love Story","Sad Story","Tragic Story","Life Story"],va=["Asia","Australia","North America","South America","United Kingdom","Europe"],vi=()=>{const[t,a]=l.useState([{id:"1",title:"New Sheet Start",content:""}]),[r,s]=l.useState("1"),[n,i]=l.useState([]),[o,c]=l.useState(""),[d,u]=l.useState(!1),[x,p]=l.useState(ba[2]),[m,h]=l.useState(va[1]),[y,b]=l.useState(!0),v=l.useRef(null),N=t.find(g=>g.id===r)||t[0];l.useEffect(()=>{var g;(g=v.current)==null||g.scrollIntoView({behavior:"smooth"})},[n,d]);const f=g=>{a(T=>T.map(_=>_.id===r?{..._,content:g}:_))},w=()=>{const g=Date.now().toString();a(T=>[...T,{id:g,title:`Sheet ${T.length+1}`,content:""}]),s(g)},j=async g=>{if(g.preventDefault(),!o.trim())return;const T=o;c(""),i(M=>[...M,{role:"user",content:T}]),u(!0);const _=await Ht(T,x,m,n,N.content,"Natural");i(M=>[...M,_]),u(!1)};return e.jsxs("div",{className:"flex h-[calc(100vh-80px)] bg-[#050505] overflow-hidden",children:[e.jsxs("aside",{className:`transition-all duration-500 border-r border-white/5 bg-[#0a0a0a] flex flex-col ${y?"w-96":"w-0 opacity-0 overflow-hidden"}`,children:[e.jsxs("div",{className:"p-6 border-b border-white/5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-accent text-[10px] font-bold uppercase tracking-[0.4em]",children:"Sovereign Partner"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-600 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M15 19l-7-7 7-7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-600 uppercase tracking-widest",children:"Dialect Tone"}),e.jsx("select",{value:x,onChange:g=>p(g.target.value),className:"w-full bg-black border border-white/10 text-[10px] text-gray-400 p-2 focus:border-accent outline-none appearance-none",children:ba.map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-600 uppercase tracking-widest",children:"Archive Context"}),e.jsx("select",{value:m,onChange:g=>h(g.target.value),className:"w-full bg-black border border-white/10 text-[10px] text-gray-400 p-2 focus:border-accent outline-none appearance-none",children:va.map(g=>e.jsx("option",{value:g,children:g},g))})]})]})]}),e.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[n.length===0&&e.jsx("div",{className:"h-full flex flex-col items-center justify-center opacity-30 text-center px-4",children:e.jsxs("p",{className:"text-xs italic font-serif",children:['"I am listening to your sheets in ',m,'. Ready to find your flow on the Slate."']})}),n.map((g,T)=>e.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] p-4 rounded-sm text-sm font-serif leading-relaxed ${g.role==="user"?"bg-white/5 border border-white/10 italic text-gray-500":"bg-accent/5 border border-accent/20 text-gray-300"}`,children:[g.content,g.sources&&g.sources.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[e.jsx("p",{className:"text-[9px] font-bold text-accent uppercase tracking-widest mb-2",children:"Sources:"}),e.jsx("ul",{className:"space-y-1",children:g.sources.map((_,M)=>{var Y,Z,F;return e.jsx("li",{children:e.jsx("a",{href:(Y=_.web)==null?void 0:Y.uri,target:"_blank",rel:"noopener noreferrer",className:"text-[9px] text-gray-400 hover:text-white transition-colors underline break-all",children:((Z=_.web)==null?void 0:Z.title)||((F=_.web)==null?void 0:F.uri)})},M)})})]})]})},T)),d&&e.jsx("div",{className:"text-[9px] text-accent animate-pulse uppercase tracking-widest ml-2",children:"Consulting Archives..."}),e.jsx("div",{ref:v})]}),e.jsxs("form",{onSubmit:j,className:"p-4 bg-black/40 border-t border-white/5 flex gap-2",children:[e.jsx("input",{value:o,onChange:g=>c(g.target.value),placeholder:"Talk to WRAPPER...",className:"flex-grow bg-transparent border-none text-[11px] font-serif focus:ring-0 placeholder:text-gray-800"}),e.jsx("button",{type:"submit",className:"text-accent hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M14 5l7 7m0 0l-7 7m7-7H3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("main",{className:"flex-grow flex flex-col relative bg-[#050505]",children:[!y&&e.jsx("button",{onClick:()=>b(!0),className:"absolute left-6 top-6 z-40 text-gray-600 hover:text-accent transition-all animate-fade-in",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 5l7 7-7 7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{className:"flex bg-[#080808] border-b border-white/5 overflow-x-auto no-scrollbar",children:[t.map(g=>e.jsxs("div",{className:`flex items-center gap-4 px-6 py-4 cursor-pointer transition-all border-r border-white/5 ${r===g.id?"bg-[#0a0a0a] text-accent":"text-gray-600 hover:text-gray-400"}`,onClick:()=>s(g.id),children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:g.title==="New Sheet Start"?"Draft Sheet":g.title}),t.length>1&&e.jsx("button",{onClick:T=>{T.stopPropagation(),a(_=>_.filter(M=>M.id!==g.id))},className:"hover:text-red-500 transition-colors",children:"Ã—"})]},g.id)),e.jsx("button",{onClick:w,className:"px-6 py-4 text-gray-600 hover:text-accent transition-colors border-r border-white/5",children:"+ New Sheet"})]}),e.jsx("div",{className:"flex-grow flex justify-center p-12 lg:p-24 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"max-w-3xl w-full",children:[e.jsx("input",{value:N.title,onChange:g=>a(T=>T.map(_=>_.id===r?{..._,title:g.target.value}:_)),className:"w-full bg-transparent text-white text-5xl font-serif italic mb-12 border-none outline-none focus:ring-0 placeholder:text-gray-900",placeholder:"Slate Title..."}),e.jsx("textarea",{value:N.content,onChange:g=>f(g.target.value),className:"w-full bg-transparent text-gray-400 text-xl font-serif leading-[2.2] border-none outline-none focus:ring-0 resize-none h-auto min-h-[60vh] placeholder:text-gray-900",placeholder:"Your truth starts on the Slate..."})]})}),e.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-between items-center bg-[#080808]",children:[e.jsxs("div",{className:"flex gap-6 text-[8px] font-bold text-gray-700 uppercase tracking-widest",children:[e.jsxs("span",{children:["Words: ",N.content.split(/\s+/).filter(g=>g).length]}),e.jsx("span",{children:"Vault Status: Secured"})]}),e.jsx("div",{className:"text-[8px] font-bold text-accent uppercase tracking-widest italic",children:'"Sovereign Slate Mode"'})]})]}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #111; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        @keyframes fade-in { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
      `})]})},ya=[{id:"amber",name:"Amber (Classic)",color:"#e67e22"},{id:"blue",name:"Sovereign Blue",color:"#3498db"},{id:"red",name:"Ruby (Emergency)",color:"#e74c3c"},{id:"emerald",name:"Emerald (Growth)",color:"#2ecc71"}],wa=["Timid","Cool","Mild","Natural","Wild","Firebrand"],yi=["Male","Female","Neutral"],wi=["Soft","Normal","Loud"],ji=["AU","UK","US"],Ni=["1x","1.25x","1.5x"],ki=()=>{const[t,a]=l.useState(()=>je("aca_author_profile",{name:"Architect",theme:"amber",fontIndex:0,personalityIndex:3,wrapName:"WRAP",wrapGender:"Neutral",wrapSound:"Normal",wrapAccent:"AU",wrapSpeed:"1x"})),[r,s]=l.useState(!1),n=()=>{et("aca_author_profile",t);const o=ya.map(c=>`theme-${c.id}`);if(document.body.classList.remove(...o),document.documentElement.classList.remove(...o),t.theme&&t.theme!=="amber"){const c=`theme-${t.theme}`;document.body.classList.add(c),document.documentElement.classList.add(c)}s(!0),setTimeout(()=>s(!1),3e3)},i=wa[t.personalityIndex||0];return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white pb-32 font-sans pt-24",children:[e.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx(I,{to:"/author-builder",className:"text-[10px] font-black uppercase tracking-[0.4em] mb-12 block hover:underline",style:{color:"var(--accent)"},children:"â† Return to Studio"}),e.jsxs("h1",{className:"text-6xl font-serif font-black italic text-white mb-6 uppercase",children:["WRAP ",e.jsx("span",{style:{color:"var(--accent)"},children:"Profile."})]}),e.jsx("p",{className:"text-xl text-gray-500 font-light italic leading-relaxed max-w-2xl",children:"Manage your author identity and the specifications of your WRAP partner."})]}),e.jsxs("section",{className:"max-w-4xl mx-auto px-6 space-y-8",children:[e.jsx("div",{className:"bg-[#0a0a0a] border border-white/10 p-10 rounded-sm shadow-2xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.5em]",style:{color:"var(--accent)"},children:"Author Identity"}),e.jsx("input",{value:t.name,onChange:o=>a({...t,name:o.target.value}),className:"w-full bg-transparent border-b border-white/10 pb-4 text-3xl font-serif italic outline-none focus:border-[var(--accent)] text-white transition-all",placeholder:"Your Name..."})]})}),e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10 p-10 rounded-sm shadow-2xl space-y-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-cyan-500",children:"WRAP Identity"}),e.jsx("input",{value:t.wrapName,onChange:o=>a({...t,wrapName:o.target.value}),className:"w-full bg-transparent border-b border-white/10 pb-4 text-3xl font-serif italic outline-none focus:border-cyan-500 text-white transition-all",placeholder:"Partner Name (e.g. WRAP)..."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest",children:"Partner Gender Profile"}),e.jsx("div",{className:"flex gap-2",children:yi.map(o=>e.jsx("button",{onClick:()=>a({...t,wrapGender:o}),className:`flex-1 py-3 text-[9px] font-black uppercase rounded-sm border transition-all ${t.wrapGender===o?"bg-cyan-500 border-cyan-500 text-white shadow-lg":"border-white/5 text-gray-600 hover:text-white"}`,children:o},o))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest",children:"Partner Sound Level"}),e.jsx("div",{className:"flex gap-2",children:wi.map(o=>e.jsx("button",{onClick:()=>a({...t,wrapSound:o}),className:`flex-1 py-3 text-[9px] font-black uppercase rounded-sm border transition-all ${t.wrapSound===o?"bg-cyan-500 border-cyan-500 text-white shadow-lg":"border-white/5 text-gray-600 hover:text-white"}`,children:o},o))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest",children:"Regional Dialect Accent"}),e.jsx("div",{className:"flex gap-2",children:ji.map(o=>e.jsx("button",{onClick:()=>a({...t,wrapAccent:o}),className:`flex-1 py-3 text-[9px] font-black uppercase rounded-sm border transition-all ${t.wrapAccent===o?"bg-cyan-500 border-cyan-500 text-white shadow-lg":"border-white/5 text-gray-600 hover:text-white"}`,children:o},o))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest",children:"Conversational Pace"}),e.jsx("div",{className:"flex gap-2",children:Ni.map(o=>e.jsx("button",{onClick:()=>a({...t,wrapSpeed:o}),className:`flex-1 py-3 text-[9px] font-black uppercase rounded-sm border transition-all ${t.wrapSpeed===o?"bg-cyan-500 border-cyan-500 text-white shadow-lg":"border-white/5 text-gray-600 hover:text-white"}`,children:o},o))})]})]}),e.jsxs("div",{className:"space-y-8 py-6 border-t border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-600 uppercase tracking-[0.5em]",children:"Temperament Matrix"}),e.jsx("span",{className:"text-[var(--accent)] font-serif italic text-2xl tracking-tighter animate-pulse",children:i})]}),e.jsxs("div",{className:"relative pt-2",children:[e.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:t.personalityIndex||0,onChange:o=>a({...t,personalityIndex:parseInt(o.target.value)}),className:"w-full h-1 bg-white/10 rounded-lg appearance-none cursor-pointer accent-[var(--accent)]"}),e.jsx("div",{className:"flex justify-between mt-4 text-[7px] font-black text-gray-700 uppercase tracking-widest",children:wa.map((o,c)=>e.jsx("span",{className:t.personalityIndex===c?"text-[var(--accent)]":"",children:o},o))})]})]})]}),e.jsx("div",{className:"bg-[#0a0a0a] border border-white/10 p-10 rounded-sm shadow-2xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-600 uppercase tracking-[0.5em]",children:"Workspace Theme"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:ya.map(o=>e.jsxs("button",{onClick:()=>a({...t,theme:o.id}),className:`p-6 border transition-all rounded-sm flex flex-col items-center gap-3 ${t.theme===o.id?"border-[var(--accent)] bg-[var(--accent)]/5":"border-white/5 hover:bg-white/5"}`,children:[e.jsx("div",{className:"w-4 h-4 rounded-full shadow-xl",style:{backgroundColor:o.color}}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-500",children:o.name})]},o.id))})]})}),e.jsx("button",{onClick:n,className:"w-full py-8 text-white text-[12px] font-black uppercase tracking-[0.6em] shadow-2xl hover:brightness-110 transition-all rounded-sm animate-living-amber-bg",children:"Synchronize Profile & Identity"})]}),r&&e.jsx("div",{className:"fixed bottom-12 left-1/2 -translate-x-1/2 text-white px-10 py-4 rounded-full text-[10px] font-black uppercase tracking-[0.5em] shadow-2xl z-[100] border border-white/20 animate-living-amber-bg",children:"Settings Synchronized"})]})};var ja={};const Si="aca_sovereign_registry",Ci=4,Ei=()=>{const t=$e(),[a,r]=l.useState("sheets"),[s,n]=l.useState({status:"loading",message:"Checking Status..."}),[i,o]=l.useState(!1),[c,d]=l.useState(()=>{const h=Vs("sovereign_vault",{});return{sheets:Array.isArray(h==null?void 0:h.sheets)?h.sheets:[],books:Array.isArray(h==null?void 0:h.books)?h.books:[],ai:Array.isArray(h==null?void 0:h.ai)?h.ai:[],audits:Array.isArray(h==null?void 0:h.audits)?h.audits:[]}});l.useEffect(()=>{x(),u()},[]);const u=async()=>{n({status:"loading",message:"Checking Status..."});try{const h=await Dn();n(h)}catch(h){n({status:"error",message:h.message||"System offline."})}},x=()=>{try{const h=indexedDB.open(Si,Ci);h.onsuccess=()=>{const y=h.result;if(y.objectStoreNames.contains("books")){const N=y.transaction("books","readonly").objectStore("books").getAll();N.onsuccess=()=>{d(f=>({...f,books:Array.isArray(N.result)?N.result:[]}))}}}}catch(h){console.warn("Vault DB Failure:",h)}},p=h=>{if(!(!h||!h.data))try{const y=Qe("wrap_sheets_v4",[]),b=[{...h.data,id:`restored-${Date.now()}`},...y];et("wrap_sheets_v4",b),alert("Sheet successfully restored to Studio."),t("/author-builder")}catch{alert("Restoration Failure: Block Corrupted.")}},m=()=>{o(!0);try{const h={meta:{timestamp:new Date().toISOString(),origin:"A Captive Audience | Sovereign Vault"},current_vault_state:c},y=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=`ACA-Vault-Dump-${Date.now()}.json`,v.click(),URL.revokeObjectURL(b)}catch{alert("Handover Protocol Failed.")}finally{o(!1)}};return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white pb-32 pt-24 font-sans relative",children:[e.jsx("div",{className:"fixed inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(var(--accent) 1px, transparent 1px), linear-gradient(90deg, var(--accent) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),e.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-12 border-b border-white/5 flex flex-col md:flex-row justify-between items-end relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[var(--accent)] animate-pulse shadow-[0_0_10px_var(--accent)]"}),e.jsx("span",{className:"text-[var(--accent)] tracking-[0.5em] uppercase text-[10px] font-black",children:"Archive Center"})]}),e.jsxs("h1",{className:"text-7xl font-serif font-black italic text-white tracking-tighter uppercase",children:["THE BIG ",e.jsx("span",{className:"text-[var(--accent)]",children:"HOUSE."})]})]}),e.jsxs("div",{className:"pb-4 flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="online"?"bg-green-500 shadow-[0_0_15px_#22c55e]":s.status==="loading"?"bg-amber-500":"bg-red-500"} animate-pulse`}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:["Forge Status: ",(s.status||"OFFLINE").toUpperCase()]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 flex flex-col md:flex-row gap-12 relative z-10",children:[e.jsxs("aside",{className:"w-full md:w-80 space-y-2 shrink-0",children:[e.jsx("button",{onClick:()=>r("sheets"),className:`w-full text-left p-6 transition-all border-l-2 ${a==="sheets"?"bg-[var(--accent)]/10 border-[var(--accent)] text-[var(--accent)]":"bg-black border-white/5 border-l-transparent text-gray-700"}`,children:e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em]",children:"The Sheets"})}),e.jsx("button",{onClick:()=>r("books"),className:`w-full text-left p-6 transition-all border-l-2 ${a==="books"?"bg-[var(--accent)]/10 border-[var(--accent)] text-[var(--accent)]":"bg-black border-white/5 border-l-transparent text-gray-700"}`,children:e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em]",children:"The Bookshelf"})}),e.jsx("button",{onClick:()=>r("diagnostic"),className:`w-full text-left p-6 transition-all border-l-2 ${a==="diagnostic"?"bg-cyan-500/10 border-cyan-500 text-cyan-500":"bg-black border-white/5 border-l-transparent text-gray-700"}`,children:e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em]",children:"Firestorm Diagnostic"})}),e.jsx("button",{onClick:()=>r("heartbeat"),className:`w-full text-left p-6 transition-all border-l-2 ${a==="heartbeat"?"bg-green-500/10 border-green-500 text-green-500":"bg-black border-white/5 border-l-transparent text-gray-700"}`,children:e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em]",children:"System Heartbeat"})}),e.jsx("div",{className:"pt-10",children:e.jsxs("button",{onClick:m,disabled:i,className:`w-full text-left p-8 bg-red-600/10 border border-red-600/30 text-red-500 hover:bg-red-600 hover:text-white transition-all rounded-sm group ${i?"animate-pulse opacity-50":""}`,children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mb-1",children:"Handover Protocol"}),e.jsx("p",{className:"text-[8px] font-bold uppercase tracking-widest opacity-60 group-hover:opacity-100",children:"Package full state for audit"})]})})]}),e.jsxs("main",{className:"flex-grow",children:[a==="sheets"&&e.jsx("div",{className:"grid gap-4 animate-fade-in",children:c.sheets.length===0?e.jsx("div",{className:"p-32 text-center border border-dashed border-white/5 italic text-gray-800 font-serif",children:"Registry Empty."}):c.sheets.map(h=>{var y;return e.jsxs("div",{className:"p-10 bg-[#0d0d0d] border border-white/5 flex items-center justify-between group rounded-sm hover:border-[var(--accent)]/30 transition-all",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-3xl font-serif italic text-white tracking-tighter",children:((y=h.data)==null?void 0:y.title)||"Untitled Fragment"}),e.jsxs("p",{className:"text-[9px] font-black text-gray-700 uppercase tracking-widest",children:[new Date(h.timestamp).toLocaleDateString()," â€¢ ",h.status.toUpperCase()]})]}),e.jsx("button",{onClick:()=>p(h),className:"px-10 py-4 border border-[var(--accent)] text-[var(--accent)] text-[10px] font-black uppercase tracking-widest hover:bg-[var(--accent)] hover:text-white transition-all rounded-sm",children:"Restore"})]},h.id)})}),a==="books"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in",children:c.books.length===0?e.jsx("div",{className:"col-span-full p-32 text-center border border-dashed border-white/5 italic text-gray-800 font-serif",children:"No registered masters."}):c.books.map(h=>e.jsxs(I,{to:`/book/${h.slug}`,className:"bg-[#0d0d0d] border border-white/5 p-8 rounded-sm hover:border-[var(--accent)]/30 transition-all group",children:[e.jsx("div",{className:"aspect-[16/27] overflow-hidden mb-6 border border-white/5 bg-black",children:e.jsx("img",{src:h.coverUrl,className:"w-full h-full object-contain grayscale group-hover:grayscale-0 transition-all duration-700",alt:h.title})}),e.jsx("h3",{className:"text-2xl font-serif italic text-white mb-2 group-hover:text-[var(--accent)]",children:h.title}),e.jsxs("p",{className:"text-[9px] font-black text-gray-700 uppercase tracking-widest",children:["Master Edition â€¢ ",h.releaseYear]})]},h.id))}),a==="diagnostic"&&e.jsx("div",{className:"space-y-10 animate-fade-in",children:e.jsxs("div",{className:"bg-[#0a0a0a] border border-cyan-500/20 p-12 rounded-sm shadow-2xl",children:[e.jsx("h3",{className:"text-4xl font-serif italic text-white mb-8",children:"Firestorm Pre-Launch Diagnostic"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 bg-black border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"01. API Key Injection"}),e.jsx("span",{className:ja.API_KEY?"text-green-500 text-[10px] font-black":"text-red-500 text-[10px] font-black",children:ja.API_KEY?"VERIFIED":"MISSING"})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 bg-black border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"02. Sovereign DB (IndexedDB)"}),e.jsx("span",{className:"text-green-500 text-[10px] font-black",children:"ACTIVE (V4.0)"})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 bg-black border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"03. Persistence Layer (LocalStorage)"}),e.jsx("span",{className:"text-green-500 text-[10px] font-black",children:"READY"})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 bg-black border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"04. Hardware Link (Microphone)"}),e.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("aca:open_mic_check")),className:"text-cyan-500 text-[9px] font-black uppercase tracking-widest border border-cyan-500/30 px-4 py-1",children:"Run Check"})]})]}),e.jsx("div",{className:"mt-12 p-8 bg-cyan-900/10 border border-cyan-500/20 italic text-cyan-100 text-sm leading-relaxed",children:'"Firestorm Ready: If all checks are Green, your Sovereign Workspace is safe for multi-continental deployment."'})]})}),a==="heartbeat"&&e.jsx("div",{className:"space-y-8 animate-fade-in",children:e.jsxs("div",{className:"bg-[#0a0a0a] border border-green-500/20 p-12 rounded-sm shadow-2xl",children:[e.jsx("h3",{className:"text-4xl font-serif italic text-white mb-12",children:"Forge Heartbeat"}),e.jsxs("div",{className:"p-10 bg-black border border-white/5 rounded-sm flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Logic Stream"}),e.jsx("p",{className:`text-4xl font-serif italic ${s.status==="online"?"text-green-500":"text-red-500"}`,children:s.status.toUpperCase()})]}),e.jsx("button",{onClick:u,className:"text-[10px] font-black text-green-500 border border-green-500/30 px-6 py-2",children:"Refresh"})]}),e.jsxs("div",{className:"p-10 mt-6 bg-black border border-white/10 rounded-sm italic text-gray-400",children:['"',s.message,'"']})]})})]})]}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
      `})]})},Ri=()=>e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white font-sans selection:bg-orange-500/30 overflow-x-hidden pb-32",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-1/4 right-0 w-[40%] h-[40%] bg-orange-500/5 rounded-full blur-[150px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 left-0 w-[40%] h-[40%] bg-orange-500/5 rounded-full blur-[150px] animate-pulse",style:{animationDelay:"3s"}})]}),e.jsxs("section",{className:"relative z-10 max-w-5xl mx-auto px-6 pt-12 pb-24 border-b border-white/5",children:[e.jsx("span",{className:"text-orange-500 tracking-[0.8em] uppercase text-[10px] font-black mb-8 block animate-fade-in glow-orange",children:"The Architect's Truth"}),e.jsxs("h1",{className:"text-7xl md:text-9xl font-serif font-black mb-12 italic leading-none tracking-tighter text-white animate-slide-up glow-white",children:["Origin ",e.jsx("span",{className:"text-orange-500",children:"Story."})]}),e.jsx("p",{className:"text-2xl md:text-3xl text-gray-500 font-light italic leading-relaxed max-w-3xl",children:`"When I was in prison, I passed the time and dealt with the pain by writing stories. It wasn't just my storyâ€”it was the truth of the men I encountered."`})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-6 py-24 space-y-32",children:[e.jsxs("div",{className:"grid lg:grid-cols-5 gap-16 items-start",children:[e.jsxs("div",{className:"lg:col-span-2 sticky top-64",children:[e.jsx("h2",{className:"text-orange-500 text-[11px] font-black uppercase tracking-[0.5em] mb-4 border-l-2 border-orange-500 pl-4",children:"Movement 01"}),e.jsx("h3",{className:"text-4xl font-serif italic text-white glow-white",children:"The Steel & The Ink."})]}),e.jsxs("div",{className:"lg:col-span-3 prose prose-invert prose-lg text-gray-400 font-light leading-loose",children:[e.jsx("p",{children:"In the beginning, it was about survival. I encounter so many men with rich, amazing, unbelievable stories to offer. I began to compile themâ€”page after page of handwritten notes, scratched out in the low light of a cell. Every word was a reclamation of humanity in a place designed to strip it away."}),e.jsx("p",{className:"text-white italic text-2xl font-serif py-10 glow-white",children:'"The sound of the gate closing is the sound of a chapter slamming shut on a life you thought was yours."'})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-5 gap-16 items-start",children:[e.jsxs("div",{className:"lg:col-span-3 order-2 lg:order-1 prose prose-invert prose-lg text-gray-400 font-light leading-loose",children:[e.jsx("p",{children:"When I got out on bail, I spent countless hours manually typing those notes. It was a brutal grind before I realized that I could have had an app do it for me. It would have saved the bother, but the process taught me something vital:"}),e.jsx("p",{className:"text-orange-500 font-bold uppercase tracking-widest text-xs mt-6",children:"Refinement is where the truth hardens."}),e.jsx("p",{children:"As I rewrote them for Substack, splitting stories into manageable chunks, I learned how to edit, how to introduce, and how to exit. I refined them within the Substack ecosystem, and by the time I was putting my book together, those refined digital versions had become something far more powerful than the original ink."})]}),e.jsxs("div",{className:"lg:col-span-2 order-1 lg:order-2 sticky top-64 lg:text-right",children:[e.jsx("h2",{className:"text-orange-500 text-[11px] font-black uppercase tracking-[0.5em] mb-4 lg:border-r-2 lg:border-l-0 border-l-2 border-orange-500 lg:pr-4 lg:pl-0 pl-4",children:"Movement 02"}),e.jsx("h3",{className:"text-4xl font-serif italic text-white glow-white",children:"The Digital Bridge."})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-5 gap-16 items-start",children:[e.jsxs("div",{className:"lg:col-span-2 sticky top-64",children:[e.jsx("h2",{className:"text-orange-500 text-[11px] font-black uppercase tracking-[0.5em] mb-4 border-l-2 border-orange-500 pl-4",children:"Movement 03"}),e.jsx("h3",{className:"text-4xl font-serif italic text-white glow-white",children:"Bypassing the Gate."})]}),e.jsxs("div",{className:"lg:col-span-3 prose prose-invert prose-lg text-gray-400 font-light leading-loose",children:[e.jsx("p",{children:"I saw the barriers firsthand. It could be the best story ever written, but in my circumstances, nobody wanted to hear it. Traditional publishing wasn't going to give me a chance."}),e.jsx("p",{className:"bg-white/5 border border-white/10 p-10 rounded-sm italic text-xl text-gray-300 shadow-2xl",children:'"A Captive Audience was originally just a clever name for a Substack channel. It became a publishing house when I realized that self-publishing was the only way to seize sovereignty over our words."'}),e.jsx("p",{children:"The name took on a new lifeâ€”a publishing company designed to give voices a stage they were never meant to have."})]})]}),e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 p-12 lg:p-24 rounded-sm text-center relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),e.jsx("span",{className:"text-orange-500 tracking-[0.8em] uppercase text-[10px] font-black mb-8 block glow-orange",children:"The Invitation"}),e.jsxs("h3",{className:"text-5xl md:text-7xl font-serif italic text-white mb-12 glow-white tracking-tighter leading-none",children:["Your truth needs to be ",e.jsx("span",{className:"text-orange-500",children:"heard."})]}),e.jsx("p",{className:"text-xl text-gray-500 font-light italic leading-relaxed max-w-2xl mx-auto mb-16",children:`"I've included all the tools I wish I had when I first started writing. I hope you connect with your words and this technology to produce results that change livesâ€”just like these stories changed mine."`}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-8",children:e.jsx(I,{to:"/author-builder",className:"bg-orange-500 hover:bg-orange-600 text-white px-16 py-6 font-black tracking-[0.5em] uppercase text-[10px] transition-all animate-pulse-orange shadow-2xl rounded-sm",children:"Start Your Sheet"})})]})]}),e.jsx("style",{children:`
        @keyframes slide-up { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-slide-up { animation: slide-up 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .animate-fade-in { animation: fade-in 2s ease-out forwards; }
      `})]}),Ai=()=>{const t=$e(),{startSession:a}=Gt(),[r,s]=l.useState(!1),[n,i]=l.useState(!1),[o,c]=l.useState(!1),d=async()=>{c(!0);try{await a(),t("/author-builder")}catch{c(!1),alert("Acoustic Link failed. Check hardware.")}};return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white pt-32 pb-32 font-sans relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-500/5 to-transparent pointer-events-none"}),e.jsxs("section",{className:"max-w-4xl mx-auto px-6 relative z-10",children:[e.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 text-[10px] font-black uppercase tracking-[0.4em] mb-12 block hover:text-white transition-colors",children:"â† Abort Entry"}),e.jsxs("div",{className:"space-y-16",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.8em] uppercase text-[10px] font-black block animate-pulse",children:"Sovereign Protocol v8.0"}),e.jsxs("h1",{className:"text-6xl md:text-8xl font-serif font-black italic text-white tracking-tighter leading-none uppercase",children:["Forge ",e.jsx("br",{}),e.jsx("span",{className:"text-[var(--accent)]",children:"Guardrails."})]}),e.jsx("p",{className:"text-xl text-gray-500 font-light italic leading-relaxed max-w-2xl",children:'"Before the anvil is revealed, you must acknowledge the tech and the truth."'})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-xs font-black uppercase tracking-[0.4em] text-[var(--accent)] border-b border-white/5 pb-2",children:"01. Acoustic Link"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-8 bg-[#0a0a0a] border border-white/5 rounded-sm hover:border-[var(--accent)]/30 transition-all group",children:[e.jsx("h3",{className:"text-white text-[10px] font-black uppercase tracking-widest mb-3",children:"Latency Logic"}),e.jsxs("p",{className:"text-gray-500 text-sm font-serif italic leading-relaxed",children:["The Forge has a ",e.jsx("span",{className:"text-white font-bold underline decoration-[var(--accent)]",children:"3-second delay"}),". Do not speak over Rap while she is processing."]})]}),e.jsxs("div",{className:"p-8 bg-[#0a0a0a] border border-white/5 rounded-sm hover:border-[var(--accent)]/30 transition-all group",children:[e.jsx("h3",{className:"text-white text-[10px] font-black uppercase tracking-widest mb-3",children:"Frequency Purity"}),e.jsx("p",{className:"text-gray-500 text-sm font-serif italic leading-relaxed",children:"Background noise threatens transcription integrity. Your frequency is your ink."})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-xs font-black uppercase tracking-[0.4em] text-cyan-500 border-b border-white/5 pb-2",children:"02. Narrative Protocol"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-8 bg-[#0a0a0a] border border-white/5 rounded-sm hover:border-cyan-500/30 transition-all group",children:[e.jsx("h3",{className:"text-white text-[10px] font-black uppercase tracking-widest mb-3",children:"PII Responsibility"}),e.jsx("p",{className:"text-gray-500 text-sm font-serif italic leading-relaxed",children:"Redact real names of staff and victims. We provide pseudonyms, but you provide the final audit."})]}),e.jsxs("div",{className:"p-8 bg-red-900/10 border border-red-500/30 rounded-sm hover:bg-red-900/20 transition-all group",children:[e.jsx("h3",{className:"text-white text-[10px] font-black uppercase tracking-widest mb-3",children:"Terminal Boundaries"}),e.jsx("p",{className:"text-gray-400 text-sm font-serif italic leading-relaxed",children:"Sexually explicit or gratuitously violent fetishism will terminate the link immediately."})]})]})]})]}),e.jsxs("div",{className:"pt-8 space-y-6 bg-black/60 p-10 border border-white/10 rounded-sm shadow-2xl",children:[e.jsxs("label",{className:"flex items-center gap-6 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:u=>s(u.target.checked),className:"w-8 h-8 rounded-sm bg-black border-white/10 checked:bg-[var(--accent)] transition-all cursor-pointer appearance-none border"}),r&&e.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-black font-black",children:"âœ“"})]}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-gray-500 group-hover:text-white transition-colors",children:"I accept the Acoustic Latency and Mic Protocols."})]}),e.jsxs("label",{className:"flex items-center gap-6 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:u=>i(u.target.checked),className:"w-8 h-8 rounded-sm bg-black border-white/10 checked:bg-[var(--accent)] transition-all cursor-pointer appearance-none border"}),n&&e.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-black font-black",children:"âœ“"})]}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-gray-500 group-hover:text-white transition-colors",children:"I will protect identities and maintain the Yard-Voice standard."})]}),e.jsxs("button",{onClick:d,disabled:!r||!n||o,className:`w-full py-12 mt-8 text-[12px] font-black uppercase tracking-[0.8em] shadow-2xl transition-all rounded-sm relative overflow-hidden ${r&&n?"animate-living-amber-bg text-white hover:scale-[1.02]":"bg-white/5 text-gray-800 cursor-not-allowed"}`,children:[o?"Linking Hardware...":"Initialize WRAPP CHAT",e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-white/20 animate-progress-fast",style:{width:o?"100%":"0%"}})]})]})]})]})]})},Ii=()=>{const t=$e(),{isActive:a,isConnecting:r,isThinking:s,status:n,wrapTranscription:i,startSession:o,stopSession:c,sendHandshake:d}=Gt(),u=async()=>{a?d("WRAP, please guide me to the Forge for a tour."):await o("Hello WRAP. Please give me a tour of the Forge page."),setTimeout(()=>t("/author-builder"),1e3)};return e.jsxs("div",{className:"bg-[#020202] min-h-screen text-white flex flex-col font-sans overflow-hidden",children:[e.jsxs("header",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-black",children:[e.jsx("button",{onClick:()=>t("/author-builder"),className:"text-gray-600 text-[10px] font-black uppercase tracking-[0.4em] hover:text-white transition-colors",children:"â† Exit Studio"}),e.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-green-500":"text-[var(--accent)]"}`,children:n})]}),e.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center max-w-5xl mx-auto w-full px-6 relative",children:[!a&&!r&&e.jsxs("div",{className:"text-center space-y-12 animate-fade-in",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-7xl md:text-[8rem] font-serif font-black italic text-white tracking-tighter leading-none uppercase",children:["Acoustic ",e.jsx("br",{}),e.jsx("span",{className:"text-[var(--accent)] animate-living-accent",children:"Link."})]}),e.jsx("p",{className:"text-2xl text-gray-500 font-light italic max-w-xl mx-auto leading-relaxed",children:'"Talk freely. Your story will be captured automatically."'})]}),e.jsx("button",{onClick:()=>o(),className:"px-24 py-8 text-white text-[12px] font-black uppercase tracking-[0.8em] shadow-2xl transition-all rounded-sm animate-living-amber-bg",children:"Initialize Link"})]}),r&&e.jsxs("div",{className:"flex flex-col items-center gap-12",children:[e.jsx("div",{className:"w-32 h-32 border-2 border-white/5 rounded-full flex items-center justify-center relative",children:e.jsx("div",{className:"absolute inset-0 border-t-2 border-[var(--accent)] rounded-full animate-spin"})}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.6em] text-[var(--accent)] animate-pulse",children:"Establishing Connection..."})]}),a&&e.jsxs("div",{className:"w-full h-full flex flex-col gap-10 animate-fade-in py-12",children:[e.jsx("div",{className:"flex-grow flex flex-col items-center justify-center relative group",children:e.jsxs("div",{className:"w-full max-w-4xl text-center space-y-8",children:[e.jsx("div",{className:`transition-all duration-700 min-h-[160px] flex flex-col items-center justify-center ${s?"opacity-30 blur-sm":"opacity-100 blur-0"}`,children:e.jsx("p",{className:"text-4xl md:text-6xl font-serif italic text-white leading-tight tracking-tight",children:i||"Listening..."})}),s&&e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em] text-[var(--accent)] animate-pulse",children:"Working..."})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 pb-12",children:[e.jsx("button",{onClick:c,className:"group px-12 py-6 bg-black border border-white/5 text-[10px] font-black uppercase tracking-[0.5em] text-gray-500 hover:text-white transition-all rounded-sm",children:"Finish Session"}),e.jsx("button",{onClick:u,className:"px-12 py-6 text-white text-[10px] font-black uppercase tracking-[0.5em] shadow-xl transition-all rounded-sm animate-living-amber-bg",children:"Tour the Forge"})]})]})]}),e.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 1.5s ease-out forwards; }
      `})]})},Ti=()=>{const t=[{title:"Movement 1: The Sovereign Welcome (Atmosphere & Intent)",text:`"Author, the link is solid. You are standing in the Sovereign Forgeâ€”a workspace where the 'Grammar Barrier' is dismantled. Here, you are able to tell, or type your story. You can call me Rap, your Writing, Revision, Articulation and Polishing Partner on the wire. You can change my name, or yours, in the profile settings. Are you ready to transform raw truth and fiction into retail-ready manuscripts?"`},{title:"Movement 2: The Hub Mechanics (The Four Core Blocks)",text:`"Where you are seeing my words is a digital sheet of paper that we call, the Sheet. Above it you might notice a flashing orange box. That's The Write block, it captures your truth. The Revise block performs structural scrubs without stripping the grit. The Articulate block tunes me up to read your stories back to you. And the Polish block masterfully prepares your Sheet for export. Each station is specialized for a different stage of the forge."`},{title:"Movement 3: The Perimeter (Navigator & Partner Sidebars)",text:`"Finally, observe the perimeter. To your left, the Navigator lets you start a new sheet and secures your history in the Vault. To your right, the Partner desk is where our dialogue livesâ€”ask me for insights, legal safety checks, or scene Manifestations there. Don't forget to choose your story type or region, because that helps me know how to guide your flow. Hit the WRAPP PROFILE heading to go to profiles and change things up. Also, the glowing orange lines can be moved to customise your workspace, which I will now leave you with...don't forget to have fun."`}],a=[{id:"sovereign-spine",title:"The Sovereign Spine (v8.0)",items:[{name:"Acoustic Ink",desc:"During orientation, transcription flows directly into the digital sheet, splitting greetings into headings and descriptions into body text. Typing speed is throttled to 45ms to mirror natural speech rhythm."},{name:"Grit Sovereignty",desc:"Dialect and slang are treated as high-value assets, not errors. The engine is hard-coded to ignore standard grammar conventions that threaten the author's authentic regional yard-voice."},{name:"Operational Security Layer",desc:"Automated redaction of PII (Personally Identifiable Information). Real names of COs, staff, facilities, or victims are flagged and substituted with realistic fictional pseudonyms."}]},{id:"hierarchy-of-control",title:"Mastering Suite: Levels of Control",items:[{name:"L1: RINSE",desc:"Surface-level punctuation and typo fixes. Zero voice impact."},{name:"L2: WASH",desc:"Transition smoothing. Maintains 100% regional dialect."},{name:"L3: SCRUB",desc:"Structural forging. Narratives are weighted for maximum impact."},{name:"L4: POLISH",desc:"Literary mastering. High-intensity vocabulary injection."}]}];return e.jsxs("div",{className:"bg-[#050505] min-h-screen text-white font-sans selection:bg-orange-500/30 pb-32",children:[e.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-24 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500 animate-pulse"}),e.jsx("span",{className:"text-cyan-500 tracking-[0.8em] uppercase text-[10px] font-black block",children:"Clearance Level: ARCHITECT"})]}),e.jsxs("h1",{className:"text-6xl md:text-9xl font-serif font-black italic text-white tracking-tighter leading-none mb-6 uppercase",children:["SOVEREIGN ",e.jsx("br",{}),e.jsx("span",{className:"text-cyan-500",children:"BLUEPRINTS."})]}),e.jsx("p",{className:"text-xl text-gray-500 font-light italic leading-relaxed max-w-2xl",children:'"The master record of process, description, and industrial intent. Reference v8.0."'})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 space-y-32",children:[e.jsxs("section",{className:"space-y-12",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-grow bg-white/10"}),e.jsx("h2",{className:"text-[11px] font-black uppercase tracking-[0.8em] text-[var(--accent)]",children:"Operational Scripts"}),e.jsx("div",{className:"h-px flex-grow bg-white/10"})]}),e.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>e.jsxs("div",{className:"p-10 bg-[#0a0a0a] border border-white/5 rounded-sm group hover:border-[var(--accent)]/30 transition-all",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--accent)] mb-4",children:r.title}),e.jsx("p",{className:"text-xl font-serif italic text-gray-400 leading-relaxed group-hover:text-white transition-colors",children:r.text})]},s))})]}),e.jsx("div",{className:"grid lg:grid-cols-2 gap-16",children:a.map(r=>e.jsxs("div",{className:"space-y-10 bg-[#0a0a0a] border border-white/5 p-12 rounded-sm shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.02] text-6xl font-serif italic pointer-events-none select-none",children:r.id.toUpperCase()}),e.jsx("h2",{className:"text-3xl font-serif italic text-white border-b border-cyan-500/20 pb-6",children:r.title}),e.jsx("div",{className:"space-y-8",children:r.items.map((s,n)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-cyan-400 text-[10px] font-black uppercase tracking-widest",children:s.name}),e.jsxs("p",{className:"text-gray-400 text-sm font-light leading-relaxed italic",children:['"',s.desc,'"']})]},n))})]},r.id))}),e.jsxs("div",{className:"mt-20 p-12 bg-white/5 border border-white/10 rounded-sm text-center",children:[e.jsx("h3",{className:"text-xl font-serif italic text-white mb-4",children:"Continuous Evolution Protocol"}),e.jsx("p",{className:"text-gray-500 text-sm font-light max-w-2xl mx-auto",children:"This page is the immutable context for the platform's development. Every major shift in the Sovereign Forge logic must be documented here to maintain architectural integrity."}),e.jsx("div",{className:"mt-10",children:e.jsx(I,{to:"/author-builder",className:"text-cyan-400 text-[10px] font-black uppercase tracking-[0.4em] hover:text-white transition-all underline underline-offset-8",children:"Return to Active Forging"})})]})]})]})},_i=({onReportBug:t})=>{const[a,r]=l.useState(!1),s=({to:n,label:i,variant:o="default"})=>e.jsx(I,{to:n,className:`px-3 py-2 text-[10px] font-black tracking-[0.3em] uppercase transition-all whitespace-nowrap
        ${o==="orange"?"text-white animate-living-accent":"text-gray-400 hover:text-white"}`,children:i});return e.jsxs("nav",{className:"fixed w-full z-[100] bg-[#050505]/80 backdrop-blur-2xl border-b border-white/[0.03]",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-[var(--accent)]/30 to-transparent"}),e.jsxs("div",{className:"w-full h-24 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center h-full",children:[e.jsx("div",{className:"w-80 flex justify-center items-center h-full pt-32 overflow-visible pointer-events-none",children:e.jsx(I,{to:"/",className:"group block overflow-visible pointer-events-auto",children:e.jsx(Ut,{variant:"light",className:"h-48 w-auto transition-all duration-500 group-hover:scale-105"})})}),e.jsx("div",{className:"hidden xl:flex items-center self-end pb-8 ml-8",children:e.jsxs(I,{to:"/origin-story",className:"text-[8px] font-black uppercase tracking-[0.4em] flex items-center gap-2 hover:opacity-100 transition-all group",style:{color:"var(--accent)"},children:[e.jsx("span",{className:"w-1 h-1 rounded-full animate-pulse animate-living-amber-bg"}),"Origin Story",e.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity ml-1",children:"â†’"})]})})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6 pr-12 lg:pr-20",children:[e.jsx(s,{to:"/published-books",label:"Books"}),e.jsx(s,{to:"/narratives",label:"Archive"}),e.jsx(s,{to:"/author-builder",label:"Forge",variant:"orange"}),e.jsx(s,{to:"/sovereign-vault",label:"The Vault"}),e.jsx(I,{to:"/wrap-it-up",className:"animate-living-amber-bg text-white px-5 py-2 text-[9px] font-black tracking-[0.3em] uppercase transition-all hover:brightness-110 rounded-sm",children:"Mastering"}),e.jsx("div",{className:"h-4 w-[1px] bg-white/10 mx-2"}),e.jsxs("button",{onClick:t,className:"text-red-500/40 hover:text-red-500 px-2 py-2 text-[9px] font-black tracking-[0.3em] uppercase transition-all flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)]"}),"Report"]})]}),e.jsx("div",{className:"md:hidden flex items-center pr-6",children:e.jsx("button",{onClick:()=>r(!a),className:"p-2 text-gray-400 hover:text-white",children:e.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:a?"M6 18L18 6 ":"M4 8h16M4 16h16"})})})})]}),e.jsx("div",{className:`${a?"block":"hidden"} md:hidden bg-[#050505] h-screen border-t border-white/5`,children:e.jsxs("div",{className:"px-12 pt-12 pb-3 space-y-8 flex flex-col items-center",children:[e.jsx(I,{to:"/",onClick:()=>r(!1),className:"text-gray-300 text-3xl font-serif italic py-2",children:"Home"}),e.jsx(I,{to:"/published-books",onClick:()=>r(!1),className:"text-gray-300 text-3xl font-serif italic py-2",children:"Books"}),e.jsx(I,{to:"/narratives",onClick:()=>r(!1),className:"text-gray-300 text-3xl font-serif italic py-2",children:"Archive"}),e.jsx(I,{to:"/author-builder",onClick:()=>r(!1),className:"text-[var(--accent)] text-3xl font-serif italic py-2 animate-living-accent",children:"Forge"}),e.jsx(I,{to:"/sovereign-vault",onClick:()=>r(!1),className:"text-[var(--accent)] text-3xl font-serif italic py-2",children:"Vault"})]})})]})},Li=()=>{const t=a=>{a.preventDefault(),window.dispatchEvent(new CustomEvent("aca:open_mic_check"))};return e.jsx("footer",{className:"bg-[#050505] border-t border-white/5 pt-24 pb-12 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsxs("div",{className:"grid lg:grid-cols-4 gap-16 mb-24",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(Ut,{variant:"light",className:"mb-10 w-48 h-auto origin-left"}),e.jsx("p",{className:"text-gray-500 max-w-sm mb-10 leading-relaxed text-sm",children:"A digital media platform curating authentic human experiences. Built at the intersection of literature, justice, technology, and empathy."})]}),e.jsxs("div",{className:"z-20",children:[e.jsx("h3",{className:"text-white font-bold mb-8 uppercase text-xs tracking-[0.3em]",children:"The Platform"}),e.jsxs("ul",{className:"space-y-4 text-gray-500 text-xs font-bold uppercase tracking-widest",children:[e.jsx("li",{children:e.jsx(I,{to:"/published-books",className:"hover:text-white transition-colors",children:"Published Books"})}),e.jsx("li",{children:e.jsx(I,{to:"/virty-dating",className:"hover:text-cyan-400 transition-colors text-cyan-500/80 uppercase",children:"VIRTY System Logic"})}),e.jsx("li",{children:e.jsx(I,{to:"/origin-story",className:"hover:text-white transition-colors italic text-white/80",children:"The Origin Story"})}),e.jsx("li",{children:e.jsx(I,{to:"/substack-bridge",className:"hover:text-white transition-colors text-[var(--accent)]",children:"Substack Bridge"})}),e.jsx("li",{children:e.jsx(I,{to:"/art-gallery",className:"hover:text-white transition-colors",children:"Art Gallery"})}),e.jsx("li",{children:e.jsx(I,{to:"/security",className:"hover:text-white transition-colors",children:"Privacy Shield"})}),e.jsx("li",{children:e.jsx(I,{to:"/support",className:"hover:text-white transition-colors",children:"Support Hub"})})]})]}),e.jsxs("div",{className:"z-20",children:[e.jsx("h3",{className:"text-white font-bold mb-8 uppercase text-xs tracking-[0.3em]",children:"Sovereign System"}),e.jsxs("ul",{className:"space-y-4 text-gray-500 text-xs font-bold uppercase tracking-widest mb-10",children:[e.jsx("li",{children:e.jsxs("button",{onClick:t,className:"hover:text-[var(--accent)] transition-colors text-left flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-[var(--accent)] animate-pulse"}),"Mic Check & Calibration"]})}),e.jsx("li",{children:e.jsx(I,{to:"/blueprints",className:"text-cyan-500/60 hover:text-cyan-400 transition-all uppercase tracking-[0.2em] font-black",children:"Forge Blueprints"})}),e.jsxs("li",{className:"pt-4 border-t border-white/5 opacity-40",children:[e.jsx("p",{className:"text-[7px] text-gray-600 mb-1 uppercase font-black",children:"Sync Manifest"}),e.jsxs("p",{className:"text-[8px] text-green-500 flex items-center gap-2 font-black uppercase tracking-widest",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full shadow-[0_0_8px_#22c55e]"}),"Build Active: V5"]})]})]}),e.jsx("h3",{className:"text-white font-bold mb-8 uppercase text-xs tracking-[0.3em]",children:"Updates"}),e.jsxs("div",{className:"flex border-b border-white/20 pb-2 group focus-within:border-[var(--accent)] transition-colors",children:[e.jsx("input",{type:"email",placeholder:"EMAIL ADDRESS",className:"bg-transparent border-none px-0 py-2 text-[10px] font-bold tracking-widest focus:outline-none w-full placeholder:text-gray-700"}),e.jsx("button",{className:"text-[var(--accent)] hover:text-white transition-colors text-[10px] font-bold tracking-widest px-2 uppercase",children:"Join"})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-[10px] text-gray-600 uppercase tracking-[0.3em] font-black",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsx("p",{children:"Â© 2026 A Captive Audience."})}),e.jsx("p",{className:"mt-4 md:mt-0 italic opacity-40",children:"Mark Mi Words Studio"})]})]})})},Oi=({isOpen:t,onClose:a})=>{const[r,s]=l.useState(""),[n,i]=l.useState("bug"),[o,c]=l.useState(!1);if(!t)return null;const d=async u=>{u.preventDefault();try{(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:n,report:r})})).ok?(c(!0),setTimeout(()=>{c(!1),s(""),a()},2e3)):console.error("Failed to submit feedback")}catch(x){console.error("Error submitting feedback:",x)}};return e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-xl flex items-center justify-center p-4 md:p-6",children:e.jsxs("div",{className:"max-w-2xl w-full bg-[#0d0d0d] border border-white/10 shadow-2xl p-6 md:p-12 relative animate-fade-in",children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 md:top-6 md:right-6 text-gray-500 hover:text-white text-2xl",children:"Ã—"}),e.jsxs("h3",{className:"text-2xl md:text-4xl font-serif font-bold italic text-white mb-4",children:["Stablemate ",e.jsx("span",{className:"text-orange-500",children:"Feedback."})]}),e.jsx("p",{className:"text-gray-500 text-xs italic mb-8 uppercase tracking-widest",children:"Help refine the digital bridge for the worldwide justice ecosystem."}),o?e.jsxs("div",{className:"py-20 text-center animate-fade-in",children:[e.jsx("h4",{className:"text-xl md:text-2xl font-serif italic text-white mb-2",children:"Registry Logged"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest italic",children:"The Architect is reviewing your input now."})]}):e.jsxs("form",{onSubmit:d,className:"space-y-6 md:space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["bug","feature","narrative"].map(u=>e.jsx("button",{type:"button",onClick:()=>i(u),className:`p-4 text-[9px] font-black uppercase tracking-widest border transition-all rounded-sm ${n===u?"bg-orange-500 border-orange-500 text-white":"border-white/10 text-gray-600 hover:text-white"}`,children:u},u))}),e.jsx("textarea",{required:!0,value:r,onChange:u=>s(u.target.value),placeholder:`DESCRIBE YOUR ${n.toUpperCase()}...`,className:"w-full bg-black border border-white/10 p-4 md:p-6 text-sm font-serif focus:border-orange-500 outline-none text-gray-300 min-h-[150px] resize-none"}),e.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-8 py-4 md:px-12 md:py-5 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-orange-600 transition-all shadow-lg w-full",children:"Submit Feedback"})]})]})})},Pi=()=>{const[t,a]=l.useState(!1),[r,s]=l.useState("idle"),[n,i]=l.useState(0),[o,c]=l.useState(!0),d=l.useRef(null),u=l.useRef(null),x=l.useRef(null),p=l.useRef(null);l.useEffect(()=>{const b=()=>{s("idle"),i(0),a(!0)};return window.addEventListener("aca:open_mic_check",b),()=>window.removeEventListener("aca:open_mic_check",b)},[]);const m=()=>{p.current&&cancelAnimationFrame(p.current),x.current&&x.current.getTracks().forEach(b=>b.stop()),d.current&&d.current.close(),p.current=null,x.current=null,d.current=null},h=async()=>{s("calibrating");try{const b=await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:o,echoCancellation:!0,autoGainControl:!0}});x.current=b;const v=new(window.AudioContext||window.webkitAudioContext);d.current=v,v.state==="suspended"&&await v.resume();const N=v.createMediaStreamSource(b),f=v.createAnalyser();f.fftSize=256,N.connect(f),u.current=f;const w=f.frequencyBinCount,j=new Uint8Array(w),g=()=>{if(!u.current)return;u.current.getByteFrequencyData(j);let T=0;for(let Y=0;Y<w;Y++)T+=j[Y];const _=T/w,M=Math.min(100,_/128*100);i(M),M>10&&s("ready"),p.current=requestAnimationFrame(g)};g()}catch{s("denied")}},y=()=>{m(),sessionStorage.setItem("aca_handshake_v2_complete","true"),a(!1)};return t?e.jsx("div",{className:"fixed inset-0 z-[5000] bg-black/95 backdrop-blur-3xl flex items-center justify-center p-6 animate-fade-in",children:e.jsxs("div",{className:"max-w-xl w-full bg-[#0a0a0a] border border-white/10 p-12 rounded-sm shadow-2xl relative",children:[e.jsx("button",{onClick:()=>a(!1),className:"absolute top-6 right-6 text-gray-700 hover:text-white transition-colors text-2xl leading-none",children:"Ã—"}),e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("span",{className:"text-[var(--accent)] tracking-[0.5em] uppercase text-[9px] font-black block",children:"Acoustic Link"}),e.jsx("h2",{className:"text-4xl font-serif italic text-white tracking-tighter uppercase",children:"Calibration."}),e.jsx("p",{className:"text-gray-500 text-sm italic font-light",children:`"Before establishing an acoustic link, let's make sure your environment is ready for transcription."`})]}),e.jsxs("div",{className:"mt-10 space-y-8",children:[r==="idle"&&e.jsx("button",{onClick:h,className:"w-full py-6 animate-living-amber-bg text-white text-[11px] font-black uppercase tracking-[0.5em] shadow-2xl transition-all rounded-sm",children:"Initiate Mic Link"}),(r==="calibrating"||r==="ready")&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"h-16 bg-black border border-white/5 rounded-sm overflow-hidden flex items-end gap-1 p-2",children:[...Array(20)].map((b,v)=>e.jsx("div",{className:"flex-grow bg-[var(--accent)] transition-all duration-75",style:{height:`${n>5?Math.random()*n+10:5}%`,opacity:.3+v/20}},v))})}),r==="ready"&&e.jsx("button",{onClick:y,className:"w-full py-6 bg-green-500 text-white text-[11px] font-black uppercase tracking-[0.5em] rounded-sm hover:brightness-110 shadow-xl",children:"Complete Calibration"}),r==="denied"&&e.jsxs("div",{className:"p-8 bg-red-500/10 border border-red-500/30 text-center rounded-sm",children:[e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest",children:"Acoustic Error"}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Please enable microphone access in your browser settings to continue."})]})]})]})}):null},Mi=()=>{const{pathname:t}=Se();return l.useEffect(()=>{window.scrollTo(0,0),t==="/"?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[t]),null},Bi=()=>{const[t,a]=l.useState(!1);return l.useEffect(()=>{try{const r=je("aca_author_profile",{theme:"amber"});r&&r.theme&&r.theme!=="amber"?(document.body.className=`theme-${r.theme}`,document.documentElement.className=`theme-${r.theme}`):(document.body.className="",document.documentElement.className="")}catch(r){console.warn("Theme initialization failed",r)}},[]),e.jsx(ti,{children:e.jsx(Ps,{children:e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#050505]",children:[e.jsx(Mi,{}),e.jsx(Pi,{}),e.jsx(_i,{onReportBug:()=>a(!0)}),e.jsx("main",{className:"flex-grow pt-0 md:pt-24 relative",children:e.jsxs(hs,{children:[e.jsx(V,{path:"/",element:e.jsx(Ys,{})}),e.jsx(V,{path:"/storefront",element:e.jsx(Zs,{})}),e.jsx(V,{path:"/published-books",element:e.jsx(Zn,{})}),e.jsx(V,{path:"/book/:slug",element:e.jsx(sn,{})}),e.jsx(V,{path:"/narratives",element:e.jsx(ei,{})}),e.jsx(V,{path:"/art-gallery",element:e.jsx(di,{})}),e.jsx(V,{path:"/mission",element:e.jsx(hi,{})}),e.jsx(V,{path:"/why-publish",element:e.jsx(ui,{})}),e.jsx(V,{path:"/substack-bridge",element:e.jsx(xi,{})}),e.jsx(V,{path:"/support",element:e.jsx(mi,{})}),e.jsx(V,{path:"/security",element:e.jsx(gi,{})}),e.jsx(V,{path:"/virty-dating",element:e.jsx(bi,{})}),e.jsx(V,{path:"/wrapper-info",element:e.jsx(ki,{})}),e.jsx(V,{path:"/origin-story",element:e.jsx(Ri,{})}),e.jsx(V,{path:"/author-builder",element:e.jsx(ni,{})}),e.jsx(V,{path:"/sovereign-slate",element:e.jsx(vi,{})}),e.jsx(V,{path:"/sovereign-vault",element:e.jsx(Ei,{})}),e.jsx(V,{path:"/wrap-it-up",element:e.jsx(li,{})}),e.jsx(V,{path:"/live-protocol",element:e.jsx(Ai,{})}),e.jsx(V,{path:"/live-link",element:e.jsx(Ii,{})}),e.jsx(V,{path:"/blueprints",element:e.jsx(Ti,{})}),e.jsx(V,{path:"*",element:e.jsx(cs,{to:"/",replace:!0})})]})}),e.jsx(Li,{}),e.jsx(Oi,{isOpen:t,onClose:()=>a(!1)})]})})})};export{Bi as default};
